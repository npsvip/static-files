!function(K,G){"object"==typeof exports&&"undefined"!=typeof module?G(exports):"function"==typeof define&&define.amd?define(["exports"],G):G(K.echarts={})}(this,function(K){function G(a){if(null==a||"object"!=typeof a)return a;var b=a,c=Mf.call(a);if("[object Array]"===c)for(var b=[],c=0,d=a.length;c<d;c++)b[c]=G(a[c]);else if(gu[c])if(b=a.constructor,a.constructor.from)b=b.from(a);else for(b=new b(a.length),c=0,d=a.length;c<d;c++)b[c]=G(a[c]);else if(!vm[c]&&!a[ye]&&!ze(a))for(d in b={},a)a.hasOwnProperty(d)&&(b[d]=G(a[d]));return b}function L(a,b,c){if(!T(b)||!T(a))return c?G(b):a;for(var d in b)if(b.hasOwnProperty(d)){var e=a[d],f=b[d];!T(f)||!T(e)||A(f)||A(e)||ze(f)||ze(e)||di(f)||di(e)||f[ye]||e[ye]?!c&&d in a||(a[d]=G(b[d],!0)):L(e,f,c)}return a}function Ae(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)c=L(c,a[d],b);return c}function I(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function J(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(c?null!=b[d]:null==a[d])&&(a[d]=b[d]);return a}function wm(){return ei||(ei=Gd().getContext("2d")),ei}function S(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c}return-1}function ka(a,b){function c(){}var d=a.prototype;c.prototype=b.prototype;a.prototype=new c;for(var e in d)a.prototype[e]=d[e];a.prototype.constructor=a;a.superClass=b}function M(a,b,c){J("prototype"in a?a.prototype:a,"prototype"in b?b.prototype:b,c)}function Uc(a){if(a)return"string"!=typeof a&&"number"==typeof a.length}function r(a,b,c){if(a&&b)if(a.forEach&&a.forEach===hu)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e;d++)b.call(c,a[d],d,a);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function w(a,b,c){if(a&&b){if(a.map&&a.map===iu)return a.map(b,c);for(var d=[],e=0,f=a.length;e<f;e++)d.push(b.call(c,a[e],e,a));return d}}function Hd(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===ju)return a.reduce(b,c,d);for(var e=0,f=a.length;e<f;e++)c=b.call(d,c,a[e],e,a);return c}}function Ca(a,b,c){if(a&&b){if(a.filter&&a.filter===ku)return a.filter(b,c);for(var d=[],e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)&&d.push(a[e]);return d}}function z(a,b){var c=Be.call(arguments,2);return function(){return a.apply(b,c.concat(Be.call(arguments)))}}function C(a){var b=Be.call(arguments,1);return function(){return a.apply(this,b.concat(Be.call(arguments)))}}function A(a){return"[object Array]"===Mf.call(a)}function jc(a){return"function"==typeof a}function Da(a){return"[object String]"===Mf.call(a)}function T(a){var b=typeof a;return"function"===b||!!a&&"object"==b}function di(a){return!!vm[Mf.call(a)]}function ze(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function Ce(a){return a!==a}function Ea(a){for(var b=0,c=arguments.length;b<c;b++)if(null!=arguments[b])return arguments[b]}function Ba(a,b){return null!=a?a:b}function Vc(a,b,c){return null!=a?a:null!=b?b:c}function fi(){return Function.call.apply(Be,arguments)}function gi(a){if("number"==typeof a)return[a,a,a,a];var b=a.length;return 2===b?[a[0],a[1],a[0],a[1]]:3===b?[a[0],a[1],a[2],a[1]]:a}function kc(a,b){if(!a)throw Error(b);}function xm(a){a[ye]=!0}function hi(a){a&&r(a,function(a,c){this.set(c,a)},this)}function xa(a){return new hi(a)}function qa(){}function lc(a,b){var c=new ym(2);return null==a&&(a=0),null==b&&(b=0),c[0]=a,c[1]=b,c}function cb(a,b){return a[0]=b[0],a[1]=b[1],a}function Ab(a){var b=new ym(2);return b[0]=a[0],b[1]=a[1],b}function zm(a,b,c){return a[0]=b,a[1]=c,a}function ii(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function De(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function Vb(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function Ee(a){return Math.sqrt(ji(a))}function ji(a){return a[0]*a[0]+a[1]*a[1]}function Nf(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function Id(a,b){var c=Ee(b);return 0===c?(a[0]=0,a[1]=0):(a[0]=b[0]/c,a[1]=b[1]/c),a}function Fe(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function Am(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function Bm(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a}function da(a,b,c){var d=b[0];b=b[1];return a[0]=c[0]*d+c[2]*b+c[4],a[1]=c[1]*d+c[3]*b+c[5],a}function Wb(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function Xb(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function Of(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function Jd(a,b){return{target:a,topTarget:b&&b.topTarget}}function Cm(){}function Yb(){var a=new lu(6);return Ge(a),a}function Ge(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function ki(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function Wc(a,b,c){var d=b[1]*c[0]+b[3]*c[1],e=b[0]*c[2]+b[2]*c[3],f=b[1]*c[2]+b[3]*c[3],g=b[0]*c[4]+b[2]*c[5]+b[4],h=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=b[0]*c[0]+b[2]*c[1],a[1]=d,a[2]=e,a[3]=f,a[4]=g,a[5]=h,a}function Mb(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function Xc(a,b,c){var d=b[0],e=b[2],f=b[4],g=b[1],h=b[3];b=b[5];var k=Math.sin(c);c=Math.cos(c);return a[0]=d*c+g*k,a[1]=-d*k+g*c,a[2]=e*c+h*k,a[3]=-e*k+c*h,a[4]=c*f+k*b,a[5]=c*b-k*f,a}function Pf(a,b,c){var d=c[0];c=c[1];return a[0]=b[0]*d,a[1]=b[1]*c,a[2]=b[2]*d,a[3]=b[3]*c,a[4]=b[4]*d,a[5]=b[5]*c,a}function Qf(a,b){var c=b[0],d=b[2],e=b[4],f=b[1],g=b[3],h=b[5],k=c*g-f*d;return k?(k=1/k,a[0]=g*k,a[1]=-f*k,a[2]=-d*k,a[3]=c*k,a[4]=(d*h-g*e)*k,a[5]=(f*e-c*h)*k,a):null}function Yc(a){return a>Dm||a<-Dm}function li(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null!=a.loop&&a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}function ib(a){return 0>(a=Math.round(a))?0:255<a?255:a}function Rf(a){return 0>a?0:1<a?1:a}function mi(a){return ib(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function Kd(a){return Rf(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function ni(a,b,c){return 0>c?c+=1:1<c&&--c,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function mc(a,b,c){return a+(b-a)*c}function La(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function oi(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function Ld(a,b){Sf&&oi(Sf,b);Sf=Em.put(a,Sf||b.slice())}function jb(a,b){if(a){b=b||[];var c=Em.get(a);if(c)return oi(b,c);c=(a+="").replace(/ /g,"").toLowerCase();if(c in Fm)return oi(b,Fm[c]),Ld(a,b),b;if("#"!==c.charAt(0)){var d=c.indexOf("("),e=c.indexOf(")");if(-1!==d&&e+1===c.length){var f=c.substr(0,d),c=c.substr(d+1,e-(d+1)).split(","),d=1;switch(f){case "rgba":if(4!==c.length)return void La(b,0,0,0,1);d=Kd(c.pop());case "rgb":return 3!==c.length?void La(b,0,0,0,1):(La(b,mi(c[0]),mi(c[1]),mi(c[2]),d),Ld(a,b),b);case "hsla":return 4!==c.length?void La(b,0,0,0,1):(c[3]=Kd(c[3]),pi(c,b),Ld(a,b),b);case "hsl":return 3!==c.length?void La(b,0,0,0,1):(pi(c,b),Ld(a,b),b);default:return}}La(b,0,0,0,1)}else{if(4===c.length)return 0<=(f=parseInt(c.substr(1),16))&&4095>=f?(La(b,(3840&f)>>4|(3840&f)>>8,240&f|(240&f)>>4,15&f|(15&f)<<4,1),Ld(a,b),b):void La(b,0,0,0,1);if(7===c.length)return f=parseInt(c.substr(1),16),0<=f&&16777215>=f?(La(b,(16711680&f)>>16,(65280&f)>>8,255&f,1),Ld(a,b),b):void La(b,0,0,0,1)}}}function pi(a,b){var c=(parseFloat(a[0])%360+360)%360/360,d=Kd(a[1]),e=Kd(a[2]),d=.5>=e?e*(d+1):e+d-e*d,e=2*e-d;return b=b||[],La(b,ib(255*ni(e,d,c+1/3)),ib(255*ni(e,d,c)),ib(255*ni(e,d,c-1/3)),1),4===a.length&&(b[3]=a[3]),b}function Gm(a,b){var c=jb(a);if(c){for(var d=0;3>d;d++)c[d]=0>b?c[d]*(1-b)|0:(255-c[d])*b+c[d]|0;return Zb(c,4===c.length?"rgba":"rgb")}}function Hm(a){if(a=jb(a))return(16777216+(a[0]<<16)+(a[1]<<8)+ +a[2]).toString(16).slice(1)}function He(a,b,c){if(b&&b.length&&0<=a&&1>=a){c=c||[];var d=a*(b.length-1),e=Math.floor(d);a=b[e];b=b[Math.ceil(d)];d-=e;return c[0]=ib(mc(a[0],b[0],d)),c[1]=ib(mc(a[1],b[1],d)),c[2]=ib(mc(a[2],b[2],d)),c[3]=Rf(mc(a[3],b[3],d)),c}}function Im(a,b,c){if(b&&b.length&&0<=a&&1>=a){a*=b.length-1;var d=Math.floor(a),e=Math.ceil(a),f=jb(b[d]);b=jb(b[e]);var g=a-d,f=Zb([ib(mc(f[0],b[0],g)),ib(mc(f[1],b[1],g)),ib(mc(f[2],b[2],g)),Rf(mc(f[3],b[3],g))],"rgba");return c?{color:f,leftIndex:d,rightIndex:e,value:a}:f}}function Md(a,b,c,d){if(a=jb(a)){if(a){var e,f,g=a[0]/255,h=a[1]/255,k=a[2]/255;f=Math.min(g,h,k);var l=Math.max(g,h,k),m=l-f,n=(l+f)/2;if(0===m)f=e=0;else{f=.5>n?m/(l+f):m/(2-l-f);var p=((l-g)/6+m/2)/m,q=((l-h)/6+m/2)/m,m=((l-k)/6+m/2)/m;g===l?e=m-q:h===l?e=1/3+p-m:k===l&&(e=2/3+q-p);0>e&&(e+=1);1<e&&--e}e=[360*e,f,n];a=(null!=a[3]&&e.push(a[3]),e)}else a=void 0;null!=b&&(e=b,b=0>(e=Math.round(e))?0:360<e?360:e,a[0]=b);return null!=c&&(a[1]=Kd(c)),null!=d&&(a[2]=Kd(d)),Zb(pi(a),"rgba")}}function Tf(a,b){if((a=jb(a))&&null!=b)return a[3]=Rf(b),Zb(a,"rgba")}function Zb(a,b){if(a&&a.length){var c=a[0]+","+a[1]+","+a[2];return"rgba"!==b&&"hsva"!==b&&"hsla"!==b||(c+=","+a[3]),b+"("+c+")"}}function mu(a,b){return a[b]}function nu(a,b,c){a[b]=c}function Jm(a,b,c,d,e){var f=a.length;if(1==e)for(e=0;e<f;e++){var g=a[e];d[e]=(b[e]-g)*c+g}else for(g=f&&a[0].length,e=0;e<f;e++)for(var h=0;h<g;h++){var k=a[e][h];d[e][h]=(b[e][h]-k)*c+k}}function Km(a,b,c){var d=a.length,e=b.length;if(d!==e)if(d>e)a.length=e;else for(;d<e;d++)a.push(1===c?b[d]:qi.call(b[d]));e=a[0]&&a[0].length;for(d=0;d<a.length;d++)if(1===c)isNaN(a[d])&&(a[d]=b[d]);else for(var f=0;f<e;f++)isNaN(a[d][f])&&(a[d][f]=b[d][f])}function ou(a,b,c){if(a===b)return!0;var d=a.length;if(d!==b.length)return!1;if(1===c)for(e=0;e<d;e++){if(a[e]!==b[e])return!1}else{c=a[0].length;for(var e=0;e<d;e++)for(var f=0;f<c;f++)if(a[e][f]!==b[e][f])return!1}return!0}function Lm(a,b,c,d,e,f,g,h,k){var l=a.length;if(1==k)for(m=0;m<l;m++)h[m]=ri(a[m],b[m],c[m],d[m],e,f,g);else{k=a[0].length;for(var m=0;m<l;m++)for(var n=0;n<k;n++)h[m][n]=ri(a[m][n],b[m][n],c[m][n],d[m][n],e,f,g)}}function ri(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function pu(a){if(Uc(a)){var b=a.length;if(Uc(a[0])){for(var c=[],d=0;d<b;d++)c.push(qi.call(a[d]));return c}return qi.call(a)}return a}function Mm(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+")"}function qu(a){a=a[a.length-1].value;return Uc(a&&a[0])?2:1}function ru(a,b,c,d,e,f){var g=a._getter,h=a._setter,k="spline"===b,l=d.length;if(l){var m,n=Uc(d[0].value),p=!1,q=!1,t=n?qu(d):0;d.sort(function(a,b){return a.time-b.time});m=d[l-1].time;for(var u=[],v=[],x=d[0].value,r=!0,y=0;y<l;y++){u.push(d[y].time/m);var E=d[y].value;if(n&&ou(E,x,t)||!n&&E===x||(r=!1),x=E,"string"==typeof E){var D=jb(E);D?(E=D,p=!0):q=!0}v.push(E)}if(f||!r){d=v[l-1];for(y=0;y<l-1;y++)n?Km(v[y],d,t):!isNaN(v[y])||isNaN(d)||q||p||(v[y]=d);n&&Km(g(a._target,e),d,t);var H,rb,N,$b,w,A=0,B=0;if(p)var z=[0,0,0,0];a=new li({target:a._target,life:m,loop:a._loop,delay:a._delay,onframe:function(a,b){var c;if(0>b)c=0;else if(b<B){for(c=Math.min(A+1,l-1);0<=c&&!(u[c]<=b);c--);c=Math.min(c,l-2)}else{for(c=A;c<l&&!(u[c]>b);c++);c=Math.min(c-1,l-2)}A=c;B=b;var d=u[c+1]-u[c];if(0!==d)if(H=(b-u[c])/d,k)if(N=v[c],rb=v[0===c?c:c-1],$b=v[c>l-2?l-1:c+1],w=v[c>l-3?l-1:c+2],n)Lm(rb,N,$b,w,H,H*H,H*H*H,g(a,e),t);else{if(p)Lm(rb,N,$b,w,H,H*H,H*H*H,z,1),c=Mm(z);else{if(q)return.5<H?$b:N;c=ri(rb,N,$b,w,H,H*H,H*H*H)}h(a,e,c)}else if(n)Jm(v[c],v[c+1],H,g(a,e),t);else{if(p)Jm(v[c],v[c+1],H,z,1),c=Mm(z);else{if(q)return.5<H?v[c+1]:v[c];d=v[c];c=(v[c+1]-d)*H+d}h(a,e,c)}},ondestroy:c});return b&&"spline"!==b&&(a.easing=b),a}}}function U(a,b,c,d){0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);this.x=a;this.y=b;this.width=c;this.height=d}function Nm(a,b,c,d){var e=b+1;if(e===c)return 1;if(0>d(a[e++],a[b])){for(;e<c&&0>d(a[e],a[e-1]);)e++;c=b;d=e;for(d--;c<d;){var f=a[c];a[c++]=a[d];a[d--]=f}}else for(;e<c&&0<=d(a[e],a[e-1]);)e++;return e-b}function Om(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var f,g=a[d],h=b,k=d;h<k;)0>e(g,a[f=h+k>>>1])?k=f:h=f+1;k=d-h;switch(k){case 3:a[h+3]=a[h+2];case 2:a[h+2]=a[h+1];case 1:a[h+1]=a[h];break;default:for(;0<k;)a[h+k]=a[h+k-1],k--}a[h]=g}}function si(a,b,c,d,e,f){var g=0,h=1;if(0<f(a,b[c+e])){for(d-=e;h<d&&0<f(a,b[c+e+h]);)g=h,0>=(h=1+(h<<1))&&(h=d);h>d&&(h=d);g+=e;h+=e}else{for(d=e+1;h<d&&0>=f(a,b[c+e-h]);)0>=(h=1+(h<<1))&&(h=d);h>d&&(h=d);g=e-h;h=e-g}for(g++;g<h;)e=g+(h-g>>>1),0<f(a,b[c+e])?g=e+1:h=e;return h}function ti(a,b,c,d,e,f){var g=0,h=1;if(0>f(a,b[c+e])){for(d=e+1;h<d&&0>f(a,b[c+e-h]);)0>=(h=1+(h<<1))&&(h=d);h>d&&(h=d);g=e-h;h=e-g}else{for(d-=e;h<d&&0<=f(a,b[c+e+h]);)g=h,0>=(h=1+(h<<1))&&(h=d);h>d&&(h=d);g+=e;h+=e}for(g++;g<h;)e=g+(h-g>>>1),0>f(a,b[c+e])?h=e:g=e+1;return h}function su(a,b){function c(c){var k=d[c],m=e[c],n=d[c+1],p=e[c+1];e[c]=m+p;c===g-3&&(d[c+1]=d[c+2],e[c+1]=e[c+2]);g--;c=ti(a[n],a,k,m,0,b);k+=c;if(0!==(m-=c)&&0!==(p=si(a[k+m-1],a,n,p,p-1,b)))if(m<=p){for(var q=k,k=m,m=p,p=0;p<k;p++)h[p]=a[q+p];c=0;if(a[q++]=a[n++],0!=--m)if(1!==k){for(var t,u,v,x=f;;){u=t=0;v=!1;do if(0>b(a[n],h[c])){if(a[q++]=a[n++],u++,t=0,0==--m){v=!0;break}}else if(a[q++]=h[c++],t++,u=0,1==--k){v=!0;break}while((t|u)<x);if(v)break;do{if(0!==(t=ti(a[n],h,c,k,0,b))){for(p=0;p<t;p++)a[q+p]=h[c+p];if(q+=t,c+=t,1>=(k-=t)){v=!0;break}}if(a[q++]=a[n++],0==--m){v=!0;break}if(0!==(u=si(h[c],a,n,m,0,b))){for(p=0;p<u;p++)a[q+p]=a[n+p];if(q+=u,n+=u,0===(m-=u)){v=!0;break}}if(a[q++]=h[c++],1==--k){v=!0;break}x--}while(t>=Ie||u>=Ie);if(v)break;0>x&&(x=0);x+=2}if(1>(f=x)&&(f=1),1===k){for(p=0;p<m;p++)a[q+p]=a[n+p];a[q+m]=h[c]}else{if(0===k)throw Error();for(p=0;p<k;p++)a[q+p]=h[c+p]}}else{for(p=0;p<m;p++)a[q+p]=a[n+p];a[q+m]=h[c]}else for(p=0;p<k;p++)a[q+p]=h[c+p]}else{for(c=0;c<p;c++)h[c]=a[n+c];q=k+m-1;t=p-1;n=n+p-1;if(a[n--]=a[q--],0!=--m)if(1!==p){for(x=f;;){var r=0,y=0,E=!1;do if(0>b(h[t],a[q])){if(a[n--]=a[q--],r++,y=0,0==--m){E=!0;break}}else if(a[n--]=h[t--],y++,r=0,1==--p){E=!0;break}while((r|y)<x);if(E)break;do{if(0!=(r=m-ti(h[t],a,k,m,m-1,b))){m-=r;v=(n-=r)+1;u=(q-=r)+1;for(c=r-1;0<=c;c--)a[v+c]=a[u+c];if(0===m){E=!0;break}}if(a[n--]=h[t--],1==--p){E=!0;break}if(0!=(y=p-si(a[q],h,0,p,p-1,b))){p-=y;v=(n-=y)+1;u=(t-=y)+1;for(c=0;c<y;c++)a[v+c]=h[u+c];if(1>=p){E=!0;break}}if(a[n--]=a[q--],0==--m){E=!0;break}x--}while(r>=Ie||y>=Ie);if(E)break;0>x&&(x=0);x+=2}if(1>(f=x)&&(f=1),1===p){v=(n-=m)+1;u=q-m+1;for(c=m-1;0<=c;c--)a[v+c]=a[u+c];a[n]=h[t]}else{if(0===p)throw Error();u=n-(p-1);for(c=0;c<p;c++)a[u+c]=h[c]}}else{v=(n-=m)+1;u=q-m+1;for(c=m-1;0<=c;c--)a[v+c]=a[u+c];a[n]=h[t]}else for(u=n-(p-1),c=0;c<p;c++)a[u+c]=h[c]}}var d,e,f=Ie,g=0,h=[];d=[];e=[];this.mergeRuns=function(){for(;1<g;){var a=g-2;if(1<=a&&e[a-1]<=e[a]+e[a+1]||2<=a&&e[a-2]<=e[a]+e[a-1])e[a-1]<e[a+1]&&a--;else if(e[a]>e[a+1])break;c(a)}};this.forceMergeRuns=function(){for(;1<g;){var a=g-2;0<a&&e[a-1]<e[a+1]&&a--;c(a)}};this.pushRun=function(a,b){d[g]=a;e[g]=b;g+=1}}function Uf(a,b,c,d){c||(c=0);d||(d=a.length);var e=d-c;if(!(2>e)){var f=0;if(e<Pm)return f=Nm(a,c,d,b),void Om(a,c,d,c+f,b);var g=new su(a,b),h,f=e;for(h=0;f>=Pm;)h|=1&f,f>>=1;h=f+h;do{if((f=Nm(a,c,d,b))<h){var k=e;k>h&&(k=h);Om(a,c,c+k,c+f,b);f=k}g.pushRun(c,f);g.mergeRuns();e-=f;c+=f}while(0!==e);g.forceMergeRuns()}}function Qm(a,b){return a.zlevel===b.zlevel?a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function tu(a,b,c){var d=null==b.x?0:b.x,e=null==b.x2?1:b.x2,f=null==b.y?0:b.y,g=null==b.y2?0:b.y2;return b.global||(d=d*c.width+c.x,e=e*c.width+c.x,f=f*c.height+c.y,g=g*c.height+c.y),a.createLinearGradient(d,f,e,g)}function uu(a,b,c){var d=c.width,e=c.height,f=Math.min(d,e),g=null==b.x?.5:b.x,h=null==b.y?.5:b.y,k=null==b.r?.5:b.r;return b.global||(g=g*d+c.x,h=h*e+c.y,k*=f),a.createRadialGradient(g,h,0,g,h,k)}function vu(){return!1}function Rm(a,b,c){var d=Gd(),e=b.getWidth();b=b.getHeight();var f=d.style;return f.position="absolute",f.left=0,f.top=0,f.width=e+"px",f.height=b+"px",d.width=e*c,d.height=b*c,d.setAttribute("data-zr-dom-id",a),d}function Sm(a,b,c,d,e){if(a){if("string"==typeof a){if(b&&b.__zrImageSrc===a||!c)return b;var f=ui.get(a);c={hostEl:c,cb:d,cbPayload:e};return f?!Vf(b=f.image)&&f.pending.push(c):(!b&&(b=new Image),b.onload=wu,ui.put(a,b.__cachedImgObj={image:b,pending:[c]}),b.src=b.__zrImageSrc=a),b}return a}return b}function wu(){var a=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload);c.hostEl.dirty()}a.pending.length=0}function Vf(a){return a&&a.width&&a.height}function Ma(a,b){var c=a+":"+(b=b||Je);if(Wf[c])return Wf[c];for(var d=(a+"").split("\n"),e=0,f=0,g=d.length;f<g;f++)e=Math.max(Tm.measureText(d[f],b).width,e);return vi>xu&&(vi=0,Wf={}),vi++,Wf[c]=e,e}function ac(a,b,c,d,e,f,g){f?(f=wi(a,{rich:f,truncate:g,font:b,textAlign:c,textPadding:e}),e=f.outerWidth,f=f.outerHeight,c=new U(Ke(0,e,c),Le(0,f,d),e,f)):(f=Um(a,b,e,g),a=Ma(a,b),e&&(a+=e[1]+e[3]),e=f.outerHeight,c=new U(Ke(0,a,c),Le(0,e,d),a,e),c=(c.lineHeight=f.lineHeight,c));return c}function Ke(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function Le(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function xi(a,b,c){var d=b.x,e=b.y,f=b.height;b=b.width;var g=f/2,h="left",k="top";switch(a){case "left":d-=c;e+=g;h="right";k="middle";break;case "right":d+=c+b;e+=g;k="middle";break;case "top":d+=b/2;e-=c;h="center";k="bottom";break;case "bottom":d+=b/2;e+=f+c;h="center";break;case "inside":d+=b/2;e+=g;h="center";k="middle";break;case "insideLeft":d+=c;e+=g;k="middle";break;case "insideRight":d+=b-c;e+=g;h="right";k="middle";break;case "insideTop":d+=b/2;e+=c;h="center";break;case "insideBottom":d+=b/2;e+=f-c;h="center";k="bottom";break;case "insideTopLeft":d+=c;e+=c;break;case "insideTopRight":d+=b-c;e+=c;h="right";break;case "insideBottomLeft":d+=c;e+=f-c;k="bottom";break;case "insideBottomRight":d+=b-c,e+=f-c,h="right",k="bottom"}return{x:d,y:e,textAlign:h,textVerticalAlign:k}}function Vm(a,b,c,d,e){if(!b)return"";a=(a+"").split("\n");e=Wm(b,c,d,e);b=0;for(c=a.length;b<c;b++)a[b]=Xm(a[b],e);return a.join("\n")}function Wm(a,b,c,d){(d=I({},d)).font=b;c=Ba(c,"...");d.maxIterations=Ba(d.maxIterations,2);var e=d.minChar=Ba(d.minChar,0);d.cnCharWidth=Ma("\u56fd",b);var f=d.ascCharWidth=Ma("a",b);d.placeholder=Ba(d.placeholder,"");b=a=Math.max(0,a-1);for(var g=0;g<e&&b>=f;g++)b-=f;e=Ma(c);return e>b&&(c="",e=0),b=a-e,d.ellipsis=c,d.ellipsisWidth=e,d.contentWidth=b,d.containerWidth=a,d}function Xm(a,b){var c=b.containerWidth,d=b.font,e=b.contentWidth;if(!c)return"";var f=Ma(a,d);if(f<=c)return a;for(c=0;;c++){if(f<=e||c>=b.maxIterations){a+=b.ellipsis;break}if(0===c){for(var f=a,g=e,h=b.ascCharWidth,k=b.cnCharWidth,l=0,m=0,n=f.length;m<n&&l<g;m++)var p=f.charCodeAt(m),l=l+(0<=p&&127>=p?h:k);f=m}else f=0<f?Math.floor(a.length*e/f):0;f=Ma(a=a.substr(0,f),d)}return""===a&&(a=b.placeholder),a}function Um(a,b,c,d){null!=a&&(a+="");var e=Ma("\u56fd",b),f=a?a.split("\n"):[],g=f.length*e,h=g;if(c&&(h+=c[0]+c[2]),a&&d){a=d.outerHeight;var k=d.outerWidth;if(null!=a&&h>a)f=[];else if(null!=k)for(b=Wm(k-(c?c[1]+c[3]:0),b,d.ellipsis,{minChar:d.minChar,placeholder:d.placeholder}),c=0,d=f.length;c<d;c++)f[c]=Xm(f[c],b)}return{lines:f,height:g,outerHeight:h,lineHeight:e}}function wi(a,b){var c={lines:[],width:0,height:0};if(null!=a&&(a+=""),!a)return c;for(var d,e=yi.lastIndex=0;null!=(d=yi.exec(a));){var f=d.index;f>e&&zi(c,a.substring(e,f));zi(c,d[2],d[1]);e=yi.lastIndex}e<a.length&&zi(c,a.substring(e,a.length));d=c.lines;var f=e=0,g=[],h=b.textPadding,k=b.truncate,l=k&&k.outerWidth,m=k&&k.outerHeight;h&&(null!=l&&(l-=h[1]+h[3]),null!=m&&(m-=h[0]+h[2]));for(rb=0;rb<d.length;rb++){for(var n=d[rb],p=0,q=0,t=0;t<n.tokens.length;t++){var u=(N=n.tokens[t]).styleName&&b.rich[N.styleName]||{},v=N.textPadding=u.textPadding,x=N.font=u.font||b.font,r=N.textHeight=Ba(u.textHeight,Ma("\u56fd",x));if(v&&(r+=v[0]+v[2]),N.height=r,N.lineHeight=Vc(u.textLineHeight,b.textLineHeight,r),N.textAlign=u&&u.textAlign||b.textAlign,N.textVerticalAlign=u&&u.textVerticalAlign||"middle",null!=m&&e+N.lineHeight>m)return{lines:[],width:0,height:0};N.textWidth=Ma(N.text,x);var y=u.textWidth,E=null==y||"auto"===y;if("string"==typeof y&&"%"===y.charAt(y.length-1))N.percentWidth=y,g.push(N),y=0;else{if(E){var y=N.textWidth,D=u.textBackgroundColor,D=D&&D.image,H;if(H=D)"string"==typeof D&&(D=(D=ui.get(D))&&D.image),H=Vf(D);H&&(y=Math.max(y,D.width*r/D.height))}v=v?v[1]+v[3]:0;y+=v;r=null!=l?l-q:null;null!=r&&r<y&&(!E||r<v?(N.text="",N.textWidth=y=0):(N.text=Vm(N.text,r-v,x,k.ellipsis,{minChar:k.minChar}),N.textWidth=Ma(N.text,x),y=N.textWidth+v))}q+=N.width=y;u&&(p=Math.max(p,N.lineHeight))}n.width=q;n.lineHeight=p;e+=p;f=Math.max(f,q)}c.outerWidth=c.width=Ba(b.textWidth,f);c.outerHeight=c.height=Ba(b.textHeight,e);h&&(c.outerWidth+=h[1]+h[3],c.outerHeight+=h[0]+h[2]);for(var rb=0;rb<g.length;rb++){var N=g[rb];N.width=parseInt(N.percentWidth,10)/100*f}return c}function zi(a,b,c){var d=""===b;b=b.split("\n");a=a.lines;for(var e=0;e<b.length;e++){var f=b[e],g={styleName:c,text:f,isLineHolder:!f&&!d};if(e)a.push({tokens:[g]});else{var h=(a[a.length-1]||(a[0]={tokens:[]})).tokens,k=h.length;1===k&&h[0].isLineHolder?h[0]=g:(f||!k||d)&&h.push(g)}}}function Ym(a){return(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ")||a.textFont||a.font}function Zm(a,b){var c,d,e,f,g=b.x,h=b.y,k=b.width,l=b.height,m=b.r;0>k&&(g+=k,k=-k);0>l&&(h+=l,l=-l);"number"==typeof m?c=d=e=f=m:m instanceof Array?1===m.length?c=d=e=f=m[0]:2===m.length?(c=e=m[0],d=f=m[1]):3===m.length?(c=m[0],d=f=m[1],e=m[2]):(c=m[0],d=m[1],e=m[2],f=m[3]):c=d=e=f=0;var n;c+d>k&&(c*=k/(n=c+d),d*=k/n);e+f>k&&(e*=k/(n=e+f),f*=k/n);d+e>l&&(d*=l/(n=d+e),e*=l/n);c+f>l&&(c*=l/(n=c+f),f*=l/n);a.moveTo(g+c,h);a.lineTo(g+k-d,h);0!==d&&a.quadraticCurveTo(g+k,h,g+k,h+d);a.lineTo(g+k,h+l-e);0!==e&&a.quadraticCurveTo(g+k,h+l,g+k-e,h+l);a.lineTo(g+f,h+l);0!==f&&a.quadraticCurveTo(g,h+l,g,h+l-f);a.lineTo(g,h+c);0!==c&&a.quadraticCurveTo(g,h,g+c,h)}function Me(a){return $m(a),r(a.rich,$m),a}function $m(a){if(a){a.font=Ym(a);var b=a.textAlign;"middle"===b&&(b="center");a.textAlign=null==b||yu[b]?b:"left";b=a.textVerticalAlign||a.textBaseline;"center"===b&&(b="middle");a.textVerticalAlign=null==b||zu[b]?b:"top";a.textPadding&&(a.textPadding=gi(a.textPadding))}}function an(a,b,c,d,e){var f=ga(b,"font",d.font||Je),g=d.textPadding,h=a.__textCotentBlock;h&&!a.__dirty||(h=a.__textCotentBlock=Um(c,f,g,d.truncate));var k=h.outerHeight,l=h.lines,h=h.lineHeight,m=bn(k,d,e),n=m.baseX,p=m.baseY,q=m.textAlign,m=m.textVerticalAlign;cn(b,d,e,n,p);m=Le(p,k,m);e=n;var p=m,t=d.textBackgroundColor||d.textBorderWidth&&d.textBorderColor;if(t||g)c=Ma(c,f),g&&(c+=g[1]+g[3]),f=Ke(n,c,q),t&&Ai(a,b,d,f,m,c,k),g&&(e=dn(n,q,g),p+=g[0]);ga(b,"textAlign",q||"left");ga(b,"textBaseline","middle");ga(b,"shadowBlur",d.textShadowBlur||0);ga(b,"shadowColor",d.textShadowColor||"transparent");ga(b,"shadowOffsetX",d.textShadowOffsetX||0);ga(b,"shadowOffsetY",d.textShadowOffsetY||0);p+=h/2;g=d.textStrokeWidth;a=Bi(d.textStroke,g);d=en(d.textFill);a&&(ga(b,"lineWidth",g),ga(b,"strokeStyle",a));d&&ga(b,"fillStyle",d);for(g=0;g<l.length;g++)a&&b.strokeText(l[g],e,p),d&&b.fillText(l[g],e,p),p+=h}function fn(a,b,c,d,e){var f=a.__textCotentBlock;f&&!a.__dirty||(f=a.__textCotentBlock=wi(c,d));c=f;var f=c.width,g=c.outerWidth,h=c.outerHeight,k=d.textPadding,l=bn(h,d,e),m=l.baseX,n=l.baseY,p=l.textAlign,l=l.textVerticalAlign;cn(b,d,e,m,n);m=Ke(m,g,p);p=Le(n,h,l);e=m;n=p;k&&(e+=k[3],n+=k[0]);k=e+f;(d.textBackgroundColor||d.textBorderWidth&&d.textBorderColor)&&Ai(a,b,d,m,p,g,h);for(g=0;g<c.lines.length;g++){for(var q,l=c.lines[g],h=l.tokens,m=h.length,p=l.lineHeight,l=l.width,t=0,u=e,v=k,x=m-1;t<m&&(!(q=h[t]).textAlign||"left"===q.textAlign);)Ci(a,b,q,d,p,n,u,"left"),l-=q.width,u+=q.width,t++;for(;0<=x&&"right"===(q=h[x]).textAlign;)Ci(a,b,q,d,p,n,v,"right"),l-=q.width,v-=q.width,x--;for(u+=(f-(u-e)-(k-v)-l)/2;t<=x;)Ci(a,b,q=h[t],d,p,n,u+q.width/2,"center"),u+=q.width,t++;n+=p}}function cn(a,b,c,d,e){if(c&&b.textRotation){var f=b.textOrigin;"center"===f?(d=c.width/2+c.x,e=c.height/2+c.y):f&&(d=f[0]+c.x,e=f[1]+c.y);a.translate(d,e);a.rotate(-b.textRotation);a.translate(-d,-e)}}function Ci(a,b,c,d,e,f,g,h){var k=d.rich[c.styleName]||{},l=c.textVerticalAlign,m=f+e/2;"top"===l?m=f+c.height/2:"bottom"===l&&(m=f+e-c.height/2);!c.isLineHolder&&(k.textBackgroundColor||k.textBorderWidth&&k.textBorderColor)&&Ai(a,b,k,"right"===h?g-c.width:"center"===h?g-c.width/2:g,m-c.height/2,c.width,c.height);(a=c.textPadding)&&(g=dn(g,h,a),m-=c.height/2-a[2]-c.textHeight/2);ga(b,"shadowBlur",Vc(k.textShadowBlur,d.textShadowBlur,0));ga(b,"shadowColor",k.textShadowColor||d.textShadowColor||"transparent");ga(b,"shadowOffsetX",Vc(k.textShadowOffsetX,d.textShadowOffsetX,0));ga(b,"shadowOffsetY",Vc(k.textShadowOffsetY,d.textShadowOffsetY,0));ga(b,"textAlign",h);ga(b,"textBaseline","middle");ga(b,"font",c.font||Je);h=Bi(k.textStroke||d.textStroke,n);a=en(k.textFill||d.textFill);var n=Ba(k.textStrokeWidth,d.textStrokeWidth);h&&(ga(b,"lineWidth",n),ga(b,"strokeStyle",h),b.strokeText(c.text,g,m));a&&(ga(b,"fillStyle",a),b.fillText(c.text,g,m))}function Ai(a,b,c,d,e,f,g){var h=c.textBackgroundColor,k=c.textBorderWidth,l=c.textBorderColor,m=Da(h);if(ga(b,"shadowBlur",c.textBoxShadowBlur||0),ga(b,"shadowColor",c.textBoxShadowColor||"transparent"),ga(b,"shadowOffsetX",c.textBoxShadowOffsetX||0),ga(b,"shadowOffsetY",c.textBoxShadowOffsetY||0),m||k&&l)b.beginPath(),(c=c.textBorderRadius)?Zm(b,{x:d,y:e,width:f,height:g,r:c}):b.rect(d,e,f,g),b.closePath();m?(ga(b,"fillStyle",h),b.fill()):T(h)&&(m=h.image,(m=Sm(m,null,a,Au,h))&&Vf(m)&&b.drawImage(m,d,e,f,g));k&&l&&(ga(b,"lineWidth",k),ga(b,"strokeStyle",l),b.stroke())}function Au(a,b){b.image=a}function bn(a,b,c){a=b.x||0;var d=b.y||0,e=b.textAlign,f=b.textVerticalAlign;c&&(d=b.textPosition,d instanceof Array?(a=c.x+gn(d[0],c.width),d=c.y+gn(d[1],c.height)):(c=xi(d,c,b.textDistance),a=c.x,d=c.y,e=e||c.textAlign,f=f||c.textVerticalAlign),(b=b.textOffset)&&(a+=b[0],d+=b[1]));return{baseX:a,baseY:d,textAlign:e,textVerticalAlign:f}}function ga(a,b,c){return a[b]=c,a[b]}function Bi(a,b){return null==a||0>=b||"transparent"===a||"none"===a?null:a.image||a.colorStops?"#000":a}function en(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function gn(a,b){return"string"==typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a}function dn(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function sb(a){a=a||{};bc.call(this,a);for(var b in a)a.hasOwnProperty(b)&&"style"!==b&&(this[b]=a[b]);this.style=new Zc(a.style,this);this._rect=null;this.__clipPaths=[]}function db(a){sb.call(this,a)}function Bu(a){a.__unusedCount++}function Cu(a){1==a.__unusedCount&&a.clear()}function Di(a,b,c,d){return c=c||{},d||!ca.canvasSupported?hn(a,b,c):ca.browser.firefox&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):hn(a,b,c),c}function hn(a,b,c){a=a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0};c.zrX=b.clientX-a.left;c.zrY=b.clientY-a.top}function $c(a,b,c){if(null!=(b=b||window.event).zrX)return b;var d=b.type;d&&0<=d.indexOf("touch")?(d="touchend"!=d?b.targetTouches[0]:b.changedTouches[0])&&Di(a,d,b,c):(Di(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3);a=b.button;return null==b.which&&void 0!==a&&Du.test(b.type)&&(b.which=1&a?1:2&a?3:4&a?2:0),b}function Xf(a,b,c){Ei?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function jn(a){var b=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(b*b+a*a)}function kn(a){return"mousewheel"===a&&ca.browser.firefox?"DOMMouseScroll":a}function Fi(a,b,c){var d=a._gestureMgr;"start"===c&&d.clear();var e=d.recognize(b,a.handler.findHover(b.zrX,b.zrY,null).target,a.dom);if("end"===c&&d.clear(),e)c=e.type,b.gestureEvent=c,a.handler.dispatchToElement({target:e.target},c,e.event)}function Gi(a){a._touching=!0;clearTimeout(a._touchTimer);a._touchTimer=setTimeout(function(){a._touching=!1},700)}function ln(a){a=a.pointerType;return"pen"===a||"touch"===a}function Eu(a){function b(a,b){return function(){if(!b._touching)return a.apply(b,arguments)}}r(Hi,function(b){a._handlers[b]=z(tb[b],a)});r(mn,function(b){a._handlers[b]=z(tb[b],a)});r(Yf,function(c){a._handlers[c]=b(tb[c],a)})}function Ii(a){function b(b,d){r(b,function(b){Xf(a,kn(b),d._handlers[b])},d)}this._$handlers={};this.dom=a;this._touching=!1;this._touchTimer;this._gestureMgr=new Ji;this._handlers={};Eu(this);ca.pointerEventsSupported?b(mn,this):(ca.touchEventsSupported&&b(Hi,this),b(Yf,this))}function Ki(a,b){var c=new Li(nn++,a,b);return ad[c.id]=c,c}function ba(a,b,c,d){var e=b[1]-b[0],f=c[1]-c[0];if(0===e)return 0===f?c[0]:(c[0]+c[1])/2;if(d)if(0<e){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/e*f+c[0]}function B(a,b){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"==typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function ra(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function Nb(a){return a.sort(function(a,c){return a-c}),a}function on(a){if(a=+a,isNaN(a))return 0;for(var b=1,c=0;Math.round(a*b)/b!==a;)b*=10,c++;return c}function nc(a){a=a.toString();var b=a.indexOf("e");if(0<b)return a=+a.slice(b+1),0>a?-a:0;b=a.indexOf(".");return 0>b?0:a.length-1-b}function Mi(a,b){var c=Math.log,d=Math.LN10,e=Math.floor(c(a[1]-a[0])/d),c=Math.round(c(Math.abs(b[1]-b[0]))/d),e=Math.min(Math.max(-e+c,0),20);return isFinite(e)?e:20}function pn(a,b,c){if(!a[b])return 0;var d=Hd(a,function(a,b){return a+(isNaN(b)?0:b)},0);if(0===d)return 0;var e=Math.pow(10,c),f=w(a,function(a){return(isNaN(a)?0:a)/d*e*100});a=100*e;var g=w(f,function(a){return Math.floor(a)});c=Hd(g,function(a,b){return a+b},0);for(f=w(f,function(a,b){return a-g[b]});c<a;){for(var h=Number.NEGATIVE_INFINITY,k=null,l=0,m=f.length;l<m;++l)f[l]>h&&(h=f[l],k=l);++g[k];f[k]=0;++c}return g[b]/e}function Ni(a){var b=2*Math.PI;return(a%b+b)%b}function Ne(a){return a>-qn&&a<qn}function Oe(a){if(a instanceof Date)return a;if("string"==typeof a){a=Fu.exec(a);if(!a)return new Date(NaN);if(a[8]){var b=+a[4]||0;return"Z"!==a[8].toUpperCase()&&(b-=a[8].slice(0,3)),new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,b,+(a[5]||0),+a[6]||0,+a[7]||0))}return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,+a[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))}function rn(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))}function Oi(a,b){var c,d=Math.floor(Math.log(a)/Math.LN10),e=Math.pow(10,d),f=a/e;return c=b?1.5>f?1:2.5>f?2:4>f?3:7>f?5:10:1>f?1:2>f?2:3>f?3:5>f?5:10,a=c*e,-20<=d?+a.toFixed(0>d?-d:0):a}function Pi(a){function b(a,c,d){return a.interval[d]<c.interval[d]||a.interval[d]===c.interval[d]&&(a.close[d]-c.close[d]==(d?-1:1)||!d&&b(a,c,1))}a.sort(function(a,c){return b(a,c,0)?-1:1});for(var c=-1/0,d=1,e=0;e<a.length;){for(var f=a[e].interval,g=a[e].close,h=0;2>h;h++)f[h]<=c&&(f[h]=c,g[h]=h?1:1-d),c=f[h],d=g[h];f[0]===f[1]&&1!=g[0]*g[1]?a.splice(e,1):e++}return a}function sn(a){return 0<=a-parseFloat(a)}function oc(a){return isNaN(a)?"-":(a=(a+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<a.length?"."+a[1]:"")}function tn(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function ia(a){return String(a).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#39;")}function Qi(a,b,c){A(b)||(b=[b]);var d=b.length;if(!d)return"";for(var e=b[0].$vars||[],f=0;f<e.length;f++){var g=un[f],h="{"+g+0+"}";a=a.replace("{"+g+"}",c?ia(h):h)}for(f=0;f<d;f++)for(g=0;g<e.length;g++)h=b[f][e[g]],a=a.replace("{"+un[g]+(null==f?"":f)+"}",c?ia(h):h);return a}function vn(a,b,c){return r(b,function(b,e){a=a.replace("{"+e+"}",c?ia(b):b)}),a}function Ri(a,b){return a?'\x3cspan style\x3d"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+ia(a)+";"+(b||"")+'"\x3e\x3c/span\x3e':""}function Si(a,b,c){"week"!==a&&"month"!==a&&"quarter"!==a&&"half-year"!==a&&"year"!==a||(a="MM-dd\nyyyy");b=Oe(b);var d=c?"UTC":"";c=b["get"+d+"FullYear"]();var e=b["get"+d+"Month"]()+1,f=b["get"+d+"Date"](),g=b["get"+d+"Hours"](),h=b["get"+d+"Minutes"]();b=b["get"+d+"Seconds"]();return a.replace("MM",Pe(e)).replace("M",e).replace("yyyy",c).replace("yy",c%100).replace("dd",Pe(f)).replace("d",f).replace("hh",Pe(g)).replace("h",g).replace("mm",Pe(h)).replace("m",h).replace("ss",Pe(b)).replace("s",b)}function Zf(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function Qe(a,b,c){return a[Ja+b]=c}function pc(a){var b={main:"",sub:""};return a&&(a=a.split(Gu),b.main=a[0]||"",b.sub=a[1]||""),b}function Re(a,b){a.$constructor=a;a.extend=function(a){var b=this,c=function(){a.$constructor?a.$constructor.apply(this,arguments):b.apply(this,arguments)};return I(c.prototype,a),c.extend=this.extend,c.superCall=Hu,c.superApply=Iu,ka(c,this),c.superClass=b,c}}function Hu(a,b){var c=fi(arguments,2);return this.superClass.prototype[b].apply(a,c)}function Iu(a,b,c){return this.superClass.prototype[b].apply(a,c)}function $f(a,b){b=b||{};var c={};if(a.registerClass=function(a,b){if(b){var d=b;kc(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(d),'componentType "'+d+'" illegal');(b=pc(b)).sub?b.sub!==bd&&(d=c[b.main],(d&&d[bd]||((d=c[b.main]={})[bd]=!0),d)[b.sub]=a):c[b.main]=a}return a},a.getClass=function(a,b,d){var e=c[a];if(e&&e[bd]&&(e=b?e[b]:null),d&&!e)throw Error(b?"Component "+a+"."+(b||"")+" not exists. Load it first.":a+".type should be specified.");return e},a.getClassesByMainType=function(a){a=pc(a);var b=[];a=c[a.main];return a&&a[bd]?r(a,function(a,c){c!==bd&&b.push(a)}):b.push(a),b},a.hasClass=function(a){return a=pc(a),!!c[a.main]},a.getAllClassMainTypes=function(){var a=[];return r(c,function(b,c){a.push(c)}),a},a.hasSubTypes=function(a){a=pc(a);return(a=c[a.main])&&a[bd]},a.parseClassType=pc,b.registerWhenExtend){var d=a.extend;d&&(a.extend=function(b){var c=d.call(this,b);return a.registerClass(c,b.type)})}return a}function qc(a){return a>-Nd&&a<Nd}function eb(a,b,c,d,e){var f=1-e;return f*f*(f*a+3*e*b)+e*e*(e*d+3*f*c)}function wn(a,b,c,d,e){var f=1-e;return 3*(((b-a)*f+2*(c-b)*e)*f+(d-c)*e*e)}function xn(a,b,c,d,e){var f=6*c-12*b+6*a;c=9*b+3*d-3*a-9*c;b=3*b-3*a;a=0;if(qc(c))(f>Nd||f<-Nd)&&0<=(g=-b/f)&&1>=g&&(e[a++]=g);else if(g=f*f-4*c*b,qc(g))e[0]=-f/(2*c);else if(0<g){b=rc(g);var g=(-f+b)/(2*c),f=(-f-b)/(2*c);0<=g&&1>=g&&(e[a++]=g);0<=f&&1>=f&&(e[a++]=f)}return a}function yn(a,b,c,d,e,f){var g=(b-a)*e+a,h=(c-b)*e+b;c=(d-c)*e+c;b=(h-g)*e+g;h=(c-h)*e+h;e=(h-b)*e+b;f[0]=a;f[1]=g;f[2]=b;f[3]=e;f[4]=e;f[5]=h;f[6]=c;f[7]=d}function xb(a,b,c,d){var e=1-d;return e*(e*a+2*d*b)+d*d*c}function ag(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function zn(a,b,c){c=a+c-2*b;return 0===c?.5:(a-b)/c}function Od(a,b,c,d,e){var f=(b-a)*d+a;b=(c-b)*d+b;d=(b-f)*d+f;e[0]=a;e[1]=f;e[2]=d;e[3]=d;e[4]=b;e[5]=c}function An(a,b,c){if(0!==a.length){var d,e=a[0],f=e[0],g=e[0],h=e[1],k=e[1];for(d=1;d<a.length;d++)e=a[d],f=Ya(f,e[0]),g=sa(g,e[0]),h=Ya(h,e[1]),k=sa(k,e[1]);b[0]=f;b[1]=h;c[0]=g;c[1]=k}}function sc(a,b,c,d,e,f,g){if(0===e)return!1;var h;if(g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a===c)return Math.abs(f-a)<=e/2;a=(h=(b-d)/(a-c))*f-g+(a*d-c*b)/(a-c);return a*a/(h*h+1)<=e/2*e/2}function Bn(a,b,c,d,e,f,g,h,k){if(0===g)return!1;var l;if(l=!(k>b+g&&k>d+g&&k>f+g||k<b-g&&k<d-g&&k<f-g||h>a+g&&h>c+g&&h>e+g||h<a-g&&h<c-g&&h<e-g)){var m;l=.005;var n=1/0;Qb[0]=h;Qb[1]=k;for(h=0;1>h;h+=.05)Ob[0]=xb(a,c,e,h),Ob[1]=xb(b,d,f,h),(q=tc(Qb,Ob))<n&&(m=h,n=q);n=1/0;for(h=0;32>h&&!(l<Cn);h++){var p=m-l;k=m+l;Ob[0]=xb(a,c,e,p);Ob[1]=xb(b,d,f,p);var q=tc(Ob,Qb);0<=p&&q<n?(m=p,n=q):(Pd[0]=xb(a,c,e,k),Pd[1]=xb(b,d,f,k),q=tc(Pd,Qb),1>=k&&q<n?(m=k,n=q):l*=.5)}l=rc(n)<=g/2}return l}function uc(a){return 0>(a%=Dn)&&(a+=Dn),a}function cc(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var g=d<b?1:-1;f=(f-b)/(d-b);return 1!==f&&0!==f||(g=d<b?.5:-.5),f*(c-a)+a>e?g:0}function En(a,b,c,d,e){for(var f=0,g=0,h=0,k=0,l=0,m=0;m<a.length;){var n=a[m++];switch(n===vc.M&&1<m&&(c||(f+=cc(g,h,k,l,d,e))),1==m&&(k=g=a[m],l=h=a[m+1]),n){case vc.M:g=k=a[m++];h=l=a[m++];break;case vc.L:if(c){if(sc(g,h,a[m],a[m+1],b,d,e))return!0}else f+=cc(g,h,a[m],a[m+1],d,e)||0;g=a[m++];h=a[m++];break;case vc.C:if(c){var p;var q=a[m++],t=a[m++],u=a[m++],v=a[m++],x=a[m],r=a[m+1];if(0===b)p=!1;else{var y=b,E;if(E=!(e>h+y&&e>t+y&&e>v+y&&e>r+y||e<h-y&&e<t-y&&e<v-y&&e<r-y||d>g+y&&d>q+y&&d>u+y&&d>x+y||d<g-y&&d<q-y&&d<u-y&&d<x-y)){var D=g,H=h,rb=q,N=t,$b=u,w=v,A=x,z=r,B=e,C=void 0,F=void 0,G=void 0,I=void 0,J=void 0,L=.005,K=1/0;Qb[0]=d;Qb[1]=B;for(var O=0;1>O;O+=.05)Ob[0]=eb(D,rb,$b,A,O),Ob[1]=eb(H,N,w,z,O),(I=tc(Qb,Ob))<K&&(C=O,K=I);for(var K=1/0,T=0;32>T&&!(L<Cn);T++)F=C-L,G=C+L,Ob[0]=eb(D,rb,$b,A,F),Ob[1]=eb(H,N,w,z,F),I=tc(Ob,Qb),0<=F&&I<K?(C=F,K=I):(Pd[0]=eb(D,rb,$b,A,G),Pd[1]=eb(H,N,w,z,G),J=tc(Pd,Qb),1>=G&&J<K?(C=G,K=J):L*=.5);E=rc(K)<=y/2}p=E}if(p)return!0}else{var U=f,S;var Z=g,M=h,ba=a[m++],Q=a[m++],ca=a[m++],V=a[m++],ea=a[m],W=a[m+1],ha=d;if(e>M&&e>Q&&e>V&&e>W||e<M&&e<Q&&e<V&&e<W)S=0;else{var da,Y=yb,X=W+3*(Q-V)-M,R=3*(V-2*Q+M),fa=3*(Q-M),ka=M-e,aa=R*R-3*X*fa,ga=R*fa-9*X*ka,ma=fa*fa-3*R*ka,ia=0;if(qc(aa)&&qc(ga))qc(R)?Y[0]=0:0<=(ja=-fa/R)&&1>=ja&&(Y[ia++]=ja);else{var na=ga*ga-4*aa*ma;if(qc(na)){var pa=ga/aa,la=-pa/2;0<=(ja=-R/X+pa)&&1>=ja&&(Y[ia++]=ja);0<=la&&1>=la&&(Y[ia++]=la)}else if(0<na){var ta=rc(na),ra=aa*R+1.5*X*(-ga+ta),wa=aa*R+1.5*X*(-ga-ta);0<=(ja=(-R-((0>ra?-bg(-ra,cg):bg(ra,cg))+(0>wa?-bg(-wa,cg):bg(wa,cg))))/(3*X))&&1>=ja&&(Y[ia++]=ja)}else{var Ea=(2*aa*R-3*X*ga)/(2*rc(aa*aa*aa)),xa=Math.acos(Ea)/3,za=rc(aa),Aa=Math.cos(xa),ja=(-R-2*za*Aa)/(3*X),la=(-R+za*(Aa+Fn*Math.sin(xa)))/(3*X),Ba=(-R+za*(Aa-Fn*Math.sin(xa)))/(3*X);0<=ja&&1>=ja&&(Y[ia++]=ja);0<=la&&1>=la&&(Y[ia++]=la);0<=Ba&&1>=Ba&&(Y[ia++]=Ba)}}da=ia;if(0===da)S=0;else{for(var va=void 0,Da=void 0,qa=0,ya=-1,Ha=0;Ha<da;Ha++){var ua=yb[Ha],oa=0===ua||1===ua?.5:1;if(!(eb(Z,ba,ca,ea,ua)<ha)){if(0>ya){ya=xn(M,Q,V,W,Pb);if(Pb[1]<Pb[0]&&1<ya){var cb=Pb[0];Pb[0]=Pb[1];Pb[1]=cb}va=eb(M,Q,V,W,Pb[0]);1<ya&&(Da=eb(M,Q,V,W,Pb[1]))}2==ya?ua<Pb[0]?qa+=va<M?oa:-oa:ua<Pb[1]?qa+=Da<va?oa:-oa:qa+=W<Da?oa:-oa:ua<Pb[0]?qa+=va<M?oa:-oa:qa+=W<va?oa:-oa}}S=qa}}f=U+(S||0)}g=a[m++];h=a[m++];break;case vc.Q:if(c){if(Bn(g,h,a[m++],a[m++],a[m],a[m+1],b,d,e))return!0}else{var db=f,Ja;var Ya=g,sa=h,ab=a[m++],Ia=a[m++],bb=a[m],Ga=a[m+1],fb=d;if(e>sa&&e>Ia&&e>Ga||e<sa&&e<Ia&&e<Ga)Ja=0;else{var $a,Ta=yb,Na=sa-2*Ia+Ga,Ca=2*(Ia-sa),lb=sa-e,Sa=0;if(qc(Na))(Ca>Nd||Ca<-Nd)&&0<=(Fa=-lb/Ca)&&1>=Fa&&(Ta[Sa++]=Fa);else{var hb=Ca*Ca-4*Na*lb;if(qc(hb))0<=(Fa=-Ca/(2*Na))&&1>=Fa&&(Ta[Sa++]=Fa);else if(0<hb){var tb=rc(hb),Fa=(-Ca+tb)/(2*Na),kb=(-Ca-tb)/(2*Na);0<=Fa&&1>=Fa&&(Ta[Sa++]=Fa);0<=kb&&1>=kb&&(Ta[Sa++]=kb)}}$a=Sa;if(0===$a)Ja=0;else{var gb=zn(sa,Ia,Ga);if(0<=gb&&1>=gb){for(var nb=0,vb=xb(sa,Ia,Ga,gb),Va=0;Va<$a;Va++)Qa=0===yb[Va]||1===yb[Va]?.5:1,xb(Ya,ab,bb,yb[Va])<fb||(yb[Va]<gb?nb+=vb<sa?Qa:-Qa:nb+=Ga<vb?Qa:-Qa);Ja=nb}else{var Qa=0===yb[0]||1===yb[0]?.5:1;Ja=xb(Ya,ab,bb,yb[0])<fb?0:Ga<sa?Qa:-Qa}}}f=db+(Ja||0)}g=a[m++];h=a[m++];break;case vc.A:var Xa=a[m++],jb=a[m++],sb=a[m++],Ka=a[m++],Oa=a[m++],pb=a[m++],Ab=(a[m++],1-a[m++]),La=Math.cos(Oa)*sb+Xa,Ma=Math.sin(Oa)*Ka+jb;1<m?f+=cc(g,h,La,Ma,d,e):(k=La,l=Ma);var Cb=(d-Xa)*Ka/sb+Xa;if(c){var mb;var Ua=Oa,Pa=Oa+pb,ob=Cb,qb=e;if(0===b)mb=!1;else{var Hb=b,ob=ob-Xa,qb=qb-jb,Ib=Math.sqrt(ob*ob+qb*qb);if(Ib-Hb>Ka||Ib+Hb<Ka)mb=!1;else if(1E-4>Math.abs(Ua-Pa)%Se)mb=!0;else{if(Ab)var Mb=Ua,Ua=uc(Pa),Pa=uc(Mb);else Ua=uc(Ua),Pa=uc(Pa);Ua>Pa&&(Pa+=Se);var ib=Math.atan2(qb,ob);mb=(0>ib&&(ib+=Se),ib>=Ua&&ib<=Pa||ib+Se>=Ua&&ib+Se<=Pa)}}if(mb)return!0}else{var Nb=f,ub;var Bb=Xa,Za=Oa,Ra=Oa+pb,Db=Ab,Eb=Cb,wb=e;if((wb-=jb)>Ka||wb<-Ka)ub=0;else{zb=Math.sqrt(Ka*Ka-wb*wb);yb[0]=-zb;yb[1]=zb;var Jb=Math.abs(Za-Ra);if(1E-4>Jb)ub=0;else if(1E-4>Jb%Te)ub=Eb>=yb[0]+Bb&&Eb<=yb[1]+Bb?Db?1:-1:0;else{if(Db)var zb=Za,Za=uc(Ra),Ra=uc(zb);else Za=uc(Za),Ra=uc(Ra);Za>Ra&&(Ra+=Te);for(var Kb=0,Fb=0;2>Fb;Fb++){var Lb=yb[Fb];if(Lb+Bb>Eb){var Wa=Math.atan2(wb,Lb),Gb=Db?1:-1;0>Wa&&(Wa=Te+Wa);(Wa>=Za&&Wa<=Ra||Wa+Te>=Za&&Wa+Te<=Ra)&&(Wa>Math.PI/2&&Wa<1.5*Math.PI&&(Gb=-Gb),Kb+=Gb)}}ub=Kb}}f=Nb+ub}g=Math.cos(Oa+pb)*sb+Xa;h=Math.sin(Oa+pb)*Ka+jb;break;case vc.R:k=g=a[m++];l=h=a[m++];La=k+a[m++];Ma=l+a[m++];if(c){if(sc(k,l,La,l,b,d,e)||sc(La,l,La,Ma,b,d,e)||sc(La,Ma,k,Ma,b,d,e)||sc(k,Ma,k,l,b,d,e))return!0}else f+=cc(La,l,La,Ma,d,e),f+=cc(k,Ma,k,l,d,e);break;case vc.Z:if(c){if(sc(g,h,k,l,b,d,e))return!0}else f+=cc(g,h,k,l,d,e);g=k;h=l}}return c||Math.abs(h-l)<Ju||(f+=cc(g,h,k,l,d,e)||0),0!==f}function ea(a){sb.call(this,a);this.path=null}function Gn(a,b,c,d,e,f,g,h,k,l,m){k*=dg/180;var n=eg(k)*(a-c)/2+fg(k)*(b-d)/2,p=-1*fg(k)*(a-c)/2+eg(k)*(b-d)/2,q=n*n/(g*g)+p*p/(h*h);1<q&&(g*=Ti(q),h*=Ti(q));q=(e===f?-1:1)*Ti((g*g*h*h-g*g*p*p-h*h*n*n)/(g*g*p*p+h*h*n*n))||0;e=q*g*p/h;q=q*-h*n/g;a=(a+c)/2+eg(k)*e-fg(k)*q;b=(b+d)/2+fg(k)*e+eg(k)*q;d=Hn([1,0],[(n-e)/g,(p-q)/h]);c=[(n-e)/g,(p-q)/h];n=[(-1*n-e)/g,(-1*p-q)/h];p=Hn(c,n);-1>=Ui(c,n)&&(p=dg);1<=Ui(c,n)&&(p=0);0===f&&0<p&&(p-=2*dg);1===f&&0>p&&(p+=2*dg);m.addData(l,a,b,g,h,d,p,k,f)}function Ku(a){if(!a)return[];var b=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(a=0;a<Vi.length;a++)b=b.replace(new RegExp(Vi[a],"g"),"|"+Vi[a]);var c,b=b.split("|"),d=0,e=0,f=new Fa,g=Fa.CMD;for(a=1;a<b.length;a++){var h,k=b[a],l=k.charAt(0),m=0,k=k.slice(1).replace(/e,-/g,"e-").split(",");0<k.length&&""===k[0]&&k.shift();for(var n=0;n<k.length;n++)k[n]=parseFloat(k[n]);for(;m<k.length&&!isNaN(k[m])&&!isNaN(k[0]);){var p,q,t;switch(l){case "l":d+=k[m++];e+=k[m++];h=g.L;f.addData(h,d,e);break;case "L":d=k[m++];e=k[m++];h=g.L;f.addData(h,d,e);break;case "m":d+=k[m++];e+=k[m++];h=g.M;f.addData(h,d,e);l="l";break;case "M":d=k[m++];e=k[m++];h=g.M;f.addData(h,d,e);l="L";break;case "h":d+=k[m++];h=g.L;f.addData(h,d,e);break;case "H":d=k[m++];h=g.L;f.addData(h,d,e);break;case "v":e+=k[m++];h=g.L;f.addData(h,d,e);break;case "V":e=k[m++];h=g.L;f.addData(h,d,e);break;case "C":h=g.C;f.addData(h,k[m++],k[m++],k[m++],k[m++],k[m++],k[m++]);d=k[m-2];e=k[m-1];break;case "c":h=g.C;f.addData(h,k[m++]+d,k[m++]+e,k[m++]+d,k[m++]+e,k[m++]+d,k[m++]+e);d+=k[m-2];e+=k[m-1];break;case "S":n=d;p=e;h=f.len();q=f.data;c===g.C&&(n+=d-q[h-4],p+=e-q[h-3]);h=g.C;q=k[m++];t=k[m++];d=k[m++];e=k[m++];f.addData(h,n,p,q,t,d,e);break;case "s":n=d;p=e;h=f.len();q=f.data;c===g.C&&(n+=d-q[h-4],p+=e-q[h-3]);h=g.C;q=d+k[m++];t=e+k[m++];d+=k[m++];e+=k[m++];f.addData(h,n,p,q,t,d,e);break;case "Q":q=k[m++];t=k[m++];d=k[m++];e=k[m++];h=g.Q;f.addData(h,q,t,d,e);break;case "q":q=k[m++]+d;t=k[m++]+e;d+=k[m++];e+=k[m++];h=g.Q;f.addData(h,q,t,d,e);break;case "T":n=d;p=e;h=f.len();q=f.data;c===g.Q&&(n+=d-q[h-4],p+=e-q[h-3]);d=k[m++];e=k[m++];h=g.Q;f.addData(h,n,p,d,e);break;case "t":n=d;p=e;h=f.len();q=f.data;c===g.Q&&(n+=d-q[h-4],p+=e-q[h-3]);d+=k[m++];e+=k[m++];h=g.Q;f.addData(h,n,p,d,e);break;case "A":h=k[m++];n=k[m++];p=k[m++];q=k[m++];t=k[m++];Gn(d,e,d=k[m++],e=k[m++],q,t,h,n,p,h=g.A,f);break;case "a":h=k[m++],n=k[m++],p=k[m++],q=k[m++],t=k[m++],Gn(d,e,d+=k[m++],e+=k[m++],q,t,h,n,p,h=g.A,f)}}"z"!==l&&"Z"!==l||(h=g.Z,f.addData(h));c=h}return f.toStatic(),f}function In(a,b){var c=Ku(a);return b=b||{},b.buildPath=function(a){if(a.setData)a.setData(c.data),(b=a.getContext())&&a.rebuildPath(b);else{var b;c.rebuildPath(a)}},b.applyTransform=function(a){var b,d,g,h,k,l,m=c.data,n=Qd.M,p=Qd.C,q=Qd.L,t=Qd.R,u=Qd.A,v=Qd.Q;for(g=0;g<m.length;){switch(b=m[g++],h=g,d=0,b){case n:case q:d=1;break;case p:d=3;break;case v:d=2;break;case u:h=a[4];k=a[5];var x=Jn(a[0]*a[0]+a[1]*a[1]),r=Jn(a[2]*a[2]+a[3]*a[3]),y=Lu(-a[1]/r,a[0]/x);m[g]*=x;m[g++]+=h;m[g]*=r;m[g++]+=k;m[g++]*=x;m[g++]*=r;m[g++]+=y;m[g++]+=y;h=g+=2;break;case t:l[0]=m[g++],l[1]=m[g++],da(l,l,a),m[h++]=l[0],m[h++]=l[1],l[0]+=m[g++],l[1]+=m[g++],da(l,l,a),m[h++]=l[0],m[h++]=l[1]}for(k=0;k<d;k++)(l=Mu[k])[0]=m[g++],l[1]=m[g++],da(l,l,a),m[h++]=l[0],m[h++]=l[1]}this.dirty(!0)},b}function Kn(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function Ln(a,b,c){var d=b.points,e=b.smooth;if(d&&2<=d.length){if(e&&"spline"!==e){var f,g=d,h=b.smoothConstraint,k,l,m,n=[];b=[];var p=[],q=[];if(h){f=[1/0,1/0];m=[-1/0,-1/0];for(var t=0,u=g.length;t<u;t++)Wb(f,f,g[t]),Xb(m,m,g[t]);Wb(f,f,h[0]);Xb(m,m,h[1])}t=0;for(u=g.length;t<u;t++){var v=g[t];if(c)k=g[t?t-1:u-1],l=g[(t+1)%u];else{if(0===t||t===u-1){n.push(Ab(g[t]));continue}k=g[t-1];l=g[t+1]}Vb(b,l,k);Nf(b,b,e);k=Fe(v,k);l=Fe(v,l);var x=k+l;0!==x&&(k/=x,l/=x);Nf(p,b,-k);Nf(q,b,l);k=ii([],v,p);v=ii([],v,q);h&&(Xb(k,k,f),Wb(k,k,m),Xb(v,v,f),Wb(v,v,m));n.push(k);n.push(v)}f=(c&&n.push(n.shift()),n);a.moveTo(d[0][0],d[0][1]);m=d.length;for(e=0;e<(c?m:m-1);e++)g=f[2*e],h=f[2*e+1],n=d[(e+1)%m],a.bezierCurveTo(g[0],g[1],h[0],h[1],n[0],n[1])}else{if("spline"===e){e=d.length;f=[];b=0;for(m=1;m<e;m++)b+=Fe(d[m-1],d[m]);b/=2;b=b<e?e:b;for(m=0;m<b;m++)p=m/(b-1)*(c?e:e-1),t=Math.floor(p),p-=t,q=d[t%e],c?(g=d[(t-1+e)%e],h=d[(t+1)%e],n=d[(t+2)%e]):(g=d[0===t?t:t-1],h=d[t>e-2?e-1:t+1],n=d[t>e-3?e-1:t+2]),t=p*p,u=p*t,f.push([Kn(g[0],q[0],h[0],n[0],p,t,u),Kn(g[1],q[1],h[1],n[1],p,t,u)]);d=f}a.moveTo(d[0][0],d[0][1]);e=1;for(f=d.length;e<f;e++)a.lineTo(d[e][0],d[e][1])}c&&a.closePath()}}function Mn(a,b,c){var d=a.cpy2;return null===a.cpx2||null===d?[(c?wn:eb)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?wn:eb)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?ag:xb)(a.x1,a.cpx1,a.x2,b),(c?ag:xb)(a.y1,a.cpy1,a.y2,b)]}function ub(a){return ea.extend(a)}function Ue(a,b,c,d){a=new ea(In(a,b));b=a.getBoundingRect();return c&&("center"===d&&(c=Nn(c,b)),On(a,c)),a}function Pn(a,b,c){var d=new db({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(a){"center"===c&&d.setStyle(Nn(b,{width:a.width,height:a.height}))}});return d}function Nn(a,b){var c,d=b.width/b.height,e=a.height*d;return c=e<=a.width?a.height:(e=a.width)/d,{x:a.x+a.width/2-e/2,y:a.y+a.height/2-c/2,width:e,height:c}}function On(a,b){if(a.applyTransform){var c=a.getBoundingRect().calculateTransform(b);a.applyTransform(c)}}function cd(a){var b=a.shape,c=a.style.lineWidth;return Rd(2*b.x1)===Rd(2*b.x2)&&(b.x1=b.x2=Bb(b.x1,c,!0)),Rd(2*b.y1)===Rd(2*b.y2)&&(b.y1=b.y2=Bb(b.y1,c,!0)),a}function Wi(a){var b=a.shape,c=a.style.lineWidth,d=b.x,e=b.y,f=b.width,g=b.height;return b.x=Bb(b.x,c,!0),b.y=Bb(b.y,c,!0),b.width=Math.max(Bb(d+f,c,!1)-b.x,0===f?0:1),b.height=Math.max(Bb(e+g,c,!1)-b.y,0===g?0:1),a}function Bb(a,b,c){a=Rd(2*a);return 0==(a+Rd(b))%2?a/2:(a+(c?1:-1))/2}function Qn(a){return"string"==typeof a?Gm(a,-.1):a}function Rn(a){if(a.__hoverStlDirty){var b=a.style.stroke,c=a.style.fill,d=a.__hoverStl;d.fill=d.fill||(null!=c&&"none"!=c?Qn(c):null);d.stroke=d.stroke||(null!=b&&"none"!=b?Qn(b):null);var b={},e;for(e in d)null!=d[e]&&(b[e]=a.style[e]);a.__normalStl=b;a.__hoverStlDirty=!1}}function Sn(a){if(!a.__isHover){if(Rn(a),a.useHoverLayer)a.__zr&&a.__zr.addHover(a,a.__hoverStl);else{var b=a.style,c=b.insideRollbackOpt;if(c){var d=b.insideRollback;d&&(b.textFill=d.textFill,b.textStroke=d.textStroke,b.textStrokeWidth=d.textStrokeWidth)}b.extendFrom(a.__hoverStl);c&&(Tn(b,b.insideOriginalTextPosition,c),null==b.textFill&&(b.textFill=c.autoColor));a.dirty(!1);a.z2+=1}a.__isHover=!0}}function Un(a){if(a.__isHover){var b=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(b&&a.setStyle(b),--a.z2);a.__isHover=!1}}function Vn(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&Sn(a)}):Sn(a)}function Wn(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&Un(a)}):Un(a)}function Xn(a,b){a.__hoverStl=a.hoverStyle||b||{};a.__hoverStlDirty=!0;a.__isHover&&Rn(a)}function Nu(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Vn(this)}function Ou(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&Wn(this)}function Pu(){this.__isEmphasis=!0;Vn(this)}function Qu(){this.__isEmphasis=!1;Wn(this)}function ma(a,b,c){a.__hoverSilentOnTouch=c&&c.hoverSilentOnTouch;"group"===a.type?a.traverse(function(a){"group"!==a.type&&Xn(a,b)}):Xn(a,b);a.on("mouseover",Nu).on("mouseout",Ou);a.on("emphasis",Pu).on("normal",Qu)}function Cb(a,b,c,d,e,f,g){var h=(e=e||gg).labelFetcher,k=e.labelDataIndex,l=e.labelDimIndex,m=c.getShallow("show"),n=d.getShallow("show"),p=m||n?Ba(h?h.getFormattedLabel(k,"normal",null,l):null,e.defaultText):null,m=m?p:null,h=n?Ba(h?h.getFormattedLabel(k,"emphasis",null,l):null,p):null;null==m&&null==h||(la(a,c,f,e),la(b,d,g,e,!0));a.text=m;b.text=h}function la(a,b,c,d,e){return Yn(a,b,d,e),c&&I(a,c),a.host&&a.host.dirty&&a.host.dirty(!1),a}function Yn(a,b,c,d){if((c=c||gg).isRectText){var e=b.getShallow("position")||(d?null:"inside");"outside"===e&&(e="top");a.textPosition=e;a.textOffset=b.getShallow("offset");e=b.getShallow("rotate");null!=e&&(e*=Math.PI/180);a.textRotation=e;a.textDistance=Ba(b.getShallow("distance"),d?null:5)}for(var f,e=(e=b.ecModel)&&e.option.textStyle,g,h=b;h&&h!==h.ecModel;){var k=(h.option||gg).rich;if(k){g=g||{};for(var l in k)k.hasOwnProperty(l)&&(g[l]=1)}h=h.parentModel}if(g){f={};for(var m in g)g.hasOwnProperty(m)&&(l=b.getModel(["rich",m]),Zn(f[m]={},l,e,c,d))}return a.rich=f,Zn(a,b,e,c,d,!0),c.forceRich&&!c.textStyle&&(c.textStyle={}),a}function Zn(a,b,c,d,e,f){(c=!e&&c||gg,a.textFill=hg(b.getShallow("color"),d)||c.color,a.textStroke=hg(b.getShallow("textBorderColor"),d)||c.textBorderColor,a.textStrokeWidth=Ba(b.getShallow("textBorderWidth"),c.textBorderWidth),e)||(f&&(e=a.textPosition,a.insideRollback=Tn(a,e,d),a.insideOriginalTextPosition=e,a.insideRollbackOpt=d),null==a.textFill&&(a.textFill=d.autoColor));a.fontStyle=b.getShallow("fontStyle")||c.fontStyle;a.fontWeight=b.getShallow("fontWeight")||c.fontWeight;a.fontSize=b.getShallow("fontSize")||c.fontSize;a.fontFamily=b.getShallow("fontFamily")||c.fontFamily;a.textAlign=b.getShallow("align");a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline");a.textLineHeight=b.getShallow("lineHeight");a.textWidth=b.getShallow("width");a.textHeight=b.getShallow("height");a.textTag=b.getShallow("tag");f&&d.disableBox||(a.textBackgroundColor=hg(b.getShallow("backgroundColor"),d),a.textPadding=b.getShallow("padding"),a.textBorderColor=hg(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY"));a.textShadowColor=b.getShallow("textShadowColor")||c.textShadowColor;a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur;a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX;a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function hg(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function Tn(a,b,c){var d,e=c.useInsideStyle;return null==a.textFill&&!1!==e&&(!0===e||c.isRectText&&b&&"string"==typeof b&&0<=b.indexOf("inside"))&&(d={textFill:null,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth},a.textFill="#fff",null==a.textStroke&&(a.textStroke=c.autoColor,null==a.textStrokeWidth&&(a.textStrokeWidth=2))),d}function Xi(a,b){var c=b||b.getModel("textStyle");return[a.fontStyle||c&&c.getShallow("fontStyle")||"",a.fontWeight||c&&c.getShallow("fontWeight")||"",(a.fontSize||c&&c.getShallow("fontSize")||12)+"px",a.fontFamily||c&&c.getShallow("fontFamily")||"sans-serif"].join(" ")}function $n(a,b,c,d,e,f){if("function"==typeof e&&(f=e,e=null),d&&d.isAnimationEnabled()){var g=a?"Update":"";a=d.getShallow("animationDuration"+g);var h=d.getShallow("animationEasing"+g),g=d.getShallow("animationDelay"+g);"function"==typeof g&&(g=g(e,d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null));"function"==typeof a&&(a=a(e));0<a?b.animateTo(c,a,g||0,h,f,!!f):(b.stopAnimation(),b.attr(c),f&&f())}else b.stopAnimation(),b.attr(c),f&&f()}function Z(a,b,c,d,e){$n(!0,a,b,c,d,e)}function Ga(a,b,c,d,e){$n(!1,a,b,c,d,e)}function dd(a,b){for(var c=Ge([]);a&&a!==b;)Wc(c,a.getLocalTransform(),c),a=a.parent;return c}function Za(a,b,c){return b&&!Uc(b)&&(b=Ra.getLocalTransform(b)),c&&(b=Qf([],b)),da([],a,b)}function Yi(a,b,c){var d=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),e=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]);a=["left"===a?-d:"right"===a?d:0,"top"===a?-e:"bottom"===a?e:0];return a=Za(a,b,c),Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function Zi(a,b,c,d){function e(a){var b={position:Ab(a.position),rotation:a.rotation};return a.shape&&(b.shape=I({},a.shape)),b}if(a&&b){var f=function(a){var b={};return a.traverse(function(a){!a.isGroup&&a.anid&&(b[a.anid]=a)}),b}(a);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=f[a.anid];if(b){var d=e(a);a.attr(e(b));Z(a,d,c,a.dataIndex)}}})}}function ao(a,b){return w(a,function(a){var c=a[0],c=ig(c,b.x),c=jg(c,b.x+b.width);a=a[1];return a=ig(a,b.y),a=jg(a,b.y+b.height),[c,a]})}function Ve(a,b,c){var d=(b=I({rectHover:!0},b)).style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(d.image=a.slice(8),J(d,c),new db(b)):Ue(a.replace("path://",""),b,c,"center")}function W(a,b,c){this.parentModel=b;this.ecModel=c;this.option=a}function bo(a,b,c){for(var d=0;d<b.length&&(!b[d]||null!=(a=a&&"object"==typeof a?a[b[d]]:null));d++);return null==a&&c&&(a=c.get(b)),a}function $i(a,b){var c=a[Ja+"getParent"];return c?c.call(a,b):a.parentModel}function kb(a){return a instanceof Array?a:null==a?[]:[a]}function ed(a,b){if(a)for(var c=a.emphasis=a.emphasis||{},d=a.normal=a.normal||{},e=0,f=b.length;e<f;e++){var g=b[e];!c.hasOwnProperty(g)&&d.hasOwnProperty(g)&&(c[g]=d[g])}}function We(a){return a&&(null==a.value?a:a.value)}function aj(a){return Sd(a)&&!(a instanceof Array)}function bj(a,b){var c=b&&b.type;return"ordinal"===c?a:("time"===c&&"number"!=typeof a&&null!=a&&"-"!==a&&(a=+Oe(a)),null==a||""===a?NaN:+a)}function cj(a,b){b=(b||[]).slice();var c=w(a||[],function(a,b){return{exist:a}});return wc(b,function(a,e){if(Sd(a)){for(d=0;d<c.length;d++)if(!c[d].option&&null!=a.id&&c[d].exist.id===a.id+"")return c[d].option=a,void(b[e]=null);for(var d=0;d<c.length;d++){var g=c[d].exist;if(!(c[d].option||null!=g.id&&null!=a.id||null==a.name||kg(a)||kg(g)||g.name!==a.name+""))return c[d].option=a,void(b[e]=null)}}}),wc(b,function(a,b){if(Sd(a)){for(var d=0;d<c.length;d++){var e=c[d].exist;if(!c[d].option&&!kg(e)&&null==a.id){c[d].option=a;break}}d>=c.length&&c.push({option:a})}}),c}function co(a){var b=xa();wc(a,function(a,d){var c=a.exist;c&&b.set(c.id,a)});wc(a,function(a,d){var c=a.option;kc(!c||null==c.id||!b.get(c.id)||b.get(c.id)===a,"id duplicates: "+(c&&c.id));c&&null!=c.id&&b.set(c.id,a);!a.keyInfo&&(a.keyInfo={})});wc(a,function(a,d){var c=a.exist,f=a.option,g=a.keyInfo;if(Sd(f)){if(g.name=null!=f.name?f.name+"":c?c.name:"\x00-",c)g.id=c.id;else if(null!=f.id)g.id=f.id+"";else{c=0;do g.id="\x00"+g.name+"\x00"+c++;while(b.get(g.id))}b.set(g.id,a)}})}function kg(a){return Sd(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")}function Ru(a,b){function c(a,b,c){for(var d=0,e=a.length;d<e;d++)for(var f=a[d].seriesId,g=kb(a[d].dataIndex),h=c&&c[f],k=0,u=g.length;k<u;k++){var v=g[k];h&&h[v]?h[v]=null:(b[f]||(b[f]={}))[v]=1}}function d(a,b){var c=[],e;for(e in a)if(a.hasOwnProperty(e)&&null!=a[e])if(b)c.push(+e);else{var f=d(a[e],!0);f.length&&c.push({seriesId:e,dataIndex:f})}return c}var e={},f={};return c(a||[],e),c(b||[],f,e),[d(e),d(f)]}function lg(a,b){return null!=b.dataIndexInside?b.dataIndexInside:null!=b.dataIndex?A(b.dataIndex)?w(b.dataIndex,function(b){return a.indexOfRawIndex(b)}):a.indexOfRawIndex(b.dataIndex):null!=b.name?A(b.name)?w(b.name,function(b){return a.indexOfName(b)}):a.indexOfName(b.name):void 0}function Xe(a,b,c){if(Da(b)){var d={};d[b+"Index"]=0;b=d}d=c&&c.defaultMainType;!d||b&&b.hasOwnProperty(d+"Index")||b&&b.hasOwnProperty(d+"Id")||b&&b.hasOwnProperty(d+"Name")||(b[d+"Index"]=0);var e={};return wc(b,function(d,g){d=b[g];if("dataIndex"!==g&&"dataIndexInside"!==g){var f=g.match(/^(\w+)(Index|Id|Name)$/)||[],k=f[1],f=(f[2]||"").toLowerCase();if(!(!k||!f||null==d||"index"===f&&"none"===d||c&&c.includeMainTypes&&0>S(c.includeMainTypes,k))){var l={mainType:k};"index"===f&&"all"===d||(l[f]=d);f=a.queryComponents(l);e[k+"Models"]=f;e[k+"Model"]=f[0]}}else e[g]=d}),e}function Su(a,b){var c=[];return wc(a.dimensions,function(d){d=a.getDimensionInfo(d);d.coordDim===b&&(c[d.coordDimIndex]=d.name)}),c}function eo(a,b){var c=[];return wc(a.dimensions,function(d){d=a.getDimensionInfo(d);var e=d.otherDims[b];null!=e&&!1!==e&&(c[e]=d.name)}),c}function dj(a){return[a||"",Tu++,Math.random()].join(Uu)}function ej(a,b,c,d,e){var f=0,g=0;null==d&&(d=1/0);null==e&&(e=1/0);var h=0;b.eachChild(function(k,l){var m,n,p=k.position,q=k.getBoundingRect(),t=b.childAt(l+1),t=t&&t.getBoundingRect();"horizontal"===a?(t=q.width+(t?-t.x+q.x:0),(m=f+t)>d||k.newline?(f=0,m=t,g+=h+c,h=q.height):h=Math.max(h,q.height)):(t=q.height+(t?-t.y+q.y:0),(n=g+t)>e||k.newline?(f+=h+c,g=0,n=t,h=q.width):h=Math.max(h,q.width));k.newline||(p[0]=f,p[1]=g,"horizontal"===a?f=m+c:g=n+c)})}function ya(a,b,c){c=fd(c||0);var d=b.width;b=b.height;var e=B(a.left,d),f=B(a.top,b),g=B(a.right,d),h=B(a.bottom,b),k=B(a.width,d),l=B(a.height,b),m=c[2]+c[0],n=c[1]+c[3],p=a.aspect;switch(isNaN(k)&&(k=d-g-n-e),isNaN(l)&&(l=b-h-m-f),null!=p&&(isNaN(k)&&isNaN(l)&&(p>d/b?k=.8*d:l=.8*b),isNaN(k)&&(k=p*l),isNaN(l)&&(l=k/p)),isNaN(e)&&(e=d-g-k-n),isNaN(f)&&(f=b-h-l-m),a.left||a.right){case "center":e=d/2-k/2-c[3];break;case "right":e=d-k-n}switch(a.top||a.bottom){case "middle":case "center":f=b/2-l/2-c[0];break;case "bottom":f=b-l-m}e=e||0;f=f||0;isNaN(k)&&(k=d-n-e-(g||0));isNaN(l)&&(l=b-m-f-(h||0));a=new U(e+c[3],f+c[0],k,l);return a.margin=c,a}function mg(a,b,c,d,e){var f=!e||!e.hv||e.hv[0],g=!e||!e.hv||e.hv[1];e=e&&e.boundingMode||"all";if(f||g){var h;if("raw"===e)h="group"===a.type?new U(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(h=a.getBoundingRect(),a.needLocalTransform()){var k=a.getLocalTransform();(h=h.clone()).applyTransform(k)}b=ya(J({width:h.width,height:h.height},b),c,d);c=a.position;f=f?b.x-h.x:0;b=g?b.y-h.y:0;a.attr("position","raw"===e?[f,b]:[c[0]+f,c[1]+b])}}function xc(a,b,c){function d(c,d){var f={},h=0,k={},l=0;if(ng(c,function(b){k[b]=a[b]}),ng(c,function(a){b.hasOwnProperty(a)&&(f[a]=k[a]=b[a]);e(f,a)&&h++;e(k,a)&&l++}),g[d])return e(b,c[1])?k[c[2]]=null:e(b,c[2])&&(k[c[1]]=null),k;if(2!==l&&h){if(2<=h)return f;for(var t=0;t<c.length;t++){var u=c[t];if(!f.hasOwnProperty(u)&&a.hasOwnProperty(u)){f[u]=a[u];break}}return f}return k}function e(a,b){return null!=a[b]&&"auto"!==a[b]}function f(a,b,c){ng(a,function(a){b[a]=c[a]})}!T(c)&&(c={});var g=c.ignoreSize;!A(g)&&(g=[g,g]);c=d(gd[0],0);var h=d(gd[1],1);f(gd[0],a,c);f(gd[1],a,h)}function hd(a,b){return b&&a&&ng(fo,function(c){b.hasOwnProperty(c)&&(a[c]=b[c])}),a}function Vu(a,b){r(b,function(b,d){V.hasClass(d)||("object"==typeof b?a[d]=a[d]?L(a[d],b,!1):G(b):null==a[d]&&(a[d]=b))})}function Wu(a){this.option={};this.option[fj]=1;this._componentsMap=xa({series:[]});this._seriesIndices=null;Vu(a,this._theme.option);L(a,Xu,!1);this.mergeOption(a)}function Yu(a,b){A(b)||(b=b?[b]:[]);var c={};return lb(b,function(b){c[b]=(a.get(b)||[]).slice()}),c}function gj(a){return go(a,function(a){return a.componentIndex})||[]}function ho(a,b){return b.hasOwnProperty("subType")?yc(a,function(a){return a.subType===b.subType}):a}function Zu(a){r($u,function(b){this[b]=z(a[b],a)},this)}function fb(){this._coordinateSystems=[]}function hj(a){this._api=a;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}function av(a,b,c){var d,e,f=[],g=[],h=a.timeline;if(a.baseOption&&(e=a.baseOption),(h||a.options)&&(e=e||{},f=(a.options||[]).slice()),a.media)e=e||{},og(a.media,function(a){a&&a.option&&(a.query?g.push(a):d||(d=a))});return e||(e=a),e.timeline||(e.timeline=h),og([e].concat(f).concat(w(g,function(a){return a.option})),function(a){og(b,function(b){b(a,c)})}),{baseOption:e,timelineOptions:f,mediaDefault:d,mediaList:g}}function bv(a,b,c){var d={width:b,height:c,aspectratio:b/c},e=!0;return r(a,function(a,b){var c=b.match(cv);if(c&&c[1]&&c[2]){var f=c[1],c=c[2].toLowerCase(),c=d[c];("min"===f?c>=a:"max"===f?c<=a:c===a)||(e=!1)}}),e}function dv(a,b){return a.join(",")===b.join(",")}function ev(a,b){og(b=b||{},function(b,d){if(null!=b){var c=a[d];if(V.hasClass(d)){b=kb(b);var f=cj(c=kb(c),b);a[d]=pg(f,function(a){return a.option&&a.exist?io(a.exist,a.option,!0):a.exist||a.option})}else a[d]=io(c,b,!0)}})}function zc(a){var b=a&&a.itemStyle;if(b)for(var c=0,d=jo.length;c<d;c++){var e=jo[c],f=b.normal,g=b.emphasis;f&&f[e]&&(a[e]=a[e]||{},a[e].normal?L(a[e].normal,f[e]):a[e].normal=f[e],f[e]=null);g&&g[e]&&(a[e]=a[e]||{},a[e].emphasis?L(a[e].emphasis,g[e]):a[e].emphasis=g[e],g[e]=null)}}function $a(a,b){var c=Td(a)&&a[b],d=Td(c)&&c.textStyle;if(d)for(var e=0,f=ko.length;e<f;e++)b=ko[e],d.hasOwnProperty(b)&&(c[b]=d[b])}function Sa(a){Td(a)&&($a(a,"normal"),$a(a,"emphasis"))}function id(a){return A(a)?a:a?[a]:[]}function ij(a){return(A(a)?a[0]:a)||{}}function lo(a){r(fv,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}function Ta(){this.group=new F;this.uid=dj("viewChart")}function jj(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var c=0;c<a.childCount();c++)jj(a.childAt(c),b)}function mo(a,b,c){b=lg(a,b);null!=b?r(kb(b),function(b){jj(a.getItemGraphicEl(b),c)}):a.eachItemGraphicEl(function(a){jj(a,c)})}function kj(a,b,c){function d(){m=(new Date).getTime();n=null;a.apply(g,h||[])}var e,f,g,h,k,l=0,m=0,n=null;b=b||0;var p=function(){e=(new Date).getTime();g=this;h=arguments;var a=k||b,p=k||c;k=null;f=e-(p?l:m)-a;clearTimeout(n);p?n=setTimeout(d,a):0<=f?d():n=setTimeout(d,-f);l=e};return p.clear=function(){n&&(clearTimeout(n),n=null)},p.debounceNextCall=function(a){k=a},p}function Ye(a,b,c,d){var e=a[b];if(e){var f=e[qg]||e,g=e[no];if(e[oo]!==c||g!==d){if(null==c||!d)return a[b]=f;(e=a[b]=kj(f,c,"debounce"===d))[qg]=f;e[no]=d;e[oo]=c}return e}}function po(a,b){var c=a[b];c&&c[qg]&&(a[b]=c[qg])}function Ud(a){return function(b,c,d){b=b&&b.toLowerCase();mb.prototype[a].call(this,b,c,d)}}function Ze(){this._$handlers={}}function $e(a,b,c){function d(a,b){return a.prio-b.prio}c=c||{};"string"==typeof b&&(b=qo[b]);this.id;this.group;this._dom=a;a=this._zr=Ki(a,{renderer:c.renderer||"canvas",devicePixelRatio:c.devicePixelRatio,width:c.width,height:c.height});this._throttledZrFlush=kj(z(a.flush,a),17);(b=G(b))&&ro(b,!0);this._theme=b;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new fb;this._api=gv(this);this._$handlers={};this._messageCenter=new Ze;this._initEvents();this.resize=z(this.resize,this);this._pendingActions=[];Uf(af,d);Uf(lj,d);a.animation.on("frame",this._onframe,this);xm(this)}function so(a,b,c){var d,e=this._model,f=this._coordSysMgr.getCoordinateSystems();b=Xe(e,b);for(var g=0;g<f.length;g++){var h=f[g];if(h[a]&&null!=(d=h[a](e,b,c)))return d}}function to(a,b,c,d,e){function f(d){d&&d.__alive&&d[b]&&d[b](d.__model,g,a._api,c)}var g=a._model;if(d){var h={};h[d+"Id"]=c[d+"Id"];h[d+"Index"]=c[d+"Index"];h[d+"Name"]=c[d+"Name"];h={mainType:d,query:h};e&&(h.subType=e);g&&g.eachComponent(h,function(b,c){f(a["series"===d?"_chartsMap":"_componentsMap"][b.__viewId])},a)}else Ha(a._componentsViews.concat(a._chartsViews),f)}function uo(a,b){var c=a.type,d=a.escapeConnect,e=rg[c],f=e.actionInfo,g=(f.update||"update").split(":"),h=g.pop(),g=null!=g[0]&&vo(g[0]);this[Db]=!0;var k=[a],l=!1;a.batch&&(l=!0,k=w(a.batch,function(b){return b=J(I({},b),a),b.batch=null,b}));var m,n=[],p="highlight"===c||"downplay"===c;Ha(k,function(a){m=e.action(a,this._model,this._api);(m=m||I({},a)).type=f.event||m.type;n.push(m);p?to(this,h,a,"series"):g&&to(this,h,a,g.main,g.sub)},this);"none"===h||p||g||(this[jd]?(Vd.prepareAndUpdate.call(this,a),this[jd]=!1):Vd[h].call(this,a));m=l?{type:f.event||c,escapeConnect:d,batch:n}:n[0];this[Db]=!1;!b&&this._messageCenter.trigger(m.type,m)}function sg(a){for(var b=this._pendingActions;b.length;){var c=b.shift();uo.call(this,c,a)}}function mj(a,b,c){var d=this._api;Ha(this._componentsViews,function(e){var f=e.__model;e[a](f,b,d,c);tg(f,e)},this);b.eachSeries(function(e,f){var g=this._chartsMap[e.__viewId];g[a](e,b,d,c);tg(e,g);wo(e,g)},this);xo(this._zr,b);Ha(nj,function(a){a(b,d)})}function yo(a,b){for(var c="component"===a,d=c?this._componentsViews:this._chartsViews,e=c?this._componentsMap:this._chartsMap,f=this._zr,g=0;g<d.length;g++)d[g].__alive=!1;b[c?"eachComponent":"eachSeries"](function(a,g){if(c){if("series"===a)return}else g=a;var h="_ec_"+g.id+"_"+g.type,k=e[h];if(!k){k=vo(g.type);k=c?dc.getClass(k.main,k.sub):Ta.getClass(k.sub);if(!k)return;(k=new k).init(b,this._api);e[h]=k;d.push(k);f.add(k.group)}g.__viewId=k.__id=h;k.__alive=!0;k.__model=g;k.group.__ecComponentInfo={mainType:g.mainType,index:g.componentIndex}},this);for(g=0;g<d.length;){var h=d[g];h.__alive?g++:(f.remove(h.group),h.dispose(b,this._api),d.splice(g,1),delete e[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function hv(a,b){Ha(lj,function(c){c.func(a,b)})}function iv(a){var b={};a.eachSeries(function(a){var c=a.get("stack");a=a.getData();if(c&&"list"===a.type){var e=b[c];b.hasOwnProperty(c)&&e&&(a.stackedOn=e);b[c]=a}})}function jv(a,b){var c=this._api;Ha(af,function(d){d.isLayout&&d.func(a,c,b)})}function oj(a,b,c){var d=this._api;a.clearColorPalette();a.eachSeries(function(a){a.clearColorPalette()});Ha(af,function(e){c&&e.isLayout||e.func(a,d,b)})}function kv(a,b){var c=this._api;Ha(this._componentsViews,function(d){var e=d.__model;d.render(e,a,c,b);tg(e,d)},this);Ha(this._chartsViews,function(a){a.__alive=!1},this);a.eachSeries(function(d,e){var f=this._chartsMap[d.__viewId];f.__alive=!0;f.render(d,a,c,b);f.group.silent=!!d.get("silent");tg(d,f);wo(d,f)},this);xo(this._zr,a);Ha(this._chartsViews,function(b){b.__alive||b.remove(a,c)},this)}function xo(a,b){var c=a.storage,d=0;c.traverse(function(a){a.isGroup||d++});d>b.get("hoverLayerThreshold")&&!ca.node&&c.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function wo(a,b){var c=0;b.group.traverse(function(a){"group"===a.type||a.ignore||c++});var d=+a.get("progressive"),e=c>a.get("progressiveThreshold")&&d&&!ca.node;e&&b.group.traverse(function(a){a.isGroup||(a.progressive=e?Math.floor(c++/d):-1,e&&a.stopAnimation(!0))});var f=a.get("blendMode")||null;b.group.traverse(function(a){a.isGroup||a.setStyle("blend",f)})}function tg(a,b){var c=a.get("z"),d=a.get("zlevel");b.group.traverse(function(a){"group"!==a.type&&(null!=c&&(a.z=c),null!=d&&(a.zlevel=d))})}function gv(a){var b=a._coordSysMgr;return I(new Zu(a),{getCoordinateSystems:z(b.getCoordinateSystems,b),getComponentByElement:function(b){for(;b;){var c=b.__ecComponentInfo;if(null!=c)return a._model.getComponent(c.mainType,c.index);b=b.parent}}})}function lv(a){function b(a,b){for(var d=0;d<a.length;d++)a[d][c]=b}var c="__connectUpdateStatus";r(ug,function(d,e){a._messageCenter.on(e,function(d){if(vg[a.group]&&0!==a[c]&&(!d||!d.escapeConnect)){var e=a.makeActionFromEvent(d),f=[];r(kd,function(b){b!==a&&b.group===a.group&&f.push(b)});b(f,0);Ha(f,function(a){1!==a[c]&&a.dispatchAction(e)});b(f,2)}})})}function zo(a){vg[a]=!1}function pj(a){var b;return b=a.getAttribute?a.getAttribute(wg):a[wg],kd[b]}function oa(a){Ao.push(a)}function Ua(a,b){"function"==typeof a&&(b=a,a=Bo);lj.push({prio:a,func:b})}function X(a,b,c){"function"==typeof b&&(c=b,b="");var d=T(a)?a.type:[a,a={event:b}][0];a.event=(a.event||d).toLowerCase();b=a.event;kc(Co.test(d)&&Co.test(b));rg[d]||(rg[d]={action:c,actionInfo:a});ug[b]=d}function qj(a,b){fb.register(a,b)}function ta(a,b){"function"==typeof a&&(b=a,a=Do);af.push({prio:a,func:b,isLayout:!0})}function na(a,b){"function"==typeof a&&(b=a,a=Eo);af.push({prio:a,func:b})}function Fo(a,b){rj[a]=b}function gb(a){return V.extend(a)}function ua(a){return dc.extend(a)}function bf(a){return va.extend(a)}function Na(a){return Ta.extend(a)}function Go(a){return a}function Ac(a,b,c,d,e){this._old=a;this._new=b;this._oldKeyGetter=c||Go;this._newKeyGetter=d||Go;this.context=e}function Ho(a,b,c,d,e){for(var f=0;f<a.length;f++){var g="_ec_"+e[d](a[f],f),h=b[g];null==h?(c.push(g),b[g]=f):(h.length||(b[g]=h=[h]),h.push(f))}}function Io(a,b){r(mv.concat(b.__wrappedMethods||[]),function(c){b.hasOwnProperty(c)&&(a[c]=b[c])});a.__wrappedMethods=b.__wrappedMethods}function xg(a){this._array=a||[]}function sj(a){return A(a)||(a=[a]),a}function Jo(a,b){var c=a.dimensions,d=new pa(w(c,a.getDimensionInfo,a),a.hostModel);Io(d,a);for(var e=d._storage={},f=a._storage,g=0;g<c.length;g++){var h=c[g],k=f[h];0<=S(b,h)?e[h]=new k.constructor(f[h].length):e[h]=f[h]}return d}function ab(a,b,c){function d(a,b,c){nv[b]?a.otherDims[b]=c:(a.coordDim=b,a.coordDimIndex=c,k.set(b,!0))}function e(a,b,c){if(c||null!=b.get(a)){for(c=0;null!=b.get(a+c);)c++;a+=c}return b.set(a,!0),a}b=b||[];c=c||{};a=(a||[]).slice();var f=(c.dimsDef||[]).slice(),g=xa(c.encodeDef),h=xa(),k=xa(),l=[],m=c.dimCount;if(null==m){var n=Ko(b[0]),m=Math.max(A(n)&&n.length||1,a.length,f.length);yg(a,function(a){(a=a.dimsDef)&&(m=Math.max(m,a.length))})}for(n=0;n<m;n++){var p=zg(f[n])?{name:f[n]}:f[n]||{},q=p.name,t=l[n]={otherDims:{}};null!=q&&null==h.get(q)&&(t.name=t.tooltipName=q,h.set(q,n));null!=p.type&&(t.type=p.type)}g.each(function(a,b){a=g.set(b,kb(a).slice());yg(a,function(c,e){zg(c)&&(c=h.get(c));null!=c&&c<m&&(a[e]=c,d(l[c],b,e))})});var u=0;yg(a,function(a,b){var c,e,f;zg(a)?(c=a,a={}):(c=a.name,a=G(a),e=a.dimsDef,f=a.otherDims,a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null);var h=kb(g.get(c));if(!h.length)for(var k=0;k<(e&&e.length||1);k++){for(;u<l.length&&null!=l[u].coordDim;)u++;u<l.length&&h.push(u++)}yg(h,function(b,g){var h=l[b];d(Lo(h,a),c,g);null==h.name&&e&&(h.name=h.tooltipName=e[g]);f&&Lo(h.otherDims,f)})});a=c.extraPrefix||"value";for(f=0;f<m;f++)null==(t=l[f]=l[f]||{}).coordDim&&(t.coordDim=e(a,k,c.extraFromZero),t.coordDimIndex=0,t.isExtraCoord=!0),null==t.name&&(t.name=e(t.coordDim,h)),null==t.type&&ov(b,f)&&(t.type="ordinal");return l}function Ko(a){return A(a)?a:T(a)?a.value:a}function pv(a){for(var b=0;b<a.length&&null==a[b];)b++;a=a[b];return null!=a&&!A(We(a))}function Bc(a,b,c){a=a||[];var d=b.get("coordinateSystem"),e=qv[d],d=fb.get(d),f={encodeDef:b.get("encode"),dimsDef:b.get("dimensions")},g=e&&e(a,b,c,f),h=g&&g.dimensions;h||(h=d&&(d.getDimensionsInfo?d.getDimensionsInfo():d.dimensions.slice())||["x","y"],h=ab(h,a,f));var k=g?g.categoryIndex:-1,l=new pa(h,b);b=rv(g,a);var m={};c=0<=k&&pv(a)?function(a,b,c,d){return aj(a)&&(l.hasItemOption=!0),d===k?c:bj(We(a),h[d])}:function(a,b,c,d){c=We(a);d=bj(c&&c[d],h[d]);aj(a)&&(l.hasItemOption=!0);a=g&&g.categoryAxesModels;return a&&a[b]&&"string"==typeof d&&(m[b]=m[b]||a[b].getCategories(),0>(d=S(m[b],d))&&!isNaN(d)&&(d=+d)),d};return l.hasItemOption=!1,l.initData(a,b,c),l}function cf(a){return"category"!==a&&"time"!==a}function df(a){return"category"===a?"ordinal":"time"===a?"time":"float"}function rv(a,b){var c,d=[],e=a&&a.dimensions[a.categoryIndex];if(e&&(c=a.categoryAxesModels[e.name]),c)if(c=c.getCategories())if(e=b.length,A(b[0])&&1<b[0].length)for(var d=[],f=0;f<e;f++)d[f]=c[b[f][a.categoryIndex||0]];else d=c.slice(0);return d}function za(a){this._setting=a||{};this._extent=[1/0,-1/0];this._interval=0;this.init&&this.init.apply(this,arguments)}function Mo(a,b){!isFinite(a[0])&&(a[0]=b[0]);!isFinite(a[1])&&(a[1]=b[1]);a[0]=Math.max(Math.min(a[0],b[1]),b[0]);a[1]=Math.max(Math.min(a[1],b[1]),b[0]);a[0]>a[1]&&(a[0]=a[1])}function No(a,b){var c,d,e,f=a.type,g=b.getMin(),h=b.getMax(),k=null!=g,l=null!=h,m=a.getExtent();return"ordinal"===f?c=(b.get("data")||[]).length:(A(d=b.get("boundaryGap"))||(d=[d||0,d||0]),"boolean"==typeof d[0]&&(d=[0,0]),d[0]=B(d[0],1),d[1]=B(d[1],1),e=m[1]-m[0]||Math.abs(m[0])),null==g&&(g="ordinal"===f?c?0:NaN:m[0]-d[0]*e),null==h&&(h="ordinal"===f?c?c-1:NaN:m[1]+d[1]*e),"dataMin"===g?g=m[0]:"function"==typeof g&&(g=g({min:m[0],max:m[1]})),"dataMax"===h?h=m[1]:"function"==typeof h&&(h=h({min:m[0],max:m[1]})),(null==g||!isFinite(g))&&(g=NaN),(null==h||!isFinite(h))&&(h=NaN),a.setBlank(Ce(g)||Ce(h)),b.getNeedCrossZero()&&(0<g&&0<h&&!k&&(g=0),0>g&&0>h&&!l&&(h=0)),[g,h]}function Cc(a,b){var c=No(a,b),d=null!=b.getMin(),e=null!=b.getMax(),f=b.get("splitNumber");"log"===a.type&&(a.base=b.get("logBase"));var g=a.type;a.setExtent(c[0],c[1]);a.niceExtent({splitNumber:f,fixMin:d,fixMax:e,minInterval:"interval"===g||"time"===g?b.get("minInterval"):null,maxInterval:"interval"===g||"time"===g?b.get("maxInterval"):null});c=b.get("interval");null!=c&&a.setInterval&&a.setInterval(c)}function Wd(a,b){if(b=b||a.get("type"))switch(b){case "category":return new tj(a.getCategories(),[1/0,-1/0]);case "value":return new Eb;default:return(za.getClass(b)||Eb).create(a)}}function Oo(a,b,c,d,e){var f,g=0,h=0;d=(d-e)/180*Math.PI;e=1;40<b.length&&(e=Math.floor(b.length/40));for(var k=0;k<a.length;k+=e){var l=a[k],m=ac(b[k],c,"center","top");m.x+=l*Math.cos(d);m.y+=l*Math.sin(d);m.width*=1.3;m.height*=1.3;f?f.intersect(m)?(h++,g=Math.max(g,h)):(f.union(m),h=0):f=m.clone()}return 0===g&&1<e?e:(g+1)*e-1}function uj(a,b){var c=a.scale,d=c.getTicksLabels(),c=c.getTicks();return"string"==typeof b?(b=function(a){return function(b){return a.replace("{value}",null!=b?b:"")}}(b),w(d,b)):"function"==typeof b?w(c,function(c,d){return b(vj(a,c),d)},this):d}function vj(a,b){return"category"===a.type?a.scale.getLabel(b):b}function sv(a){return T(a)&&null!=a.value?a.value:a+""}function tv(a,b){if("image"!==this.type){var c=this.style,d=this.shape;d&&"line"===d.symbolType?c.stroke=a:this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff"):(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a));this.dirty(!1)}}function nb(a,b,c,d,e,f,g){var h=0===a.indexOf("empty");h&&(a=a.substr(5,1).toLowerCase()+a.substr(6));var k;return k=0===a.indexOf("image://")?Pn(a.slice(8),new U(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?Ue(a.slice(7),{},new U(b,c,d,e),g?"center":"cover"):new uv({shape:{symbolType:a,x:b,y:c,width:d,height:e}}),k.__isEmptyBrush=h,k.setColor=tv,k.setColor(f),k}function Po(a,b){var c=(a[1]-a[0])/b/2;a[0]+=c;a[1]-=c}function ld(a,b,c){var d=0,e=a[0];if(!e)return!1;for(var f=1;f<a.length;f++)var g=a[f],d=d+cc(e[0],e[1],g[0],g[1],b,c),e=g;a=a[0];return Math.abs(e[0]-a[0])<Qo&&Math.abs(e[1]-a[1])<Qo||(d+=cc(e[0],e[1],a[0],a[1],b,c)),0!==d}function Ag(a,b,c){(this.name=a,this.geometries=b,c)?c=[c[0],c[1]]:(a=this.getBoundingRect(),c=[a.x+a.width/2,a.y+a.height/2]);this.center=c}function vv(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;null==b&&(b=1024);for(var c=a.features,d=0;d<c.length;d++)for(var e=c[d].geometry,f=e.coordinates,g=e.encodeOffsets,h=0;h<f.length;h++){var k=f[h];if("Polygon"===e.type)f[h]=Ro(k,g[h],b);else if("MultiPolygon"===e.type)for(var l=0;l<k.length;l++)k[l]=Ro(k[l],g[h][l],b)}return a.UTF8Encoding=!1,a}function Ro(a,b,c){var d=[],e=b[0];b=b[1];for(var f=0;f<a.length;f+=2){var g=a.charCodeAt(f)-64,h=a.charCodeAt(f+1)-64,g=g>>1^-(1&g),h=h>>1^-(1&h),e=g+=e;b=h+=b;d.push([g/c,h/c])}return d}function So(a){var b,c=eo(a,"label");if(c.length)b=c[0];else for(var d,c=a.dimensions.slice();c.length&&(b=c.pop(),"ordinal"===(d=a.getDimensionInfo(b).type)||"time"===d););return b}function Xd(a,b,c){F.call(this);this.updateData(a,b,c)}function wv(a,b){this.parent.drift(a,b)}function Yd(a){this.group=new F;this._symbolCtor=a||Xd}function To(a,b,c){var d=a.getItemLayout(b);return d&&!isNaN(d[0])&&!isNaN(d[1])&&!(c&&c(b))&&"none"!==a.getItemVisual(b,"symbol")}function Uo(a){return 0<=a?1:-1}function Vo(a,b,c){for(var d,e=a.getBaseAxis(),f=a.getOtherAxis(e),g=e.onZero?0:f.scale.getExtent()[0],f=f.dim,h="x"===f||"radius"===f?1:0,k=b.stackedOn,l=b.get(f,c);k&&Uo(k.get(f,c))===Uo(l);){d=k;break}k=[];return k[h]=b.get(e.dim,c),k[1-h]=d?d.get(f,c,!0):g,a.dataToPoint(k)}function xv(a,b){var c=[];return b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"\x3d",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute(),c}function Dc(a){return isNaN(a[0])||isNaN(a[1])}function wj(a,b,c,d,e,f,g,h,k,l,m){for(var n=0,p=c,q=0;q<d;q++){var t=b[p];if(p>=e||0>p)break;if(Dc(t)){if(m){p+=f;continue}break}if(p===c)a[0<f?"moveTo":"lineTo"](t[0],t[1]),Wo(Ec,t);else if(0<k){var u=p+f,v=b[u];if(m)for(;v&&Dc(b[u]);)v=b[u+=f];var x=.5,n=b[n];!(v=b[u])||Dc(v)?Wo(Fc,t):(Dc(v)&&!m&&(v=t),Vb(xj,v,n),"x"===l||"y"===l?(x="x"===l?0:1,u=Math.abs(t[x]-n[x]),v=Math.abs(t[x]-v[x])):(u=md(t,n),v=md(t,v)),Xo(Fc,t,xj,-k*(1-(x=v/(v+u)))));Yo(Ec,Ec,h);Zo(Ec,Ec,g);Yo(Fc,Fc,h);Zo(Fc,Fc,g);a.bezierCurveTo(Ec[0],Ec[1],Fc[0],Fc[1],t[0],t[1]);Xo(Ec,t,xj,k*x)}else a.lineTo(t[0],t[1]);n=p;p+=f}return q}function yj(a,b){var c=[1/0,1/0],d=[-1/0,-1/0];if(b)for(var e=0;e<a.length;e++){var f=a[e];f[0]<c[0]&&(c[0]=f[0]);f[1]<c[1]&&(c[1]=f[1]);f[0]>d[0]&&(d[0]=f[0]);f[1]>d[1]&&(d[1]=f[1])}return{min:b?c:d,max:b?d:c}}function $o(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++){var d=a[c],e=b[c];if(d[0]!==e[0]||d[1]!==e[1])return}return!0}}function ap(a){return"number"==typeof a?a:a?.3:0}function bp(a){var b=a.getGlobalExtent();if(a.onBand){a=a.getBandWidth()/2-1;var c=b[1]>b[0]?1:-1;b[0]+=c*a;b[1]-=c*a}return b}function cp(a){return 0<=a?1:-1}function yv(a,b){var c=a.getBaseAxis(),d=a.getOtherAxis(c),e=0;if(!c.onZero){var f=d.scale.getExtent();0<f[0]?e=f[0]:0>f[1]&&(e=f[1])}var g=d.dim,h="x"===g||"radius"===g?1:0;return b.mapArray([g],function(d,f){for(var k,l=b.stackedOn;l&&cp(l.get(g,f))===cp(d);){k=l;break}l=[];return l[h]=b.get(c.dim,f),l[1-h]=k?k.get(g,f,!0):e,a.dataToPoint(l)},!0)}function dp(a,b,c){if("polar"===a.type){var d=a.getAngleAxis(),e=a.getRadiusAxis().getExtent(),f=d.getExtent(),g=Math.PI/180;a=new Gc({shape:{cx:a.cx,cy:a.cy,r0:e[0],r:e[1],startAngle:-f[0]*g,endAngle:-f[1]*g,clockwise:d.inverse}});b=(b&&(a.shape.endAngle=-f[0]*g,Ga(a,{shape:{endAngle:-f[1]*g}},c)),a)}else{d=bp(a.getAxis("x"));e=bp(a.getAxis("y"));a=a.getBaseAxis().isHorizontal();var f=Math.min(d[0],d[1]),g=Math.min(e[0],e[1]),d=Math.max(d[0],d[1])-f,e=Math.max(e[0],e[1])-g,h=c.get("lineStyle.normal.width")||2,h=c.get("clipOverflow")?h/2:Math.max(d,e);a?(g-=h,e+=2*h):(f-=h,d+=2*h);f=new fa({shape:{x:f,y:g,width:d,height:e}});b=(b&&(f.shape[a?"width":"height"]=0,Ga(f,{shape:{width:d,height:e}},c)),f)}return b}function Hc(a,b,c){b=b.getBaseAxis();b="x"===b.dim||"radius"===b.dim?0:1;for(var d=[],e=0;e<a.length-1;e++){var f=a[e+1],g=a[e];d.push(g);var h=[];switch(c){case "end":h[b]=f[b];h[1-b]=g[1-b];d.push(h);break;case "middle":var k=[];h[b]=k[b]=(g[b]+f[b])/2;h[1-b]=g[1-b];k[1-b]=f[1-b];d.push(h);d.push(k);break;default:h[b]=g[b],h[1-b]=f[1-b],d.push(h)}}return a[e]&&d.push(a[e]),d}function zv(a,b){var c=a.getVisual("visualMeta");if(c&&c.length&&a.count()){for(var d,e=c.length-1;0<=e;e--)if(2>c[e].dimension){d=c[e];break}if(d&&"cartesian2d"===b.type){var c=a.dimensions[d.dimension],f=b.getAxis(c),e=w(d.stops,function(a){return{coord:f.toGlobalCoord(f.dataToCoord(a.value)),color:a.color}}),g=e.length,h=d.outerColors.slice();g&&e[0].coord>e[g-1].coord&&(e.reverse(),h.reverse());var k=e[0].coord-10;d=e[g-1].coord+10;var l=d-k;if(.001>l)return"transparent";r(e,function(a){a.offset=(a.coord-k)/l});e.push({offset:g?e[g-1].offset:.5,color:h[1]||"transparent"});e.unshift({offset:g?e[0].offset:.5,color:h[0]||"transparent"});e=new Zd(0,0,0,0,e,!0);return e[c]=k,e[c+"2"]=d,e}}}function Av(a){return this._axes[a]}function ef(a){Bg.call(this,a)}function ep(a,b){return b.type||(b.data?"category":"value")}function $d(a,b,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(a,b,c);this.model=a}function fp(a,b,c){a=a[b];if(c.onZero)if(b=c.onZeroAxisIndex,null==b){for(var d in a)if(a.hasOwnProperty(d)){var e=a[d];if(e&&!gp(e)){b=+d;break}}null==b&&(c.onZero=!1);c.onZeroAxisIndex=b}else(e=a[b])&&gp(e)&&(c.onZero=!1)}function gp(a){var b;(b="category"===a.type||"time"===a.type)||(b=a.scale.getExtent(),a=b[0],b=b[1],b=!!(0<a&&0<b||0>a&&0>b));return b}function Bv(a,b){var c=a.getExtent(),d=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return d-a+b};a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return d-a+b}}function hp(a,b){return w(Cv,function(b){return a.getReferringComponents(b)[0]})}function ip(a){return"cartesian2d"===a.get("coordinateSystem")}function jp(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function Dv(a,b,c,d){var e,f;a=Ni(c-a.rotation);d=d[0]>d[1];b="start"===b&&!d||"start"!==b&&d;return Ne(a-Ic/2)?(f=b?"bottom":"top",e="center"):Ne(a-1.5*Ic)?(f=b?"top":"bottom",e="center"):(f="middle",e=a<1.5*Ic&&a>Ic/2?b?"left":"right":b?"right":"left"),{rotation:a,textAlign:e,textVerticalAlign:f}}function kp(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function Ka(a){a&&(a.ignore=!0)}function lp(a,b,c){c=a&&a.getBoundingRect().clone();var d=b&&b.getBoundingRect().clone();if(c&&d){var e=Ge([]);return Xc(e,e,-a.rotation),c.applyTransform(Wc([],e,a.getLocalTransform())),d.applyTransform(Wc([],e,b.getLocalTransform())),c.intersect(d)}}function Ev(a,b,c){var d=b.axis;if(Ea(c.axisLabelShow,b.get("axisLabel.show"))&&!d.scale.isBlank()){var e=b.getModel("axisLabel"),f=e.get("margin"),g=d.scale.getTicks(),h=b.getFormattedLabels(),k=(Ea(c.labelRotate,e.get("rotate"))||0)*Ic/180,l=mp(c.rotation,k,c.labelDirection),m=b.get("data"),n=[],p=kp(b),q=b.get("triggerEvent"),t=b.get("axisLabel.showMinLabel"),u=b.get("axisLabel.showMaxLabel");return r(g,function(k,x){if(!np(d,x,c.labelInterval,g.length,t,u)){var v=e;m&&m[k]&&m[k].textStyle&&(v=new W(m[k].textStyle,e,b.ecModel));var r=v.getTextColor()||b.get("axisLine.lineStyle.color"),E=[d.dataToCoord(k),c.labelOffset+c.labelDirection*f],D=d.scale.getLabel(k),E=new Q({anid:"label_"+k,position:E,rotation:l.rotation,silent:p,z2:10});la(E.style,v,{text:h[x],textAlign:v.getShallow("align",!0)||l.textAlign,textVerticalAlign:v.getShallow("verticalAlign",!0)||v.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof r?r("category"===d.type?D:"value"===d.type?k+"":k,x):r});q&&(E.eventData=jp(b),E.eventData.targetType="axisLabel",E.eventData.value=D);a._dumbGroup.add(E);E.updateTransform();n.push(E);a.group.add(E);E.decomposeTransform()}}),n}}function Fv(a,b,c){var d=b.getComponent("tooltip"),e=b.getComponent("axisPointer"),f=e.get("link",!0)||[],g=[];ae(c.getCoordinateSystems(),function(c){function h(d,h,k){var l=k.model.getModel("axisPointer",e),p=l.get("show");if(p&&("auto"!==p||d||l.get("handle.show"))){null==h&&(h=l.get("triggerTooltip"));var q=(l=d?Gv(k,n,e,b,d,h):l).get("snap");d=ff(k.model);p=h||q||"category"===k.type;h=a.axesInfo[d]={key:d,axis:k,coordSys:c,axisPointerModel:l,triggerTooltip:h,involveSeries:p,snap:q,useHandle:!!l.get("handle.show"),seriesModels:[]};m[d]=h;a.seriesInvolved|=p;a:{l=k.model;k=k.dim;for(p=0;p<f.length;p++)if(q=f[p]||{},zj(q[k+"AxisId"],l.id)||zj(q[k+"AxisIndex"],l.componentIndex)||zj(q[k+"AxisName"],l.name)){k=p;break a}k=void 0}null!=k&&(l=g[k]||(g[k]={axesInfo:{}}),l.axesInfo[d]=h,l.mapper=f[k].mapper,h.linkGroup=l)}}if(c.axisPointerEnabled){var l=ff(c.model),m=a.coordSysAxesInfo[l]={};a.coordSysMap[l]=c;var n=c.model.getModel("tooltip",d);if(ae(c.getAxes(),Aj(h,!1,null)),c.getTooltipAxes&&d&&n.get("show")){var l="axis"===n.get("trigger"),p="cross"===n.get("axisPointer.type"),q=c.getTooltipAxes(n.get("axisPointer.axis"));(l||p)&&ae(q.baseAxes,Aj(h,!p||"cross",l));p&&ae(q.otherAxes,Aj(h,"cross",!1))}}})}function Gv(a,b,c,d,e,f){var g=b.getModel("axisPointer"),h={};ae("type snap lineStyle shadowStyle label animation animationDurationUpdate animationEasingUpdate z".split(" "),function(a){h[a]=G(g.get(a))});h.snap="category"!==a.type&&!!f;"cross"===g.get("type")&&(h.type="line");b=h.label||(h.label={});(null==b.show&&(b.show=!1),"cross"!==e||(b.show=!0,f))||(e=h.lineStyle=g.get("crossStyle"))&&J(b,e.textStyle);return a.model.getModel("axisPointer",new W(h,c,d))}function Hv(a,b){b.eachSeries(function(b){var c=b.coordinateSystem,e=b.get("tooltip.trigger",!0),f=b.get("tooltip.show",!0);c&&"none"!==e&&!1!==e&&"item"!==e&&!1!==f&&!1!==b.get("axisPointer.show",!0)&&ae(a.coordSysAxesInfo[ff(c.model)],function(a){var d=a.axis;c.getAxis(d.dim)===d&&(a.seriesModels.push(b),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=b.getData().count())})},this)}function zj(a,b){return"all"===a||A(a)&&0<=S(a,b)||a===b}function Bj(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[ff(a)]}function ff(a){return a.type+"||"+a.id}function op(a,b,c,d,e,f){if(c=vb.getAxisPointerClass(a.axisPointerClass))(e=(e=Bj(b))&&e.axisPointerModel)?(a._axisPointer||(a._axisPointer=new c)).render(b,e,d,f):((b=a._axisPointer)&&b.dispose(d,void 0),a._axisPointer=null)}function Cj(a,b,c){c=c||{};var d=a.coordinateSystem;a=b.axis;var e={},f=a.position,g=a.onZero?"onZero":f,h=a.dim,k=d.getRect(),k=[k.x,k.x+k.width,k.y,k.y+k.height],l={left:0,right:1,top:0,bottom:1,onZero:2},m=b.get("offset")||0,m="x"===h?[k[2]-m,k[3]+m]:[k[0]-m,k[1]+m];a.onZero&&(d=d.getAxis("x"===h?"y":"x",a.onZeroAxisIndex),d=d.toGlobalCoord(d.dataToCoord(0)),m[l.onZero]=Math.max(Math.min(d,m[1]),m[0]));e.position=["y"===h?m[l[g]]:k[0],"x"===h?m[l[g]]:k[3]];e.rotation=Math.PI/2*("x"===h?0:1);e.labelDirection=e.tickDirection=e.nameDirection={top:-1,bottom:1,left:-1,right:1}[f];e.labelOffset=a.onZero?m[l[f]]-m[l.onZero]:0;b.get("axisTick.inside")&&(e.tickDirection=-e.tickDirection);Ea(c.labelInside,b.get("axisLabel.inside"))&&(e.labelDirection=-e.labelDirection);b=b.get("axisLabel.rotate");return e.labelRotate="top"===g?-b:b,e.labelInterval=a.getLabelInterval(),e.z2=1,e}function pp(a){return a.get("stack")||Dj+a.seriesIndex}function Iv(a,b){return qp(w(a,function(a){var b=a.getData(),c=a.coordinateSystem.getBaseAxis(),f=c.getExtent(),b="category"===c.type?c.getBandWidth():Math.abs(f[1]-f[0])/b.count();return{bandWidth:b,barWidth:B(a.get("barWidth"),b),barMaxWidth:B(a.get("barMaxWidth"),b),barGap:a.get("barGap"),barCategoryGap:a.get("barCategoryGap"),axisKey:c.dim+c.index,stackId:pp(a)}}),b)}function qp(a,b){var c={};r(a,function(a,b){var d=a.axisKey,e=a.bandWidth,e=c[d]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=e.stacks;c[d]=e;d=a.stackId;f[d]||e.autoWidthCount++;f[d]=f[d]||{width:0,maxWidth:0};var l=a.barWidth;l&&!f[d].width&&(f[d].width=l,l=Math.min(e.remainedWidth,l),e.remainedWidth-=l);(l=a.barMaxWidth)&&(f[d].maxWidth=l);f=a.barGap;null!=f&&(e.gap=f);f=a.barCategoryGap;null!=f&&(e.categoryGap=f)});var d={};return r(c,function(a,b){d[b]={};var c=a.stacks,e=B(a.categoryGap,a.bandWidth),f=B(a.gap,1),l=a.remainedWidth,m=a.autoWidthCount,n=(l-e)/(m+(m-1)*f),n=Math.max(n,0);r(c,function(a,b){var c=a.maxWidth;c&&c<n&&(c=Math.min(c,l),a.width&&(c=Math.min(c,a.width)),l-=c,a.width=c,m--)});var n=(l-e)/(m+(m-1)*f),n=Math.max(n,0),p,q=0;r(c,function(a,b){a.width||(a.width=n);p=a;q+=a.width*(1+f)});p&&(q-=p.width*f);var t=-q/2;r(c,function(a,c){d[b][c]=d[b][c]||{offset:t,width:a.width};t+=a.width*(1+f)})}),d}function Cg(a,b,c){var d=Iv(Ca(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type})),e={},f={};b.eachSeriesByType(a,function(a){if("cartesian2d"===a.coordinateSystem.type){var b=a.getData(),c=a.coordinateSystem,g=c.getBaseAxis(),m=pp(a),n=d[g.dim+g.index][m],p=n.offset,q=n.width,t=c.getOtherAxis(g),u=a.get("barMinHeight")||0,v=g.onZero?t.toGlobalCoord(t.dataToCoord(0)):t.getGlobalExtent()[0],g=[a.coordDimToDataDim("x")[0],a.coordDimToDataDim("y")[0]],x=b.mapArray(g,function(a,b){return c.dataToPoint([a,b])},!0);e[m]=e[m]||[];f[m]=f[m]||[];b.setLayout({offset:p,size:q});b.each(a.coordDimToDataDim(t.dim)[0],function(a,c){if(!isNaN(a)){e[m][c]||(e[m][c]={p:v,n:v},f[m][c]={p:v,n:v});var d,g,h,k,l=0<=a?"p":"n",n=x[c],r=e[m][c][l],y=f[m][c][l];t.isHorizontal()?(d=r,g=n[1]+p,h=n[0]-y,k=q,f[m][c][l]+=h,Math.abs(h)<u&&(h=(0>h?-1:1)*u),e[m][c][l]+=h):(d=n[0]+p,g=r,h=q,k=n[1]-y,f[m][c][l]+=k,Math.abs(k)<u&&(k=(0>=k?-1:1)*u),e[m][c][l]+=k);b.setItemLayout(c,{x:d,y:g,width:h,height:k})}},!0)}},this)}function rp(a,b,c,d,e,f,g){Cb(a,b,c.getModel("label.normal"),c.getModel("label.emphasis"),{labelFetcher:e,labelDataIndex:f,defaultText:e.getRawValue(f),isRectText:!0,autoColor:d});"outside"===a.textPosition&&(a.textPosition=void 0);"outside"===b.textPosition&&(b.textPosition=void 0)}function sp(a,b,c){c.style.text=null;Z(c,{shape:{width:0}},b,a,function(){c.parent&&c.parent.remove(c)})}function tp(a,b,c){c.style.text=null;Z(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function up(a,b,c,d,e,f,g,h){var k=b.getItemVisual(c,"color"),l=b.getItemVisual(c,"opacity"),m=d.getModel("itemStyle.normal");b=d.getModel("itemStyle.emphasis").getBarItemStyle();h||a.setShape("r",m.get("barBorderRadius")||0);a.useStyle(J({fill:k,opacity:l},m.getBarItemStyle()));(l=d.getShallow("cursor"))&&a.attr("cursor",l);e=g?0<e.height?"bottom":"top":0<e.width?"left":"right";h||rp(a.style,b,d,k,f,c,e);ma(a,b)}function Jv(a,b,c,d){var e=b.getData(),f=e.getName(this.dataIndex),g=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:f,seriesId:b.id});e.each(function(a){vp(e.getItemGraphicEl(a),e.getItemLayout(a),b.isSelected(e.getName(a)),g,c)})}function vp(a,b,c,d,e){b=(b.startAngle+b.endAngle)/2;c=c?d:0;c=[Math.cos(b)*c,Math.sin(b)*c];e?a.animate().when(200,{position:c}).start("bounceOut"):a.attr("position",c)}function Ej(a,b){function c(){f.ignore=f.hoverIgnore;g.ignore=g.hoverIgnore}function d(){f.ignore=f.normalIgnore;g.ignore=g.normalIgnore}F.call(this);var e=new Gc({z2:2}),f=new wb,g=new Q;this.add(e);this.add(f);this.add(g);this.updateData(a,b,!0);this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function wp(a,b,c,d,e,f,g){function h(b,c){for(var d=b;0<=d&&(a[d].y-=c,!(0<d&&a[d].y>a[d-1].y+a[d-1].height));d--);}function k(a,b,c,d,e,f){for(var g=b?Number.MAX_VALUE:0,h=0,k=a.length;h<k;h++)if("center"!==a[h].position){var l=Math.abs(a[h].y-d),m=a[h].len,n=a[h].len2,l=l<e+m?Math.sqrt((e+m+n)*(e+m+n)-l*l):Math.abs(a[h].x-c);b&&l>=g&&(l=g-10);!b&&l<=g&&(l=g+10);a[h].x=c+l*f;g=l}}a.sort(function(a,b){return a.y-b.y});var l;f=0;for(var m=a.length,n=[],p=[],q=0;q<m;q++)0>(l=a[q].y-f)&&function(b,c,d,e){for(e=b;e<c;e++)if(a[e].y+=d,e>b&&e+1<c&&a[e+1].y>a[e].y+a[e].height)return void h(e,d/2);h(c-1,d/2)}(q,m,-l),f=a[q].y+a[q].height;0>g-f&&h(m-1,f-g);for(q=0;q<m;q++)a[q].y>=c?p.push(a[q]):n.push(a[q]);k(n,!1,b,c,d,e);k(p,!0,b,c,d,e)}function Kv(a,b,c,d,e,f){for(var g=[],h=[],k=0;k<a.length;k++)a[k].x<b?g.push(a[k]):h.push(a[k]);wp(h,b,c,d,1,e,f);wp(g,b,c,d,-1,e,f);for(k=0;k<a.length;k++)if(c=a[k].linePoints)d=c[1][0]-c[2][0],a[k].x<b?c[2][0]=a[k].x+3:c[2][0]=a[k].x-3,c[1][1]=c[2][1]=a[k].y,c[1][0]=c[2][0]+d}function xp(){this.group=new F;this._symbolEl=new Lv({})}function yp(a,b,c){Aa.call(this,a,b,c);this.type="value";this.angle=0;this.name="";this.model}function Jb(a,b,c){this._model=a;this.dimensions=[];this._indicatorAxes=w(a.getIndicatorModels(),function(a,b){var c="indicator_"+b,d=new yp(c,new Eb);return d.name=a.get("name"),d.model=a,a.axis=d,this.dimensions.push(c),d},this);this.resize(a,c);this.cx;this.cy;this.r;this.startAngle}function Fj(){Ra.call(this)}function nd(a){this.name=a;this.zoomLimit;Ra.call(this);this._roamTransform=new Fj;this._viewTransform=new Fj;this._center;this._zoom}function zp(a,b,c,d){b=(b=c.seriesModel)?b.coordinateSystem:null;return b===this?b[a](d):null}function be(a,b,c,d,e){nd.call(this,a);this.map=b;this._nameCoordMap=xa();this.loadGeoJson(c,d,e)}function Ap(a,b,c,d){b=c.geoModel;c=c.seriesModel;c=b?b.coordinateSystem:c?c.coordinateSystem||(c.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return c===this?c[a](d):null}function Bp(a,b){var c=a.get("boundingCoords");if(null!=c){var d=c[0],c=c[1];isNaN(d[0])||isNaN(d[1])||isNaN(c[0])||isNaN(c[1])||this.setBoundingRect(d[0],d[1],c[0]-d[0],c[1]-d[1])}var e=this.getBoundingRect(),d=a.get("layoutCenter"),c=a.get("layoutSize"),f=b.getWidth(),g=b.getHeight(),h=a.get("aspectScale")||.75,e=e.width/e.height*h,h=!1;d&&c&&(d=[B(d[0],f),B(d[1],g)],c=B(c,Math.min(f,g)),isNaN(d[0])||isNaN(d[1])||isNaN(c)||(h=!0));h?(f={},1<e?(f.width=c,f.height=c/e):(f.height=c,f.width=c*e),f.y=d[1]-f.height/2,f.x=d[0]-f.width/2):((d=a.getBoxLayoutParams()).aspect=e,f=ya(d,{width:f,height:g}));this.setViewRect(f.x,f.y,f.width,f.height);this.setCenter(a.get("center"));this.setZoom(a.get("zoom"))}function Cp(a,b){r(b.get("geoCoord"),function(b,d){a.addGeoCoord(d,b)})}function Mv(a,b,c){Dg(a)[b]=c}function Nv(a,b,c){a=Dg(a);a[b]===c&&(a[b]=null)}function Dg(a){return a[Dp]||(a[Dp]={})}function gf(a){this.pointerChecker;this._zr=a;this._opt={};var b=z(Ov,this),c=z(Pv,this),d=z(Qv,this),e=z(Rv,this),f=z(Sv,this);this._$handlers={};this.setPointerChecker=function(a){this.pointerChecker=a};this.enable=function(g,h){this.disable();this._opt=J(G(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0});null==g&&(g=!0);!0!==g&&"move"!==g&&"pan"!==g||(a.on("mousedown",b),a.on("mousemove",c),a.on("mouseup",d));!0!==g&&"scale"!==g&&"zoom"!==g||(a.on("mousewheel",e),a.on("pinch",f))};this.dispose=this.disable=function(){a.off("mousedown",b);a.off("mousemove",c);a.off("mouseup",d);a.off("mousewheel",e);a.off("pinch",f)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function Ov(a){if(!(1<a.which||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function Pv(a){if(!(1<a.which)&&Ep(this,"moveOnMouseMove",a)&&this._dragging&&"pinch"!==a.gestureEvent&&!Dg(this._zr).globalPan){var b=a.offsetX,c=a.offsetY,d=this._x,e=this._y,f=b-d,g=c-e;this._x=b;this._y=c;this._opt.preventDefaultMouseMove&&ec(a.event);this.trigger("pan",f,g,d,e,b,c)}}function Qv(a){1<a.which||(this._dragging=!1)}function Rv(a){if(Ep(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=0<a.wheelDelta?1.1:1/1.1,c=a.offsetX,d=a.offsetY;this.pointerChecker&&this.pointerChecker(a,c,d)&&(ec(a.event),this.trigger("zoom",b,c,d))}}function Sv(a){if(!Dg(this._zr).globalPan){var b=1<a.pinchScale?1.1:1/1.1,c=a.pinchX,d=a.pinchY;this.pointerChecker&&this.pointerChecker(a,c,d)&&(ec(a.event),this.trigger("zoom",b,c,d))}}function Ep(a,b,c){return(a=a._opt[b])&&(!Da(a)||c.event[a+"Key"])}function Fp(a,b,c){a=a.target;var d=a.position;d[0]+=b;d[1]+=c;a.dirty()}function Gp(a,b,c,d){var e=a.target,f=a.zoomLimit,g=e.position,h=e.scale,k=a.zoom=a.zoom||1;if(k*=b,f)k=Math.max(Math.min(f.max||1/0,k),f.min||0);b=k/a.zoom;a.zoom=k;g[0]-=(c-g[0])*(b-1);g[1]-=(d-g[1])*(b-1);h[0]*=b;h[1]*=b;e.dirty()}function Gj(a,b,c){b=(a=b.getComponentByElement(a.topTarget))&&a.coordinateSystem;return a&&a!==c&&!Tv[a.mainType]&&b&&b.model!==c}function Hp(a,b){var c=a.getItemStyle(),d=a.get("areaColor");return null!=d&&(c.fill=d),c}function Uv(a,b,c,d,e){c.off("click");c.off("mousedown");b.get("selectedMode")&&(c.on("mousedown",function(){a._mouseDownFlag=!0}),c.on("click",function(f){if(a._mouseDownFlag){a._mouseDownFlag=!1;for(f=f.target;!f.__regions;)f=f.parent;f&&(f={type:("geo"===b.mainType?"geo":"map")+"ToggleSelect",batch:w(f.__regions,function(a){return{name:a.name,from:e.uid}})},f[b.mainType+"Id"]=b.id,d.dispatchAction(f),Ip(b,c))}}))}function Ip(a,b){b.eachChild(function(b){r(b.__regions,function(c){b.trigger(a.isSelected(c.name)?"emphasis":"normal")})})}function Eg(a,b){var c=new F;this._controller=new gf(a.getZr());this._controllerHost={target:b?c:null};this.group=c;this._updateGroup=b;this._mouseDownFlag}function Jp(a,b,c){var d=a.getZoom(),e=a.getCenter(),f=b.zoom,g=a.dataToPoint(e);null!=b.dx&&null!=b.dy&&(g[0]-=b.dx,g[1]-=b.dy,e=a.pointToData(g),a.setCenter(e));null!=f&&(c&&(f=Math.max(Math.min(d*f,c.max||1/0),c.min||0)/d),a.scale[0]*=f,a.scale[1]*=f,c=a.position,e=(b.originY-c[1])*(f-1),c[0]-=(b.originX-c[0])*(f-1),c[1]-=e,a.updateTransform(),e=a.pointToData(g),a.setCenter(e),a.setZoom(f*d));return{center:a.getCenter(),zoom:a.getZoom()}}function Vv(a,b){var c={},d=["value"];return r(a,function(a){a.each(d,function(b,d){var e="ec-"+a.getName(d);c[e]=c[e]||[];isNaN(b)||c[e].push(b)})}),a[0].map(d,function(d,f){for(var e="ec-"+a[0].getName(f),h=0,k=1/0,l=-1/0,m=c[e].length,n=0;n<m;n++)k=Math.min(k,c[e][n]),l=Math.max(l,c[e][n]),h+=c[e][n];var p;return p="min"===b?k:"max"===b?l:"average"===b?h/m:h,0===m?NaN:p})}function Kp(a){var b=a.mainData,c=a.datas;c||(c={main:b},a.datasAttr={main:"data"});a.datas=a.mainData=null;Lp(b,c,a);hf(c,function(c){hf(b.TRANSFERABLE_METHODS,function(b){c.wrapMethod(b,C(Wv,a))})});b.wrapMethod("cloneShallow",C(Xv,a));hf(b.CHANGABLE_METHODS,function(c){b.wrapMethod(c,C(Yv,a))});kc(c[b.dataType]===b)}function Wv(a,b){if(this[Fg]===this){var c=I({},this[jf]);c[this.dataType]=b;Lp(b,c,a)}else Hj(b,this.dataType,this[Fg],a);return b}function Yv(a,b){return a.struct&&a.struct.update(this),b}function Xv(a,b){return hf(b[jf],function(c,d){c!==b&&Hj(c.cloneShallow(),d,b,a)}),b}function Zv(a){var b=this[Fg];return null==a||null==b?b:b[jf][a]}function Lp(a,b,c){a[jf]={};hf(b,function(b,e){Hj(b,e,a,c)})}function Hj(a,b,c,d){c[jf][b]=a;a[Fg]=c;a.dataType=b;d.struct&&(a[d.structAttr]=d.struct,d.struct[d.datasAttr[b]]=a);a.getLinkedData=Zv}function ce(a,b,c){this.root;this.data;this._nodes=[];this.hostModel=a;this.levelModels=w(b||[],function(b){return new W(b,a,a.ecModel)});this.leavesModel=new W(c||{},a,a.ecModel)}function $v(a){a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var b,c;for(a=[a];b=a.pop();)if(c=b.children,b.isExpand&&c.length)for(b=c.length-1;0<=b;b--){var d=c[b];d.hierNode={defaultAncestor:null,ancestor:d,prelim:0,modifier:0,change:0,shift:0,i:b,thread:null};a.push(d)}}function aw(a,b){var c=a.isExpand?a.children:[],d=a.parentNode.children,e=a.hierNode.i?d[a.hierNode.i-1]:null;if(c.length){for(var f=a.children,g=f.length,h=0,k=0;0<=--g;){var l=f[g];l.hierNode.prelim+=h;l.hierNode.modifier+=h;k+=l.hierNode.change;h+=l.hierNode.shift+k}c=(c[0].hierNode.prelim+c[c.length-1].hierNode.prelim)/2;e?(a.hierNode.prelim=e.hierNode.prelim+b(a,e),a.hierNode.modifier=a.hierNode.prelim-c):a.hierNode.prelim=c}else e&&(a.hierNode.prelim=e.hierNode.prelim+b(a,e));c=a.parentNode.hierNode;d=a.parentNode.hierNode.defaultAncestor||d[0];if(e){for(var g=f=a,h=g.parentNode.children[0],k=f.hierNode.modifier,l=g.hierNode.modifier,m=h.hierNode.modifier,n=e.hierNode.modifier;e=Ij(e),g=Jj(g),e&&g;){f=Ij(f);h=Jj(h);f.hierNode.ancestor=a;var p=e.hierNode.prelim+n-g.hierNode.prelim-l+b(e,g);if(0<p){var q=e.hierNode.ancestor.parentNode===a.parentNode?e.hierNode.ancestor:d,t=a,u=p,v=u/(t.hierNode.i-q.hierNode.i);t.hierNode.change-=v;t.hierNode.shift+=u;t.hierNode.modifier+=u;t.hierNode.prelim+=u;q.hierNode.change+=v;l+=p;k+=p}n+=e.hierNode.modifier;l+=g.hierNode.modifier;k+=f.hierNode.modifier;m+=h.hierNode.modifier}e&&!Ij(f)&&(f.hierNode.thread=e,f.hierNode.modifier+=n-k);g&&!Jj(h)&&(h.hierNode.thread=g,h.hierNode.modifier+=l-m,d=a)}c.defaultAncestor=d}function bw(a){a.setLayout({x:a.hierNode.prelim+a.parentNode.hierNode.modifier},!0);a.hierNode.modifier+=a.parentNode.hierNode.modifier}function Mp(a){return arguments.length?a:cw}function kf(a,b){var c={};return a-=Math.PI/2,c.x=b*Math.cos(a),c.y=b*Math.sin(a),c}function dw(a,b){return ya(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function Ij(a){var b=a.children;return b.length&&a.isExpand?b[b.length-1]:a.hierNode.thread}function Jj(a){var b=a.children;return b.length&&a.isExpand?b[0]:a.hierNode.thread}function cw(a,b){return a.parentNode===b.parentNode?1:2}function Np(a,b){var c=a.getItemLayout(b);return c&&!isNaN(c.x)&&!isNaN(c.y)&&"none"!==a.getItemVisual(b,"symbol")}function Op(a,b,c){return c.itemModel=b,c.itemStyle=b.getModel("itemStyle.normal").getItemStyle(),c.hoverItemStyle=b.getModel("itemStyle.emphasis").getItemStyle(),c.lineStyle=b.getModel("lineStyle.normal").getLineStyle(),c.labelModel=b.getModel("label.normal"),c.hoverLabelModel=b.getModel("label.emphasis"),!1===a.isExpand&&0!==a.children.length?c.symbolInnerColor=c.itemStyle.fill:c.symbolInnerColor="#fff",c}function Pp(a,b,c,d,e,f){var g=!c,h=a.tree.getNodeByDataIndex(b);f=Op(h,h.getModel(),f);var k=a.tree.root,l=h.parentNode===k?h:h.parentNode||h,m=a.getItemGraphicEl(l.dataIndex),l=l.getLayout(),m=m?{x:m.position[0],y:m.position[1],rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:l,n=h.getLayout();g?(c=new Xd(a,b,f)).attr("position",[m.x,m.y]):c.updateData(a,b,f);c.__radialOldRawX=c.__radialRawX;c.__radialOldRawY=c.__radialRawY;c.__radialRawX=n.rawX;c.__radialRawY=n.rawY;d.add(c);a.setItemGraphicEl(b,c);Z(c,{position:[n.x,n.y]},e);a=c.getSymbolPath();if("radial"===f.layout){var p,q,g=k.children[0];b=g.getLayout();var t=g.children.length;n.x===b.x&&!0===h.isExpand?(q=(g.children[0].getLayout().x+g.children[t-1].getLayout().x)/2,g=(g.children[0].getLayout().y+g.children[t-1].getLayout().y)/2,0>(p=Math.atan2(g-b.y,q-b.x))&&(p=2*Math.PI+p),(q=q<b.x)&&(p-=Math.PI)):(0>(p=Math.atan2(n.y-b.y,n.x-b.x))&&(p=2*Math.PI+p),0===h.children.length||0!==h.children.length&&!1===h.isExpand?(q=n.x<b.x)&&(p-=Math.PI):(q=n.x>b.x)||(p-=Math.PI));a.setStyle({textPosition:q?"left":"right",textRotation:-p,textOrigin:"center",verticalAlign:"middle"})}h.parentNode&&h.parentNode!==k&&((h=c.__edge)||(h=c.__edge=new Kj({shape:Lj(f,m,m),style:J({opacity:0},f.lineStyle)})),Z(h,{shape:Lj(f,l,n),style:{opacity:1}},e),d.add(h))}function Qp(a,b,c,d,e,f){var g;g=a.tree.getNodeByDataIndex(b);var h=a.tree.root;f=Op(g,g.getModel(),f);for(var k=g.parentNode===h?g:g.parentNode||g;null==(g=k.getLayout());)k=k.parentNode===h?k:k.parentNode||k;Z(c,{position:[g.x+1,g.y+1]},e,function(){d.remove(c);a.setItemGraphicEl(b,null)});c.fadeOut(null,{keepLabel:!0});var l=c.__edge;l&&Z(l,{shape:Lj(f,g,g),style:{opacity:0}},e,function(){d.remove(l)})}function Lj(a,b,c){var d,e,f,g,h=a.orient;if("radial"===a.layout){var k=b.rawX,l=b.rawY;b=c.rawX;c=c.rawY;d=kf(k,l);k=kf(k,l+(c-l)*a.curvature);a=kf(b,c+(l-c)*a.curvature);b=kf(b,c);return{x1:d.x,y1:d.y,x2:b.x,y2:b.y,cpx1:k.x,cpy1:k.y,cpx2:a.x,cpy2:a.y}}k=b.x;l=b.y;b=c.x;c=c.y;return"horizontal"===h&&(d=k+(b-k)*a.curvature,e=l,f=b+(k-b)*a.curvature,g=c),"vertical"===h&&(d=k,e=l+(c-l)*a.curvature,f=b,g=c+(l-c)*a.curvature),{x1:k,y1:l,x2:b,y2:c,cpx1:d,cpy1:e,cpx2:f,cpy2:g}}function ew(a,b,c){var d;a=[a];for(var e=[];d=a.pop();)if(e.push(d),d.isExpand)if(d=d.children,d.length)for(var f=0;f<d.length;f++)a.push(d[f]);for(;d=e.pop();)b(d,c)}function lf(a,b){for(var c,d=[a];c=d.pop();)if(b(c),c.isExpand)if(c=c.children,c.length)for(var e=c.length-1;0<=e;e--)d.push(c[e])}function Mj(a,b){if(a&&("treemapZoomToNode"===a.type||"treemapRootToNode"===a.type)){var c=b.getData().tree.root,d=a.targetNode;if(d&&c.contains(d))return{node:d};var e=a.targetNodeId;if(null!=e&&(d=c.getNodeById(e)))return{node:d}}}function Nj(a){for(var b=[];a;)(a=a.parentNode)&&b.push(a);return b.reverse()}function Rp(a,b){for(var c=[];a;){var d=a.dataIndex;c.push({name:a.name,dataIndex:d,value:b.getRawValue(d)});a=a.parentNode}return c.reverse(),c}function Sp(a){var b=0;r(a.children,function(a){Sp(a);a=a.value;A(a)&&(a=a[0]);b+=a});var c=a.value;A(c)&&(c=c[0]);(null==c||isNaN(c))&&(c=b);0>c&&(c=0);A(a.value)?a.value[0]=c:a.value=c}function fw(a,b){var c=b.get("color");if(c){var d;return r(a=a||[],function(a){a=new W(a);var b=a.get("color");(a.get("itemStyle.normal.color")||b&&"none"!==b)&&(d=!0)}),d||((a[0]||(a[0]={})).color=c.slice()),a}}function Oj(a){this.group=new F;a.add(this.group)}function gw(){var a,b=[],c={};return{add:function(a,e,f,g,h){return Da(g)&&(h=g,g=0),!c[a.id]&&(c[a.id]=1,b.push({el:a,target:e,time:f,delay:g,easing:h}),!0)},done:function(b){return a=b,this},start:function(){for(var d=b.length,e=0,f=b.length;e<f;e++){var g=b[e];g.el.animateTo(g.target,g.time,g.delay,g.easing,function(){--d||(b.length=0,c={},a&&a())})}return this}}}function hw(a,b,c,d,e,f,g,h,k,l){function m(a,b){x?!a.invisible&&f.push(a):(b(),a.__tmWillVisible||(a.invisible=!1))}function n(b,c,d,e,f,h){var k=g.getModel(),l=Ea(a.getFormattedLabel(g.dataIndex,"normal",null,null,h?"upperLabel":"label"),k.get("name"));if(!h&&q.isLeafRoot)var m=a.get("drillDownIcon",!0),l=m?m+" "+l:l;var m=k.getModel(h?iw:jw),k=k.getModel(h?kw:lw),n=m.getShallow("show");Cb(b,c,m,k,{defaultText:n?l:null,autoColor:d,isRectText:!0});h&&(b.textRect=G(h));b.truncate=n&&m.get("ellipsis")?{outerWidth:e,outerHeight:f,minChar:2}:null}function p(a,f,h,k){var l=null!=y&&c[a][y],m=e[a];l?(c[a][y]=null,f=l,(m[r]={}).old="nodeGroup"===a?f.position.slice():I({},f.shape)):x||(l=h*mw+k,(l=new f({z:(l-1)/l})).__tmDepth=h,l.__tmStorageName=a,m=m[r]={},!(k=g.parentNode)||d&&"drillDown"!==d.direction||(h=f=0,k=e.background[k.getRawIndex()],!d&&k&&k.old&&(f=k.old.width,h=k.old.height),m.old="nodeGroup"===a?[0,h]:{x:f,y:h,width:0,height:0}),m.fadein="nodeGroup"!==a);return b[a][r]=l}if(g){var q=g.getLayout();if(q&&q.isInView){var t=q.width,u=q.height,v=q.borderWidth,x=q.invisible,r=g.getRawIndex(),y=h&&h.getRawIndex();h=g.viewChildren;var E=q.upperHeight,D=h&&h.length,H=g.getModel("itemStyle.normal"),w=g.getModel("itemStyle.emphasis");if(h=p("nodeGroup",Tp)){if(k.add(h),h.attr("position",[q.x||0,q.y||0]),h.__tmNodeWidth=t,h.__tmNodeHeight=u,q.isAboveViewRoot)return h;k=p("background",Up,l,nw);(k&&function(b,c,d){c.dataIndex=g.dataIndex;c.seriesIndex=a.seriesIndex;c.setShape({x:0,y:0,width:t,height:u});var e=g.getVisual("borderColor",!0),f=w.get("borderColor");m(c,function(){var a=Vp(H);a.fill=e;var b=Pj(w);if(b.fill=f,d){var g=t-2*v;n(a,b,e,g,E,{x:v,y:0,width:g,height:E})}else a.text=b.text=null;c.setStyle(a);ma(c,b)});b.add(c)}(h,k,D&&q.upperHeight),D)||(l=p("content",Up,l,ow))&&function(b,c){c.dataIndex=g.dataIndex;c.seriesIndex=a.seriesIndex;var d=Math.max(t-2*v,0),e=Math.max(u-2*v,0);c.culling=!0;c.setShape({x:v,y:v,width:d,height:e});var f=g.getVisual("color",!0);m(c,function(){var a=Vp(H);a.fill=f;var b=Pj(w);n(a,b,f,d,e);c.setStyle(a);ma(c,b)});b.add(c)}(h,l);return h}}}}function pw(a){var b=a.pieceList;a.hasSpecialVisual=!1;r(b,function(b,d){b.originIndex=d;null!=b.visual&&(a.hasSpecialVisual=!0)})}function qw(a){var b=a.categories,c=a.visual,d=a.categoryMap={};if(mf(b,function(a,b){d[a]=b}),!A(c)){var e=[];T(c)?mf(c,function(a,b){var c=d[b];e[null!=c?c:Gg]=a}):e[Gg]=c;c=Wp(a,e)}for(a=b.length-1;0<=a;a--)null==c[a]&&(delete d[b[a]],b.pop())}function Qj(a,b){var c=a.visual,d=[];T(c)?mf(c,function(a){d.push(a)}):null!=c&&d.push(c);c={color:1,symbol:1};b||1!==d.length||c.hasOwnProperty(a.type)||(d[1]=d[0]);Wp(a,d)}function Hg(a){return{applyVisual:function(b,c,d){b=this.mapValueToVisual(b);d("color",a(c("color"),b))},_doMap:Rj([0,1])}}function Xp(a){var b=this.option.visual;return b[Math.round(ba(a,[0,1],[0,b.length-1],!0))]||{}}function Sj(a){return function(b,c,d){d(a,this.mapValueToVisual(b))}}function Ig(a){var b=this.option.visual;return b[this.option.loop&&a!==Gg?a%b.length:a]}function Tj(){return this.option.visual[0]}function Rj(a){return{linear:function(b){return ba(b,a,this.option.visual,!0)},category:Ig,piecewise:function(b,c){var d=Uj.call(this,c);return null==d&&(d=ba(b,a,this.option.visual,!0)),d},fixed:Tj}}function Uj(a){var b=this.option,c=b.pieceList;if(b.hasSpecialVisual&&(a=c[R.findPieceIndex(a,c)])&&a.visual)return a.visual[this.type]}function Wp(a,b){return a.visual=b,"color"===a.type&&(a.parsedVisual=w(b,function(a){return jb(a)})),b}function Jg(a,b,c){return a?b<=c:b<c}function Yp(a,b,c,d,e,f){var g=a.getModel(),h=a.getLayout();if(h&&!h.invisible&&h.isInView){var k,l=a.getModel(Vj),m=rw(l,b,c[a.depth],d);b=l.get("borderColor");k=l.get("borderColorSaturation");null!=k&&(b=sw(k,k=Zp(m)));a.setVisual("borderColor",b);if((b=a.viewChildren)&&b.length){var n=tw(a,g,h,l,m,b);r(b,function(a,b){if(a.depth>=e.length||a===e[a.depth]){var h=I({},m);if(n){var k=n.type,l="color"===k&&n.__drColorMappingBy,l="index"===l?b:"id"===l?f.mapIdToIndex(a.getId()):a.getValue(g.get("visualDimension"));h[k]=n.mapValueToVisual(l)}Yp(a,h,c,d,e,f)}})}else k=Zp(m),a.setVisual("color",k)}}function rw(a,b,c,d){var e=I({},b);return r(["color","colorAlpha","colorSaturation"],function(f){var g=a.get(f,!0);null==g&&c&&(g=c[f]);null==g&&(g=b[f]);null==g&&(g=d.get(f));null!=g&&(e[f]=g)}),e}function Zp(a){var b=Wj(a,"color");if(b){var c=Wj(a,"colorAlpha");a=Wj(a,"colorSaturation");return a&&(b=Md(b,null,null,a)),c&&(b=Tf(b,c)),b}}function sw(a,b){return null!=b?Md(b,null,null,a):null}function Wj(a,b){var c=a[b];if(null!=c&&"none"!==c)return c}function tw(a,b,c,d,e,f){if(f&&f.length&&(a=Xj(b,"color")||null!=e.color&&"none"!==e.color&&(Xj(b,"colorAlpha")||Xj(b,"colorSaturation"))))return d=b.get("visualMin"),e=b.get("visualMax"),c=c.dataExtent.slice(),null!=d&&d<c[0]&&(c[0]=d),null!=e&&e>c[1]&&(c[1]=e),b=b.get("colorMappingBy"),c={type:a.name,dataExtent:c,visual:a.range},"color"!==c.type||"index"!==b&&"id"!==b?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0),c=new R(c),c.__drColorMappingBy=b,c}function Xj(a,b){var c=a.get(b);return uw(c)&&c.length?{name:b,range:c}:null}function $p(a,b,c,d){var e,f;if(!a.isRemoved()){var g=a.getLayout();e=g.width;f=g.height;var h=(p=a.getModel()).get(aq),g=p.get(vw)/2,k=bq(p),l=Math.max(h,k),m=h-g,n=l-g,p=a.getModel();a.setLayout({borderWidth:h,upperHeight:l,upperLabelHeight:k},!0);h=(e=nf(e-2*m,0))*(f=nf(f-m-n,0));a=ww(a,p,h,b,c,d);if(a.length){m={x:m,y:n,width:e,height:f};e=Kg(e,f);f=1/0;n=[];k=n.area=0;for(l=a.length;k<l;){var q=a[k];n.push(q);n.area+=q.getLayout().area;for(var t=n,u=e,v=b.squareRatio,x=void 0,q=0,r=1/0,y=0,E=t.length;y<E;y++)(x=t[y].getLayout().area)&&(x<r&&(r=x),x>q&&(q=x));t=t.area*t.area;u=u*u*v;q=t?nf(u*q/t,t/(u*r)):1/0;q<=f?(k++,f=q):(n.area-=n.pop().getLayout().area,cq(n,e,m,g,!1),e=Kg(m.width,m.height),n.length=n.area=0,f=1/0)}(n.length&&cq(n,e,m,g,!0),c)||(g=p.get("childrenVisibleMin"),null!=g&&h<g&&(c=!0));k=0;for(l=a.length;k<l;k++)$p(a[k],b,c,d+1)}}}function ww(a,b,c,d,e,f){var g=a.children||[],h=d.sort;"asc"!==h&&"desc"!==h&&(h=null);d=null!=d.leafDepth&&d.leafDepth<=f;if(e&&!d)return a.viewChildren=[];xw(g=Ca(g,function(a){return!a.isRemoved()}),h);e=yw(b,g,h);if(0===e.sum||(e.sum=zw(b,c,e.sum,h,g),0===e.sum))return a.viewChildren=[];b=0;for(h=g.length;b<h;b++)f=g[b].getValue()/e.sum*c,g[b].setLayout({area:f});return d&&(g.length&&a.setLayout({isLeafRoot:!0},!0),g.length=0),a.viewChildren=g,a.setLayout({dataExtent:e.dataExtent},!0),g}function zw(a,b,c,d,e){if(!d)return c;a=a.get("visibleMin");for(var f=e.length,g=f,h=f-1;0<=h;h--){var k=e["asc"===d?f-h-1:h].getValue();k/c*b<a&&(g=h,c-=k)}return"asc"===d?e.splice(0,f-g):e.splice(g,f-g),c}function xw(a,b){return b&&a.sort(function(a,d){var c="asc"===b?a.getValue()-d.getValue():d.getValue()-a.getValue();return 0===c?"asc"===b?a.dataIndex-d.dataIndex:d.dataIndex-a.dataIndex:c}),a}function yw(a,b,c){for(var d=0,e=0,f=b.length;e<f;e++)d+=b[e].getValue();var g=a.get("visualDimension");if(b&&b.length)if("value"===g&&c)h=[b[b.length-1].getValue(),b[0].getValue()],"asc"===c&&h.reverse();else{var h=[1/0,-1/0];Yj(b,function(a){a=a.getValue(g);a<h[0]&&(h[0]=a);a>h[1]&&(h[1]=a)})}else h=[NaN,NaN];return{sum:d,dataExtent:h}}function cq(a,b,c,d,e){var f=b===c.width?0:1,g=1-f,h=["x","y"],k=["width","height"],l=c[h[f]];b=b?a.area/b:0;(e||b>c[k[g]])&&(b=c[k[g]]);e=0;for(var m=a.length;e<m;e++){var n=a[e],p={},q=b?n.getLayout().area/b:0,t=p[k[g]]=nf(b-2*d,0),u=c[h[f]]+c[k[f]]-l,q=e===m-1||u<q?u:q,u=p[k[f]]=nf(q-2*d,0);p[h[g]]=c[h[g]]+Kg(d,t/2);p[h[f]]=l+Kg(d,u/2);l+=q;n.setLayout(p,!0)}c[h[g]]+=b;c[k[g]]-=b}function Aw(a,b,c,d,e){var f=(b||{}).node;b=[d,e];if(!f||f===c)return b;c=d*e;for(var g=c*a.option.zoomToNodeRatio;a=f.parentNode;){for(var h=0,k=a.children,l=0,m=k.length;l<m;l++)h+=k[l].getValue();f=f.getValue();if(0===f)return b;g*=h/f;f=a.getModel();h=f.get(aq);(g+=4*h*h+(3*h+Math.max(h,bq(f)))*Math.pow(g,.5))>Zj&&(g=Zj);f=a}g<c&&(g=c);b=Math.pow(g/c,.5);return[d*b,e*b]}function Bw(a,b,c){if(b)return{x:b.x,y:b.y};b={x:0,y:0};if(!c)return b;c=c.node;var d=c.getLayout();if(!d)return b;for(b=[d.width/2,d.height/2];c;)d=c.getLayout(),b[0]+=d.x,b[1]+=d.y,c=c.parentNode;return{x:a.width/2-b[0],y:a.height/2-b[1]}}function dq(a,b,c,d,e){var f=a.getLayout(),g=c[e],h=g&&g===a;if(!(g&&!h||e===c.length&&a!==d)){a.setLayout({isInView:!0,invisible:!h&&!b.intersect(f),isAboveViewRoot:h},!0);var k=new U(b.x-f.x,b.y-f.y,b.width,b.height);Yj(a.viewChildren||[],function(a){dq(a,k,c,d,e+1)})}}function bq(a){return a.get(Cw)?a.get(Dw):0}function zb(a,b){this.id=null==a?"":a;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=null==b?-1:b}function Lg(a,b,c){this.node1=a;this.node2=b;this.dataIndex=null==c?-1:c}function ak(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function eq(a,b,c){var d=b.getItemVisual(c,"color"),e=b.getItemVisual(c,a);b=b.getItemVisual(c,a+"Size");if(e&&"none"!==e)return A(b)||(b=[b,b]),d=nb(e,-b[0]/2,-b[1]/2,b[0],b[1],d),d.name=a,d}function Ew(a){var b=new Fw({name:"line"});return bk(b.shape,a),b}function bk(a,b){var c=b[0],d=b[1],e=b[2];a.x1=c[0];a.y1=c[1];a.x2=d[0];a.y2=d[1];a.percent=1;e?(a.cpx1=e[0],a.cpy1=e[1]):(a.cpx1=NaN,a.cpy1=NaN)}function of(a,b,c){F.call(this);this._createLine(a,b,c)}function fq(a){return isNaN(a[0])||isNaN(a[1])}function gq(a){return!fq(a[0])&&!fq(a[1])}function Mg(a){this._ctor=a||of;this.group=new F}function hq(a,b,c){var d,e=a[0],f=a[1];a=a[2];var g=1/0;c*=c;for(var h=.1,k=.1;.9>=k;k+=.1)ck[0]=de(e[0],f[0],a[0],k),ck[1]=de(e[1],f[1],a[1],k),(l=iq(dk(ck,b)-c))<g&&(g=l,d=k);for(g=0;32>g;g++){l=d+h;ek[0]=de(e[0],f[0],a[0],d);ek[1]=de(e[1],f[1],a[1],d);fk[0]=de(e[0],f[0],a[0],l);fk[1]=de(e[1],f[1],a[1],l);var l=dk(ek,b)-c;if(.01>iq(l))break;k=dk(fk,b)-c;h/=2;0>l?0<=k?d+=h:d-=h:0<=k?d-=h:d+=h}return d}function jq(a,b){return a.getVisual("opacity")||a.getModel().get(b)}function Ng(a,b,c){var d=a.getGraphicEl(),e=jq(a,b);null!=c&&(null==e&&(e=1),e*=c);d.downplay&&d.downplay();d.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",e)})}function od(a,b){var c=jq(a,b),d=a.getGraphicEl();d.highlight&&d.highlight();d.traverse(function(a){"group"!==a.type&&a.setStyle("opacity",c)})}function Og(a){return a instanceof Array||(a=[a,a]),a}function kq(a){var b=a.coordinateSystem;b&&"view"!==b.type||(a=a.getGraph(),a.eachNode(function(a){var b=a.getModel();a.setLayout([+b.get("x"),+b.get("y")])}),lq(a))}function lq(a){a.eachEdge(function(a){var b=a.getModel().get("lineStyle.normal.curveness")||0,d=Ab(a.node1.getLayout()),e=Ab(a.node2.getLayout()),f=[d,e];+b&&f.push([(d[0]+e[0])/2-(d[1]-e[1])*b,(d[1]+e[1])/2-(e[0]-d[0])*b]);a.setLayout(f)})}function mq(a){var b=a.coordinateSystem;if(!b||"view"===b.type){b=b.getBoundingRect();a=a.getData();var c=a.graph,d=0,e=a.getSum("value"),f=2*Math.PI/(e||a.count()),g=b.width/2+b.x,h=b.height/2+b.y,k=Math.min(b.width,b.height)/2;c.eachNode(function(a){var b=a.getValue("value");d+=f*(e?b:1)/2;a.setLayout([k*Math.cos(d)+g,k*Math.sin(d)+h]);d+=f*(e?b:1)/2});a.setLayout({cx:g,cy:h});c.eachEdge(function(a){var b,c=a.getModel().get("lineStyle.normal.curveness")||0,d=Ab(a.node1.getLayout()),e=Ab(a.node2.getLayout()),f=(d[0]+e[0])/2,k=(d[1]+e[1])/2;+c&&(b=[g*(c*=3)+f*(1-c),h*c+k*(1-c)]);a.setLayout([d,e,b])})}}function Gw(a,b,c){var d=c.rect,e=d.width,f=d.height,g=[d.x+e/2,d.y+f/2],h=null==c.gravity?.1:c.gravity;for(c=0;c<a.length;c++)d=a[c],d.p||(d.p=lc(e*(Math.random()-.5)+g[0],f*(Math.random()-.5)+g[1])),d.pp=Ab(d.p),d.edges=null;var k=.6;return{warmUp:function(){k=.5},setFixed:function(b){a[b].fixed=!0},setUnfixed:function(b){a[b].fixed=!1},step:function(c){for(var d=[],e=a.length,f=0;f<b.length;f++){var l=b[f],t=l.n1;Vb(d,(v=l.n2).p,t.p);var l=Ee(d)-l.d,u=v.w/(t.w+v.w);isNaN(u)&&(u=0);Id(d,d);!t.fixed&&ee(t.p,t.p,d,u*l*k);!v.fixed&&ee(v.p,v.p,d,-(1-u)*l*k)}for(f=0;f<e;f++)(x=a[f]).fixed||(Vb(d,g,x.p),ee(x.p,x.p,d,h*k));for(f=0;f<e;f++)for(t=a[f],x=f+1;x<e;x++){var v=a[x];Vb(d,v.p,t.p);0===(l=Ee(d))&&(zm(d,Math.random()-.5,Math.random()-.5),l=1);l=(t.rep+v.rep)/l/l;!t.fixed&&ee(t.pp,t.pp,d,l);!v.fixed&&ee(v.pp,v.pp,d,-l)}d=[];for(f=0;f<e;f++){var x=a[f];x.fixed||(Vb(d,x.p,x.pp),ee(x.p,x.p,d,k),cb(x.pp,x.p))}k*=.992;c&&c(a,b,.01>k)}}}function Hw(a,b,c){a=a.getBoxLayoutParams();return a.aspect=c,ya(a,{width:b.getWidth(),height:b.getHeight()})}function nq(a,b){return b&&("string"==typeof b?a=b.replace("{value}",null!=a?a:""):"function"==typeof b&&(a=b(a))),a}function gk(a,b){function c(){f.ignore=f.hoverIgnore;g.ignore=g.hoverIgnore}function d(){f.ignore=f.normalIgnore;g.ignore=g.normalIgnore}F.call(this);var e=new Oa,f=new wb,g=new Q;this.add(e);this.add(f);this.add(g);this.updateData(a,b,!0);this.on("emphasis",c).on("normal",d).on("mouseover",c).on("mouseout",d)}function Iw(a,b){return ya(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function Jw(a,b){for(var c=a.mapArray("value",function(a){return a}),d=[],e="ascending"===b,f=0,g=a.count();f<g;f++)d[f]=f;return"function"==typeof b?d.sort(b):"none"!==b&&d.sort(function(a,b){return e?c[a]-c[b]:c[b]-c[a]}),d}function Kw(a){a.each(function(b){var c,d,e,f,g=a.getItemModel(b),h=g.getModel("label.normal").get("position"),k=g.getModel("labelLine.normal");b=a.getItemLayout(b);var l=b.points;if(g="inner"===h||"inside"===h||"center"===h)c="center",f=[[d=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,e=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4],[d,e]];else{var m,n;e=k.get("length");"left"===h?(f=(l[3][0]+l[0][0])/2,m=(l[3][1]+l[0][1])/2,d=(n=f-e)-5,c="right"):(f=(l[1][0]+l[2][0])/2,m=(l[1][1]+l[2][1])/2,d=(n=f+e)+5,c="left");e=m;f=[[f,m],[n,e]]}b.label={linePoints:f,x:d,y:e,verticalAlign:"middle",textAlign:c,inside:g}})}function Lw(a){if(!a.parallel){var b=!1;r(a.series,function(a){a&&"parallel"===a.type&&(b=!0)});b&&(a.parallel=[{}])}}function Mw(a){r(kb(a.parallelAxis),function(b){if(T(b)){var c=b.parallelIndex||0;(c=kb(a.parallel)[c])&&c.parallelAxisDefault&&L(b,c.parallelAxisDefault,!1)}})}function hk(a,b){var c=a[b]-a[1-b];return{span:Math.abs(c),sign:0<c?-1:0>c?1:b?-1:1}}function Pg(a,b){return Math.min(b[1],Math.max(b[0],a))}function ik(a,b,c){this._axesMap=xa();this._axesLayout={};this.dimensions=a.dimensions;this._rect;this._model=a;this._init(a,b,c)}function Qg(a,b){return oq(pq(a,b[0]),b[1])}function Nw(a,b){var c=b.layoutLength/(b.axisCount-1);return{position:c*a,axisNameAvailableWidth:c,axisLabelShow:!0}}function Ow(a,b){var c,d,e=b.layoutLength,f=b.axisExpandWidth,g=b.axisCount,h=b.axisCollapseWidth,k=b.winInnerIndices,l=h,m=!1;return a<k[0]?(c=a*h,d=h):a<=k[1]?(c=b.axisExpandWindow0Pos+a*f-b.axisExpandWindow[0],l=f,m=!0):(c=e-(g-1-a)*h,d=h),{position:c,axisNameAvailableWidth:l,axisLabelShow:m,nameTruncateMaxWidth:d}}function fe(a){this._$handlers={};this._zr=a;this.group=new F;this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;this._uid="brushController_"+Pw++;this._handlers={};Kb(Qw,function(a,c){this._handlers[c]=z(a,this)},this)}function Rw(a,b){var c=a._zr;a._enableGlobalPan||Mv(c,qq,a._uid);Kb(a._handlers,function(a,b){c.on(b,a)});a._brushType=b.brushType;a._brushOption=L(G(rq),b,!0)}function Sw(a){var b=a._zr;Nv(b,qq,a._uid);Kb(a._handlers,function(a,d){b.off(d,a)});a._brushType=a._brushOption=null}function sq(a,b){var c=pd[b.brushType].createCover(a,b);return c.__brushOption=b,tq(c,b),a.group.add(c),c}function uq(a,b){var c=pd[b.__brushOption.brushType];return c.endCreating&&(c.endCreating(a,b),tq(b,b.__brushOption)),b}function tq(a,b){var c=b.z;null==c&&(c=Tw);a.traverse(function(a){a.z=c;a.z2=c})}function jk(a,b){pd[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;pd[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function kk(a,b,c){var d=a._panels;if(!d)return!0;var e,f=a._transform;return Kb(d,function(a){a.isTargetByCursor(b,c,f)&&(e=a)}),e}function vq(a,b){var c=a._panels;if(!c)return!0;var d=b.__brushOption.panelId;return null==d||c[d]}function lk(a){var b=a._covers,c=b.length;return Kb(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function qd(a,b){var c=Uw(a._covers,function(a){a=a.__brushOption;var b=G(a.range);return{brushType:a.brushType,panelId:a.panelId,range:b}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function wq(a){var b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}function xq(a,b,c,d){var e=new F;return e.add(new fa({name:"main",style:mk(c),silent:!0,draggable:!0,cursor:"move",drift:Jc(a,b,e,"nswe"),ondragend:Jc(qd,b,{isEnd:!0})})),Kb(d,function(c){e.add(new fa({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Jc(a,b,e,c),ondragend:Jc(qd,b,{isEnd:!0})}))}),e}function yq(a,b,c,d){var e=d.brushStyle.lineWidth||0,f=ge(e,Vw),g=c[0][0],h=c[1][0],k=g-e/2,l=h-e/2,m=c[0][1],n=c[1][1];c=m-f+e/2;var p=n-f+e/2,m=m-g,n=n-h,q=m+e,e=n+e;fc(a,b,"main",g,h,m,n);d.transformable&&(fc(a,b,"w",k,l,f,e),fc(a,b,"e",c,l,f,e),fc(a,b,"n",k,l,q,f),fc(a,b,"s",k,p,q,f),fc(a,b,"nw",k,l,f,f),fc(a,b,"ne",c,l,f,f),fc(a,b,"sw",k,p,f,f),fc(a,b,"se",c,p,f,f))}function nk(a,b){var c=b.__brushOption,d=c.transformable,e=b.childAt(0);e.useStyle(mk(c));e.attr({silent:!d,cursor:d?"move":"default"});Kb("w e n s se sw ne nw".split(" "),function(c){var e=b.childOfName(c);c=ok(a,c);e&&e.attr({silent:!d,invisible:!d,cursor:d?Ww[c]+"-resize":null})})}function fc(a,b,c,d,e,f,g){(c=b.childOfName(c))&&c.setShape(Xw(pk(a,b,[[d,e],[d+f,e+g]])))}function mk(a){return J({strokeNoScale:!0},a.brushStyle)}function zq(a,b,c,d){var e=[pf(a,c),pf(b,d)];a=[ge(a,c),ge(b,d)];return[[e[0],a[0]],[e[1],a[1]]]}function ok(a,b){if(1<b.length)return("e"===(c=[ok(a,(b=b.split(""))[0]),ok(a,b[1])])[0]||"w"===c[0])&&c.reverse(),c.join("");var c=Yi({w:"left",e:"right",n:"top",s:"bottom"}[b],dd(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[c]}function Aq(a,b,c,d,e,f,g,h){h=d.__brushOption;var k=a(h.range),l=Bq(c,f,g);Kb(e.split(""),function(a){a=Yw[a];k[a[0]][a[1]]+=l[a[0]]});h.range=b(zq(k[0][0],k[1][0],k[0][1],k[1][1]));jk(c,d);qd(c,{isEnd:!1})}function Zw(a,b,c,d,e){e=b.__brushOption.range;var f=Bq(a,c,d);Kb(e,function(a){a[0]+=f[0];a[1]+=f[1]});jk(a,b);qd(a,{isEnd:!1})}function Bq(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function pk(a,b,c){return(b=vq(a,b))&&!0!==b?b.clipPath(c,a._transform):G(c)}function Xw(a){var b=pf(a[0][0],a[1][0]),c=pf(a[0][1],a[1][1]);return{x:b,y:c,width:ge(a[0][0],a[1][0])-b,height:ge(a[0][1],a[1][1])-c}}function qk(a){a=a.event;a.preventDefault&&a.preventDefault()}function rk(a,b,c){return a.childOfName("main").contain(b,c)}function Cq(a,b,c,d){var e,f=a._creatingCover,g=a._creatingPanel,h=a._brushOption;a._track.push(c.slice());var k;var l=a._track;if(l.length){k=l[l.length-1];var m=l[0],l=k[0]-m[0];k=k[1]-m[1];k=$w(l*l+k*k,.5)>ax}else k=!1;k||f?(g&&!f&&("single"===h.brushMode&&lk(a),f=G(h),b=f.brushType,f.brushType="auto"===b?g.defaultBrushType:b,f.panelId=!0===g?null:g.panelId,f=a._creatingCover=sq(a,f),a._covers.push(f)),f&&(e=a._brushType,g=pd["auto"===e?g.defaultBrushType:e],f.__brushOption.range=g.getCreatingRange(pk(a,f,a._track)),d&&(uq(a,f),g.updateCommon(a,f)),g=f,e=g.__brushOption,pd[g.__brushOption.brushType].updateCoverShape(a,g,e.range,e),e={isEnd:d})):d&&"single"===h.brushMode&&h.removeOnClick&&kk(a,b,c)&&lk(a)&&(e={isEnd:d,removeOnClick:!0});return e}function Dq(a){this._dragging&&(qk(a),a=Cq(this,a,this.group.transformCoordToLocal(a.offsetX,a.offsetY),!0),this._dragging=!1,this._track=[],this._creatingCover=null,a&&qd(this,a))}function Eq(a){return{createCover:function(b,c){return xq(Jc(Aq,function(b){b=[b,[0,100]];return a&&b.reverse(),b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){b=wq(b);return[pf(b[0][a],b[1][a]),ge(b[0][a],b[1][a])]},updateCoverShape:function(b,c,d,e){var f;f=vq(b,c);!0!==f&&f.getLinearBrushOtherExtent?f=f.getLinearBrushOtherExtent(a,b._transform):(f=b._zr,f=[0,[f.getWidth(),f.getHeight()][1-a]]);d=[d,f];a&&d.reverse();yq(b,c,d,e)},updateCommon:nk,contain:rk}}function Fq(a){return a=U.create(a),function(b,c){return ao(b,a)}}function Gq(a,b){return a=U.create(a),function(c){var d=(c=null!=b?b:c)?a.x:a.y;return[d,d+((c?a.width:a.height)||0)]}}function Hq(a,b,c){return a=U.create(a),function(d,e,f){return a.contain(e[0],e[1])&&!Gj(d,b,c)}}function Iq(a){var b=a.axis;return w(a.activeIntervals,function(a){return{brushType:"lineX",panelId:"pl",range:[b.dataToCoord(a[0],!0),b.dataToCoord(a[1],!0)]}})}function sk(a,b){var c=a._model;return c.get("axisExpandable")&&c.get("axisExpandTriggerOn")===b}function bx(a,b,c){var d=a.get("data"),e=+b.replace("dim","");d&&d.length&&r(c,function(a){if(a){var b=S(d,a[e]);a[e]=0<=b?b:NaN}})}function cx(a,b){var c=0;r(a,function(a){a=+a.replace("dim","");a>c&&(c=a)});var d=b[0];d&&d.length-1>c&&(c=d.length-1);for(var d=[],e=0;e<=c;e++)d.push("dim"+e);return d}function dx(a,b,c){var d=a.model;a=a.getRect();var e=new fa({shape:{x:a.x,y:a.y,width:a.width,height:a.height}}),d="horizontal"===d.get("layout")?"width":"height";return e.setShape(d,0),Ga(e,{shape:{width:a.width,height:a.height}},b,c),e}function Jq(a,b,c,d){for(var e=[],f=0;f<c.length;f++){var g=c[f],h=a.get(g,b);("category"===d.getAxis(g).type?null==h:null==h||isNaN(h))||e.push(d.dataToPoint(h,g))}return e}function ex(a,b){var c=a.hostModel.getModel("lineStyle.normal"),d=c.getLineStyle();a.eachItemGraphicEl(function(e,f){a.hasItemOption&&(d=a.getItemModel(f).getModel("lineStyle.normal",c).getLineStyle(["color","stroke"]));e.useStyle(I(d,{fill:null,stroke:a.getItemVisual(f,"color"),opacity:a.getItemVisual(f,"opacity")}));e.shape.smooth=b})}function fx(a,b,c){var d=new fa({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return Ga(d,{shape:{width:a.width+20,height:a.height+20}},b,c),d}function tk(){function a(b,d){if(d>=c.length)return b;for(var e=-1,f=b.length,k=c[d++],l={},m={};++e<f;){var n=k(b[e]),p=m[n];p?p.push(b[e]):m[n]=[b[e]]}return r(m,function(b,c){l[c]=a(b,d)}),l}function b(a,f){if(f>=c.length)return a;var e=[],h=d[f++];return r(a,function(a,c){e.push({key:c,values:b(a,f)})}),h?e.sort(function(a,b){return h(a.key,b.key)}):e}var c=[],d=[];return{key:function(a){return c.push(a),this},sortKeys:function(a){return d[c.length-1]=a,this},entries:function(c){return b(a(c,0),0)}}}function gx(a,b){return ya(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})}function hx(a,b,c,d,e,f,g){for(var h=a,k,l=0;h.length;){k=[];for(var m=0,n=h.length;m<n;m++){var p=h[m];p.setLayout({x:l},!0);p.setLayout({dx:c},!0);for(var q=0,t=p.outEdges.length;q<t;q++)k.push(p.outEdges[q].node2)}h=k;++l}ix(a,l);jx(a,(e-c)/(l-1));kx(a,b,f,d,g);lx(a)}function mx(a){r(a,function(a){var b=he(a.outEdges,Rg),d=he(a.inEdges,Rg);a.setLayout({value:Math.max(b,d)},!0)})}function ix(a,b){r(a,function(a){a.outEdges.length||a.setLayout({x:b-1},!0)})}function jx(a,b){r(a,function(a){var c=a.getLayout().x*b;a.setLayout({x:c},!0)})}function kx(a,b,c,d,e){var f=tk().key(function(a){return a.getLayout().x}).sortKeys(nx).entries(a).map(function(a){return a.values});ox(a,f,b,c,d);uk(f,d,c);for(a=1;0<e;e--)px(f,a*=.99),uk(f,d,c),qx(f,a),uk(f,d,c)}function ox(a,b,c,d,e){var f=[];r(b,function(a){var b=a.length,c=0;r(a,function(a){c+=a.getLayout().value});f.push((d-(b-1)*e)/c)});f.sort(function(a,b){return a-b});var g=f[0];r(b,function(a){r(a,function(a,b){a.setLayout({y:b},!0);var c=a.getLayout().value*g;a.setLayout({dy:c},!0)})});r(c,function(a){var b=+a.getValue()*g;a.setLayout({dy:b},!0)})}function uk(a,b,c){r(a,function(a){var d,f,g,h=0,k=a.length;a.sort(rx);for(g=0;g<k;g++){if(d=a[g],0<(f=h-d.getLayout().y))l=d.getLayout().y+f,d.setLayout({y:l},!0);h=d.getLayout().y+d.getLayout().dy+b}if(0<(f=h-b-c)){var l=d.getLayout().y-f;d.setLayout({y:l},!0);h=d.getLayout().y;for(g=k-2;0<=g;--g)0<(f=(d=a[g]).getLayout().y+d.getLayout().dy+b-h)&&(l=d.getLayout().y-f,d.setLayout({y:l},!0)),h=d.getLayout().y}})}function px(a,b){r(a.slice().reverse(),function(a){r(a,function(a){if(a.outEdges.length){var c=he(a.outEdges,sx)/he(a.outEdges,Rg),c=a.getLayout().y+(c-Sg(a))*b;a.setLayout({y:c},!0)}})})}function sx(a){return Sg(a.node2)*a.getValue()}function qx(a,b){r(a,function(a){r(a,function(a){if(a.inEdges.length){var c=he(a.inEdges,tx)/he(a.inEdges,Rg),c=a.getLayout().y+(c-Sg(a))*b;a.setLayout({y:c},!0)}})})}function tx(a){return Sg(a.node1)*a.getValue()}function lx(a){r(a,function(a){a.outEdges.sort(ux);a.inEdges.sort(vx)});r(a,function(a){var b=0,d=0;r(a.outEdges,function(a){a.setLayout({sy:b},!0);b+=a.getLayout().dy});r(a.inEdges,function(a){a.setLayout({ty:d},!0);d+=a.getLayout().dy})})}function ux(a,b){return a.node2.getLayout().y-b.node2.getLayout().y}function vx(a,b){return a.node1.getLayout().y-b.node1.getLayout().y}function he(a,b){for(var c=0,d=a.length,e=-1;++e<d;){var f=+b.call(a,a[e],e);isNaN(f)||(c+=f)}return c}function Sg(a){return a.getLayout().y+a.getLayout().dy/2}function rx(a,b){return a.getLayout().y-b.getLayout().y}function nx(a,b){return a<b?-1:a>b?1:a===b?0:NaN}function Rg(a){return a.getValue()}function Tg(a,b,c,d){F.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=c;this._createContent(a,b,d);this.updateData(a,b,d);this._seriesModel}function Kq(a,b,c){return w(a,function(a){return a=a.slice(),a[b]=c.initBaseline,a})}function Lq(a){var b={};return r(a,function(a,d){b["ends"+d]=a}),b}function Mq(a){this.group=new F;this.styleUpdater=a}function wx(a,b,c){var d=b.getItemModel(c),e=d.getModel(xx);b=b.getItemVisual(c,"color");e=e.getItemStyle(["borderColor"]);c=a.childAt(a.whiskerIndex);c.style.set(e);c.style.stroke=b;c.dirty();c=a.childAt(a.bodyIndex);c.style.set(e);c.style.stroke=b;c.dirty();ma(a,d.getModel(yx).getItemStyle())}function zx(a){var b=[],c=[];return a.eachSeriesByType("boxplot",function(a){var d=a.getBaseAxis(),f=S(c,d);0>f&&(f=c.length,c[f]=d,b[f]={axis:d,seriesModels:[]});b[f].seriesModels.push(a)}),b}function Ax(a){var b,c=a.axis,d=a.seriesModels,e=d.length,f=a.boxWidthList=[],g=a.boxOffsetList=[],h=[];if("category"===c.type)b=c.getBandWidth();else{var k=0;qf(d,function(a){k=Math.max(k,a.getData().count())});a=c.getExtent();Math.abs(a[1]-a[0])}qf(d,function(a){a=a.get("boxWidth");A(a)||(a=[a,a]);h.push([B(a[0],b)||0,B(a[1],b)||0])});a=.8*b-2;var l=a/e*.3,m=(a-l*(e-1))/e,n=m/2-a/2;qf(d,function(a,b){g.push(n);n+=l+m;f.push(Math.min(Math.max(m,h[b][0]),h[b][1]))})}function Bx(a,b,c){var d,e=a.coordinateSystem,f=a.getData(),g=c/2,h=a.get("layout"),k="horizontal"===h?0:1,l=1-k,m=["x","y"],n=[];r(f.dimensions,function(a){var b=f.getDimensionInfo(a).coordDim;b===m[l]?n.push(a):b===m[k]&&(d=a)});null==d||5>n.length||f.each([d].concat(n),function(){function a(a){var c=[];c[k]=v;c[l]=a;var d;return isNaN(v)||isNaN(a)?d=[NaN,NaN]:(d=e.dataToPoint(c))[k]+=b,d}function c(a,b){var c=a.slice(),d=a.slice();c[k]+=g;d[k]-=g;b?H.push(c,d):H.push(d,c)}function d(a){a=[a.slice(),a.slice()];a[0][k]-=g;a[1][k]+=g;D.push(a)}var m=arguments,v=m[0],x=m[n.length+1],r=a(m[3]),y=a(m[1]),E=a(m[5]),D=[[y,a(m[2])],[E,a(m[4])]];d(y);d(E);d(r);var H=[];c(D[0][1],0);c(D[1][1],1);f.setItemLayout(x,{chartLayout:h,initBaseline:r[l],median:r,bodyEnds:H,whiskerEnds:D})})}function Cx(a,b,c){var d=b.getItemModel(c),e=d.getModel(Dx),f=b.getItemVisual(c,"color");b=b.getItemVisual(c,"borderColor")||f;e=e.getItemStyle(["color","color0","borderColor","borderColor0"]);c=a.childAt(a.whiskerIndex);c.useStyle(e);c.style.stroke=b;c=a.childAt(a.bodyIndex);c.useStyle(e);c.style.fill=f;c.style.stroke=b;ma(a,d.getModel(Ex).getItemStyle())}function Fx(a,b){var c,d=a.getBaseAxis(),d="category"===d.type?d.getBandWidth():(c=d.getExtent(),Math.abs(c[1]-c[0])/b.count());c=B(Nq(a.get("barMaxWidth"),d),d);var e=B(Nq(a.get("barMinWidth"),1),d),f=a.get("barWidth");return null!=f?B(f,d):Math.max(Math.min(d/2,c),e)}function Gx(a){return A(a)||(a=[+a,+a]),a}function Oq(a,b){a.eachChild(function(a){a.attr({z:b.z,zlevel:b.zlevel,style:{stroke:"stroke"===b.brushType?b.color:null,fill:"fill"===b.brushType?b.color:null}})})}function vk(a,b){F.call(this);var c=new Xd(a,b),d=new F;this.add(c);this.add(d);d.beforeUpdate=function(){this.attr(c.getScale())};this.updateData(a,b)}function Pq(a){var b=a.data;b&&b[0]&&b[0][0]&&b[0][0].coord&&(a.data=w(b,function(a){var b={coords:[a[0].coord,a[1].coord]};return a[0].name&&(b.fromName=a[0].name),a[1].name&&(b.toName=a[1].name),Ae([b,a[0],a[1]])}))}function rf(a,b,c){F.call(this);this.add(this.createLine(a,b,c));this._updateEffectSymbol(a,b)}function Ug(a,b,c){F.call(this);this._createPolyline(a,b,c)}function wk(a,b,c){rf.call(this,a,b,c);this._lastFramePercent=this._lastFrame=0}function Qq(){this.group=new F;this._lineEl=new Hx}function Vg(a){return a instanceof Array||(a=[a,a]),a}function Rq(){this.canvas=Gd();this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}function Ix(a,b,c){var d=a[1]-a[0],e=(b=w(b,function(b){return{interval:[(b.interval[0]-a[0])/d,(b.interval[1]-a[0])/d]}})).length,f=0;return function(a){for(d=f;d<e;d++)if((g=b[d].interval)[0]<=a&&a<=g[1]){f=d;break}if(d===e)for(var d=f-1;0<=d;d--){var g=b[d].interval;if(g[0]<=a&&a<=g[1]){f=d;break}}return 0<=d&&d<e&&c[d]}}function Jx(a,b){var c=a[1]-a[0];return b=[(b[0]-a[0])/c,(b[1]-a[0])/c],function(a){return a>=b[0]&&a<=b[1]}}function Kx(a){a=a.dimensions;return"lng"===a[0]&&"lat"===a[1]}function Sq(a,b,c,d){var e=a.getItemLayout(b),f=c.get("symbolRepeat"),g=c.get("symbolClip"),h=c.get("symbolPosition")||"start",k=(c.get("symbolRotate")||0)*Math.PI/180||0,l=c.get("symbolPatternSize")||2,m=c.isAnimationEnabled(),g={dataIndex:b,layout:e,itemModel:c,symbolType:a.getItemVisual(b,"symbol")||"circle",color:a.getItemVisual(b,"color"),symbolClip:g,symbolRepeat:f,symbolRepeatDirection:c.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:k,animationModel:m?c:null,hoverAnimation:m&&c.get("hoverAnimation"),z2:c.getShallow("z",!0)||0},n,m=d.valueDim,p=c.get("symbolBoundingData"),q=d.coordSys.getOtherAxis(d.coordSys.getBaseAxis()),t=q.toGlobalCoord(q.dataToCoord(0));n=1-+(0>=e[m.wh]);A(p)?(p=[q.toGlobalCoord(q.dataToCoord(q.scale.parse(p[0])))-t,q.toGlobalCoord(q.dataToCoord(q.scale.parse(p[1])))-t],p[1]<p[0]&&p.reverse(),n=p[n]):n=null!=p?q.toGlobalCoord(q.dataToCoord(q.scale.parse(p)))-t:f?d.coordSysExtent[m.index][n]-t:e[m.wh];g.boundingLength=n;f&&(g.repeatCutLength=e[m.wh]);g.pxSign=0<n?1:0>n?-1:0;m=g.boundingLength;n=g.pxSign;p=d.valueDim;q=d.categoryDim;t=Math.abs(e[q.wh]);a=a.getItemVisual(b,"symbolSize");A(a)?a=a.slice():(null==a&&(a="100%"),a=[a,a]);a[q.index]=B(a[q.index],t);a[p.index]=B(a[p.index],f?t:Math.abs(m));g.symbolSize=a;(g.symbolScale=[a[0]/l,a[1]/l])[p.index]*=(d.isHorizontal?-1:1)*n;l=g.symbolScale;(a=c.get(Lx)||0)&&(xk.attr({scale:l.slice(),rotation:k}),xk.updateTransform(),a/=xk.getLineScale(),a*=l[d.valueDim.index]);g.valueLineWidth=a;var u=g.symbolSize,k=c.get("symbolOffset");A(k)&&(k=[B(k[0],u[0]),B(k[1],u[1])]);b=k;m=g.boundingLength;n=g.repeatCutLength;k=d.categoryDim;l=d.valueDim;a=g.pxSign;q=p=Math.max(u[l.index]+g.valueLineWidth,0);if(f){q=Math.abs(m);c=Ea(c.get("symbolMargin"),"15%")+"";t=!1;c.lastIndexOf("!")===c.length-1&&(t=!0,c=c.slice(0,c.length-1));c=B(c,u[l.index]);var v=Math.max(p+2*c,0),x=t?0:2*c,r=sn(f),u=r?f:Tq((q+x)/v),v=p+2*(c=(q-u*p)/2/(t?u:u-1)),x=t?0:2*c;r||"fixed"===f||(u=n?Tq((Math.abs(n)+x)/v):0);q=u*v-x;g.repeatTimes=u;g.symbolMargin=c}f=q/2*a;c=g.pathPosition=[];c[k.index]=e[k.wh]/2;c[l.index]="start"===h?f:"end"===h?m-f:m/2;b&&(c[0]+=b[0],c[1]+=b[1]);h=g.bundlePosition=[];h[k.index]=e[k.xy];h[l.index]=e[l.xy];h=g.barRectShape=I({},e);h[l.wh]=a*Math.max(Math.abs(e[l.wh]),Math.abs(c[l.index]+f));h[k.wh]=e[k.wh];h=g.clipShape={};h[k.xy]=-e[k.xy];h[k.wh]=d.ecSize[k.wh];h[l.xy]=0;h[l.wh]=e[l.wh];return g}function Uq(a){var b=a.symbolPatternSize;a=nb(a.symbolType,-b/2,-b/2,b,b,a.color);return a.attr({culling:!0}),"image"!==a.type&&a.setStyle({strokeNoScale:!0}),a}function Vq(a,b,c,d){function e(a){var b=g.slice(),d=c.pxSign,e=a;return("start"===c.symbolRepeatDirection?0<d:0>d)&&(e=k-1-a),b[h.index]=m*(e-k/2+.5)+g[h.index],{position:b,scale:c.symbolScale.slice(),rotation:c.rotation}}var f=a.__pictorialBundle,g=c.pathPosition,h=b.valueDim,k=c.repeatTimes||0,l=0,m=c.symbolSize[b.valueDim.index]+c.valueLineWidth+2*c.symbolMargin;for(sf(a,function(a){a.__pictorialAnimationIndex=l;a.__pictorialRepeatTimes=k;l<k?ie(a,null,e(l),c,d):ie(a,null,{scale:[0,0]},c,d,function(){f.remove(a)});yk(a,c);l++});l<k;l++){b=Uq(c);b.__pictorialAnimationIndex=l;b.__pictorialRepeatTimes=k;f.add(b);var n=e(l);ie(b,{position:n.position,scale:[0,0]},{scale:n.scale,rotation:n.rotation},c,d);b.on("mouseover",function(){sf(a,function(a){a.trigger("emphasis")})}).on("mouseout",function(){sf(a,function(a){a.trigger("normal")})});yk(b,c)}}function Wq(a,b,c,d){b=a.__pictorialBundle;var e=a.__pictorialMainPath;e?ie(e,null,{position:c.pathPosition.slice(),scale:c.symbolScale.slice(),rotation:c.rotation},c,d):(e=a.__pictorialMainPath=Uq(c),b.add(e),ie(e,{position:c.pathPosition.slice(),scale:[0,0],rotation:c.rotation},{scale:c.symbolScale.slice()},c,d),e.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")}));yk(e,c)}function Xq(a,b,c){var d=I({},b.barRectShape),e=a.__pictorialBarRect;e?ie(e,null,{shape:d},b,c):(e=a.__pictorialBarRect=new fa({z2:2,shape:d,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),a.add(e))}function Yq(a,b,c,d){if(c.symbolClip){var e=a.__pictorialClipPath,f=I({},c.clipShape);b=b.valueDim;var g=c.animationModel,h=c.dataIndex;e?Z(e,{shape:f},g,h):(f[b.wh]=0,e=new fa({shape:f}),a.__pictorialBundle.setClipPath(e),a.__pictorialClipPath=e,a={},a[b.wh]=c.clipShape[b.wh],Pa[d?"updateProps":"initProps"](e,{shape:a},g,h))}}function Zq(a,b){var c=a.getItemModel(b);return c.getAnimationDelayParams=Mx,c.isAnimationEnabled=Nx,c}function Mx(a){return{index:a.__pictorialAnimationIndex,count:a.__pictorialRepeatTimes}}function Nx(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function yk(a,b){a.off("emphasis").off("normal");var c=b.symbolScale.slice();b.hoverAnimation&&a.on("emphasis",function(){this.animateTo({scale:[1.1*c[0],1.1*c[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:c.slice()},400,"elasticOut")})}function $q(a,b,c,d){var e=new F,f=new F;return e.add(f),e.__pictorialBundle=f,f.attr("position",c.bundlePosition.slice()),c.symbolRepeat?Vq(e,b,c):Wq(e,b,c),Xq(e,c,d),Yq(e,b,c,d),e.__pictorialShapeStr=ar(a,c),e.__pictorialSymbolMeta=c,e}function br(a,b,c,d){var e=d.__pictorialBarRect;e&&(e.style.text=null);var f=[];sf(d,function(a){f.push(a)});d.__pictorialMainPath&&f.push(d.__pictorialMainPath);d.__pictorialClipPath&&(c=null);r(f,function(a){Z(a,{scale:[0,0]},c,b,function(){d.parent&&d.parent.remove(d)})});a.setItemGraphicEl(b,null)}function ar(a,b){return[a.getItemVisual(b.dataIndex,"symbol")||"none",!!b.symbolRepeat,!!b.symbolClip].join(":")}function sf(a,b,c){r(a.__pictorialBundle.children(),function(d){d!==a.__pictorialBarRect&&b.call(c,d)})}function ie(a,b,c,d,e,f){b&&a.attr(b);d.symbolClip&&!e?c&&a.attr(c):c&&Pa[e?"updateProps":"initProps"](a,c,d.animationModel,d.dataIndex,f)}function cr(a,b,c){var d=c.color,e=c.dataIndex,f=c.itemModel,g=f.getModel("itemStyle.normal").getItemStyle(["color"]),h=f.getModel("itemStyle.emphasis").getItemStyle(),k=f.getShallow("cursor");sf(a,function(a){a.setColor(d);a.setStyle(J({fill:d,opacity:c.opacity},g));ma(a,h);k&&(a.cursor=k);a.z2=c.z2});var l={};a=a.__pictorialBarRect;rp(a.style,l,f,d,b.seriesModel,e,b.valueDim.posDesc[+(0<c.boundingLength)]);ma(a,l)}function Tq(a){var b=Math.round(a);return 1E-4>Math.abs(a-b)?b:Math.ceil(a)}function Wg(a,b,c){this.dimension="single";this.dimensions=["single"];this._axis=null;this._rect;this._init(a,b,c);this.model=a}function zk(a,b){b=b||{};var c=a.axis,d={},e=c.position,f=c.orient,g=a.coordinateSystem.getRect(),g=[g.x,g.x+g.width,g.y,g.y+g.height],h={top:g[2],bottom:g[3]},k={left:g[0],right:g[1]};d.position=["vertical"===f?k[e]:g[0],"horizontal"===f?h[e]:g[3]];d.rotation=Math.PI/2*{horizontal:0,vertical:1}[f];d.labelDirection=d.tickDirection=d.nameDirection={top:-1,bottom:1,right:1,left:-1}[e];a.get("axisTick.inside")&&(d.tickDirection=-d.tickDirection);Ea(b.labelInside,a.get("axisLabel.inside"))&&(d.labelDirection=-d.labelDirection);f=b.rotate;return null==f&&(f=a.get("axisLabel.rotate")),d.labelRotation="top"===e?-f:f,d.labelInterval=c.getLabelInterval(),d.z2=1,d}function dr(a,b,c,d,e){var f=a.axis;if(!f.scale.isBlank()&&f.containData(b))if(a.involveSeries){var g=Ox(b,a),h=g.payloadBatch,k=g.snapToValue;h[0]&&null==e.seriesIndex&&I(e,h[0]);!d&&a.snap&&f.containData(k)&&null!=k&&(b=k);c.showPointer(a,b,h,e);c.showTooltip(a,g,k)}else c.showPointer(a,b)}function Ox(a,b){var c=b.axis,d=c.dim,e=a,f=[],g=Number.MAX_VALUE,h=-1;return Fb(b.seriesModels,function(b,l){var k,n;k=b.coordDimToDataDim(d);if(b.getAxisTooltipData)k=b.getAxisTooltipData(k,a,c),n=k.dataIndices,k=k.nestestValue;else{if(!(n=b.getData().indicesOfNearest(k[0],a,!1,"category"===c.type?.5:null)).length)return;k=b.getData().get(k[0],n[0])}if(null!=k&&isFinite(k)){var p=a-k,q=Math.abs(p);q<=g&&((q<g||0<=p&&0>h)&&(g=q,h=p,e=k,f.length=0),Fb(n,function(a){f.push({seriesIndex:b.seriesIndex,dataIndexInside:a,dataIndex:b.getData().getRawIndex(a)})}))}}),{payloadBatch:f,snapToValue:e}}function Px(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function Qx(a,b,c,d){c=c.payloadBatch;var e=b.axis,f=e.model,g=b.axisPointerModel;if(b.triggerTooltip&&c.length){b=b.coordSys.model;var h=ff(b),k=a.map[h];k||(k=a.map[h]={coordSysId:b.id,coordSysIndex:b.componentIndex,coordSysType:b.type,coordSysMainType:b.mainType,dataByAxis:[]},a.list.push(k));k.dataByAxis.push({axisDim:e.dim,axisIndex:f.componentIndex,axisType:f.type,axisId:f.id,value:d,valueLabelOpt:{precision:g.get("label.precision"),formatter:g.get("label.formatter")},seriesDataIndices:c.slice()})}}function Rx(a,b,c){var d=c.axesInfo=[];Fb(b,function(b,c){var e=b.axisPointerModel.option,f=a[c];f?(!b.useHandle&&(e.status="show"),e.value=f.value,e.seriesDataIndices=(f.payloadBatch||[]).slice()):!b.useHandle&&(e.status="hide");"show"===e.status&&d.push({axisDim:b.axis.dim,axisIndex:b.axis.model.componentIndex,value:e.value})})}function Sx(a,b,c,d){if(!Xg(b)&&a.list.length){var e=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:a.list})}else d({type:"hideTip"})}function Tx(a,b,c){b=c.getZr();var d=er(b).axisPointerLastHighlights||{},e=er(b).axisPointerLastHighlights={};Fb(a,function(a,b){var c=a.axisPointerModel.option;"show"===c.status&&Fb(c.seriesDataIndices,function(a){e[a.seriesIndex+" | "+a.dataIndex]=a})});var f=[],g=[];r(d,function(a,b){!e[b]&&g.push(a)});r(e,function(a,b){!d[b]&&f.push(a)});g.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:g});f.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:f})}function fr(a){var b=a.axis.model,c={};a=c.axisDim=a.axis.dim;return c.axisIndex=c[a+"AxisIndex"]=b.componentIndex,c.axisName=c[a+"AxisName"]=b.name,c.axisId=c[a+"AxisId"]=b.id,c}function Xg(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function gr(a,b,c){if(!ca.node){var d=b.getZr();gc(d).records||(gc(d).records={});Ux(d,b);(gc(d).records[a]||(gc(d).records[a]={})).handler=c}}function Ux(a,b){function c(c,e){a.on(c,function(c){var d=Vx(b);Wx(gc(a).records,function(a){a&&e(a,c,d.dispatchAction)});Xx(d.pendings,b)})}gc(a).initialized||(gc(a).initialized=!0,c("click",C(hr,"click")),c("mousemove",C(hr,"mousemove")),c("globalout",Yx))}function Xx(a,b){var c,d=a.showTip.length,e=a.hideTip.length;d?c=a.showTip[d-1]:e&&(c=a.hideTip[e-1]);c&&(c.dispatchAction=null,b.dispatchAction(c))}function Yx(a,b,c){a.handler("leave",null,c)}function hr(a,b,c,d){b.handler(a,c,d)}function Vx(a){var b={showTip:[],hideTip:[]},c=function(d){var e=b[d.type];e?e.push(d):(d.dispatchAction=c,a.dispatchAction(d))};return{dispatchAction:c,pendings:b}}function Ak(a,b){if(!ca.node){var c=b.getZr();(gc(c).records||{})[a]&&(gc(c).records[a]=null)}}function je(){}function ir(a,b,c,d){jr(rd(c).lastProp,d)||(rd(c).lastProp=d,b?Z(c,d,a):(c.stopAnimation(),c.attr(d)))}function jr(a,b){if(T(a)&&T(b)){var c=!0;return r(b,function(b,e){c=c&&jr(a[e],b)}),!!c}return a===b}function kr(a,b){a[b.get("label.show")?"show":"hide"]()}function Bk(a){return{position:a.position.slice(),rotation:a.rotation||0}}function lr(a,b,c){var d=b.get("z"),e=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=d&&(a.z=d),null!=e&&(a.zlevel=e),a.silent=c)})}function Ck(a){var b,c=a.get("type");a=a.getModel(c+"Style");return"line"===c?(b=a.getLineStyle()).fill=null:"shadow"===c&&((b=a.getAreaStyle()).stroke=null),b}function mr(a,b,c,d,e){var f=nr(c.get("value"),b.axis,b.ecModel,c.get("seriesDataIndices"),{precision:c.get("label.precision"),formatter:c.get("label.formatter")});c=c.getModel("label");var g=fd(c.get("padding")||0),h=c.getFont(),k=ac(f,h),l=e.position,m=k.width+g[1]+g[3],g=k.height+g[0]+g[2],k=e.align;"right"===k&&(l[0]-=m);"center"===k&&(l[0]-=m/2);e=e.verticalAlign;"bottom"===e&&(l[1]-=g);"middle"===e&&(l[1]-=g/2);e=d.getWidth();d=d.getHeight();l[0]=Math.min(l[0]+m,e)-m;l[1]=Math.min(l[1]+g,d)-g;l[0]=Math.max(l[0],0);l[1]=Math.max(l[1],0);(d=c.get("backgroundColor"))&&"auto"!==d||(d=b.get("axisLine.lineStyle.color"));a.label={shape:{x:0,y:0,width:m,height:g,r:c.get("borderRadius")},position:l.slice(),style:{text:f,textFont:h,textFill:c.getTextColor(),textPosition:"inside",fill:d,stroke:c.get("borderColor")||"transparent",lineWidth:c.get("borderWidth")||0,shadowBlur:c.get("shadowBlur"),shadowColor:c.get("shadowColor"),shadowOffsetX:c.get("shadowOffsetX"),shadowOffsetY:c.get("shadowOffsetY")},z2:10}}function nr(a,b,c,d,e){var f=b.scale.getLabel(a,{precision:e.precision});if(e=e.formatter){var g={value:vj(b,a),seriesData:[]};r(d,function(a){var b=c.getSeriesByIndex(a.seriesIndex);a=a.dataIndexInside;(b=b&&b.getDataParams(a))&&g.seriesData.push(b)});Da(e)?f=e.replace("{value}",f):jc(e)&&(f=e(g))}return f}function Dk(a,b,c){var d=Yb();return Xc(d,d,c.rotation),Mb(d,d,c.position),Za([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||0)],d)}function or(a,b,c,d,e,f){var g=Ia.innerTextLayout(c.rotation,0,c.labelDirection);c.labelMargin=e.get("label.margin");mr(b,d,e,f,{position:Dk(d.axis,a,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})}function Ek(a,b,c){return c=c||0,{x1:a[c],y1:a[1-c],x2:b[c],y2:b[1-c]}}function pr(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}function qr(a,b){var c={};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}function Fk(a,b){var c=a.getRect();return[c[rr[b]],c[rr[b]]+c[Zx[b]]]}function $x(a,b,c){var d=new fa({shape:{x:a.x-10,y:a.y-10,width:0,height:a.height+20}});return Ga(d,{shape:{width:a.width+20,height:a.height+20}},b,c),d}function sr(a,b,c){if(a.count()){var d=b.coordinateSystem;b=b.getLayerSeries();for(var e=w(b,function(b){return w(b.indices,function(b){var c=d.dataToPoint(a.get("time",b));return c[1]=a.get("value",b),c})}),f=ay(e),g=f.y0,f=c/f.max,h=b.length,k=b[0].indices.length,l=0;l<k;++l){c=g[l]*f;a.setItemLayout(b[0].indices[l],{layerIndex:0,x:e[0][l][0],y0:c,y:e[0][l][1]*f});for(var m=1;m<h;++m)c+=e[m-1][l][1]*f,a.setItemLayout(b[m].indices[l],{layerIndex:m,x:e[m][l][0],y0:c,y:e[m][l][1]*f})}}}function ay(a){for(var b=a.length,c=a[0].length,d=[],e=[],f=0,g={},h=0;h<c;++h){for(var k=0,l=0;k<b;++k)l+=a[k][h][1];l>f&&(f=l);d.push(l)}for(a=0;a<c;++a)e[a]=(f-d[a])/2;for(a=f=0;a<c;++a)b=d[a]+e[a],b>f&&(f=b);return g.y0=e,g.max=f,g}function by(a,b){return b=b||[0,0],w(["x","y"],function(c,d){var e=this.getAxis(c),f=b[d],g=a[d]/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(f-g)-e.dataToCoord(f+g))},this)}function cy(a,b){return b=b||[0,0],w([0,1],function(c){var d=b[c],e=a[c]/2,f=[],g=[];return f[c]=d-e,g[c]=d+e,f[1-c]=g[1-c]=b[1-c],Math.abs(this.dataToPoint(f)[c]-this.dataToPoint(g)[c])},this)}function dy(a,b){var c=this.getAxis(),d=b instanceof Array?b[0]:b,e=(a instanceof Array?a[0]:a)/2;return"category"===c.type?c.getBandWidth():Math.abs(c.dataToCoord(d-e)-c.dataToCoord(d+e))}function ey(a,b){return w(["Radius","Angle"],function(c,d){var e=this["get"+c+"Axis"](),f=b[d],g=a[d]/2,h="dataTo"+c,e="category"===e.type?e.getBandWidth():Math.abs(e[h](f-g)-e[h](f+g));return"Angle"===c&&(e=e*Math.PI/180),e},this)}function fy(a,b,c,d,e,f){e={};var g=c.style||{};if(c.shape&&(e.shape=G(c.shape)),c.position&&(e.position=c.position.slice()),c.scale&&(e.scale=c.scale.slice()),c.origin&&(e.origin=c.origin.slice()),c.rotation&&(e.rotation=c.rotation),"image"===a.type&&c.style)h=e.style={},r(["x","y","width","height"],function(b){var c=a.style;null==g[b]||f||(h[b]=g[b],g[b]=c[b])});if("text"===a.type&&c.style){var h=e.style={};r(["x","y"],function(b){var c=a.style;null==g[b]||f||(h[b]=g[b],g[b]=c[b])});!g.hasOwnProperty("textFill")&&g.fill&&(g.textFill=g.fill);!g.hasOwnProperty("textStroke")&&g.stroke&&(g.textStroke=g.stroke)}if("group"!==a.type&&(a.useStyle(g),f)){a.style.opacity=0;var k=g.opacity;null==k&&(k=1);Ga(a,{style:{opacity:k}},d,b)}f?a.attr(e):Z(a,e,d,b);a.attr({z2:c.z2||0,silent:c.silent});!1!==c.styleEmphasis&&ma(a,c.styleEmphasis)}function gy(a,b,c,d){function e(a){null==a&&(a=k);v&&(l=b.getItemModel(a),m=l.getModel(hy),n=l.getModel(iy),p=So(b),q=b.getItemVisual(a,"color"),v=!1)}var f=a.get("renderItem"),g=a.coordinateSystem,h={};g&&(h=g.prepareCustoms?g.prepareCustoms():jy[g.type](g));var k,l,m,n,p,q,t=J({getWidth:d.getWidth,getHeight:d.getHeight,getZr:d.getZr,getDevicePixelRatio:d.getDevicePixelRatio,value:function(a,c){return null==c&&(c=k),b.get(b.getDimension(a||0),c)},style:function(c,d){null==d&&(d=k);e(d);var f=l.getModel(ky).getItemStyle();null!=q&&(f.fill=q);var g=b.getItemVisual(d,"opacity");return null!=g&&(f.opacity=g),null!=p&&(la(f,m,null,{autoColor:q,isRectText:!0}),f.text=m.getShallow("show")?Ba(a.getFormattedLabel(d,"normal"),b.get(p,d)):null),c&&I(f,c),f},styleEmphasis:function(c,d){null==d&&(d=k);e(d);var f=l.getModel(ly).getItemStyle();return null!=p&&(la(f,n,null,{isRectText:!0},!0),f.text=n.getShallow("show")?Vc(a.getFormattedLabel(d,"emphasis"),a.getFormattedLabel(d,"normal"),b.get(p,d)):null),c&&I(f,c),f},visual:function(a,c){return null==c&&(c=k),b.getItemVisual(c,a)},barLayout:function(a){if(g.getBaseAxis){var b=g.getBaseAxis();return Cg.getLayoutOnAxis(J({axis:b},a),d)}},currentSeriesIndices:function(){return c.getCurrentSeriesIndices()},font:function(a){return Xi(a,c)}},h.api||{}),u={context:{},seriesId:a.id,seriesName:a.name,seriesIndex:a.seriesIndex,coordSys:h.coordSys,dataInsideLength:b.count(),encode:my(a.getData())},v=!0;return function(a){return k=a,v=!0,f&&f(J({dataIndexInside:a,dataIndex:b.getRawIndex(a)},u),t)||{}}}function my(a){var b={};return r(a.dimensions,function(c,d){var e=a.getDimensionInfo(c);if(!e.isExtraCoord){var f=e.coordDim;(b[f]=b[f]||[])[e.coordDimIndex]=d}}),b}function Yg(a,b,c,d,e,f){var g=c.type;if(!a||g===a.__customGraphicType||"path"===g&&c.pathData===a.__customPathData||"image"===g&&c.style.image===a.__customImagePath||"text"===g&&c.style.text===a.__customText||(e.remove(a),a=null),null!=g){var h=!a;if(!a){var k;a=c.type;"path"===a?(k=c.shape,(k=Ue(k.pathData,null,{x:k.x||0,y:k.y||0,width:k.width||0,height:k.height||0},"center")).__customPathData=c.pathData):"image"===a?(k=new db({})).__customImagePath=c.style.image:"text"===a?(k=new Q({})).__customText=c.style.text:k=new (0,Pa[a.charAt(0).toUpperCase()+a.slice(1)]);a=(k.__customGraphicType=a,k.name=c.name,k)}if(fy(a,b,c,d,f,h),"group"===g)if(g=a.children()||[],h=c.children||[],c.diffChildrenByName)b={oldChildren:g,newChildren:h,dataIndex:b,animatableModel:d,group:a,data:f},(new Ac(b.oldChildren,b.newChildren,tr,tr,b)).add(ur).update(ur).remove(ny).execute();else{for(c=0;c<h.length;c++)Yg(a.childAt(c),b,h[c],d,a,f);for(;c<g.length;c++)g[c]&&a.remove(g[c])}return e.add(a),a}}function tr(a,b){var c=a&&a.name;return null!=c?c:oy+b}function ur(a,b){var c=this.context;Yg(null!=b?c.oldChildren[b]:null,c.dataIndex,null!=a?c.newChildren[a]:null,c.animatableModel,c.group,c.data)}function ny(a){var b=this.context;(a=b.oldChildren[a])&&b.group.remove(a)}function vr(a,b,c,d){var e=c.type;c=new (0,Pa[e.charAt(0).toUpperCase()+e.slice(1)])(c);b.add(c);d.set(a,c);c.__ecGraphicId=a}function Zg(a,b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){Zg(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function py(a){return a=I({},a),r(["id","parentId","$action","hv","bounding"].concat(fo),function(b){delete a[b]}),a}function wr(a,b){var c;return r(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)}),c}function Gk(a,b,c){var d,e={},f="toggleSelected"===a;return c.eachComponent("legend",function(c){f&&null!=d?c[d?"select":"unSelect"](b.name):(c[a](b.name),d=c.isSelected(b.name));r(c.getData(),function(a){a=a.get("name");if("\n"!==a&&""!==a){var b=c.isSelected(a);e.hasOwnProperty(a)?e[a]=e[a]&&b:e[a]=b}})}),{name:b.name,selected:e}}function qy(a,b,c){var d=b.getBoxLayoutParams(),e=b.get("padding");c={width:c.getWidth(),height:c.getHeight()};var f=ya(d,c,e);tf(b.get("orient"),a,b.get("itemGap"),f.width,f.height);mg(a,d,c,e)}function xr(a,b){var c=fd(b.get("padding")),d=b.getItemStyle(["color","opacity"]);return d.fill=b.get("backgroundColor"),new fa({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:d,silent:!0,z2:-1})}function yr(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function zr(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"highlight",seriesName:a.name,name:b})}function Ar(a,b,c){var d=c.getZr().storage.getDisplayList()[0];d&&d.useHoverLayer||a.get("legendHoverLink")&&c.dispatchAction({type:"downplay",seriesName:a.name,name:b})}function Br(a,b,c){var d=[1,1];d[a.getOrient().index]=0;xc(b,c,{type:"box",ignoreSize:d})}function ry(a){var b="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return w(sy,function(a){return a+"transition:"+b}).join(";")}function ty(a){var b=[],c=a.get("fontSize"),d=a.getTextColor();return d&&b.push("color:"+d),b.push("font:"+a.getFont()),c&&b.push("line-height:"+Math.round(3*c/2)+"px"),Cr(["decoration","align"],function(c){var d=a.get(c);d&&b.push("text-"+c+":"+d)}),b.join(";")}function uy(a){var b=[],c=a.get("transitionDuration"),d=a.get("backgroundColor"),e=a.getModel("textStyle"),f=a.get("padding");return c&&b.push(ry(c)),d&&(ca.canvasSupported?b.push("background-Color:"+d):(b.push("background-Color:#"+Hm(d)),b.push("filter:alpha(opacity\x3d70)"))),Cr(["width","color","radius"],function(c){var d="border-"+c,e=vy(d),e=a.get(e);null!=e&&b.push(d+":"+e+("color"===c?"":"px"))}),b.push(ty(e)),null!=f&&b.push("padding:"+fd(f).join("px ")+"px"),b.join(";")+";"}function Hk(a,b){var c=document.createElement("div"),d=this._zr=b.getZr();this.el=c;this._x=b.getWidth()/2;this._y=b.getHeight()/2;a.appendChild(c);this._container=a;this._show=!1;this._hideTimeout;var e=this;c.onmouseenter=function(){e._enterable&&(clearTimeout(e._hideTimeout),e._show=!0);e._inContent=!0};c.onmousemove=function(b){if(b=b||window.event,!e._enterable){var c=d.handler;$c(a,b,!0);c.dispatch("mousemove",b)}};c.onmouseleave=function(){e._enterable&&e._show&&e.hideLater(e._hideDelay);e._inContent=!1}}function Ik(a){for(var b=a.pop();a.length;){var c=a.pop();c&&(c instanceof W&&(c=c.get("tooltip",!0)),"string"==typeof c&&(c={formatter:c}),b=new W(c,b,b.ecModel))}return b}function Dr(a){var b=a.clientWidth,c=a.clientHeight;document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a))&&(b+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),c+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10));return{width:b,height:c}}function Er(a){return a.get("stack")||"__ec_stack_"+a.seriesIndex}function wy(a,b){var c={};r(a,function(a,b){var d=a.getData(),e=a.coordinateSystem.getBaseAxis(),f=e.getExtent(),l="category"===e.type?e.getBandWidth():Math.abs(f[1]-f[0])/d.count(),d=c[e.dim]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=d.stacks;c[e.dim]=d;e=Er(a);f[e]||d.autoWidthCount++;f[e]=f[e]||{width:0,maxWidth:0};var m=B(a.get("barWidth"),l),l=B(a.get("barMaxWidth"),l),n=a.get("barGap"),p=a.get("barCategoryGap");m&&!f[e].width&&(m=Math.min(d.remainedWidth,m),f[e].width=m,d.remainedWidth-=m);l&&(f[e].maxWidth=l);null!=n&&(d.gap=n);null!=p&&(d.categoryGap=p)});var d={};return r(c,function(a,b){d[b]={};var c=a.stacks,e=B(a.categoryGap,a.bandWidth),f=B(a.gap,1),l=a.remainedWidth,m=a.autoWidthCount,n=(l-e)/(m+(m-1)*f),n=Math.max(n,0);r(c,function(a,b){var c=a.maxWidth;c&&c<n&&(c=Math.min(c,l),a.width&&(c=Math.min(c,a.width)),l-=c,a.width=c,m--)});var n=(l-e)/(m+(m-1)*f),n=Math.max(n,0),p,q=0;r(c,function(a,b){a.width||(a.width=n);p=a;q+=a.width*(1+f)});p&&(q-=p.width*f);var t=-q/2;r(c,function(a,c){d[b][c]=d[b][c]||{offset:t,width:a.width};t+=a.width*(1+f)})}),d}function $g(a,b){Aa.call(this,"radius",a,b);this.type="category"}function ah(a,b){b=b||[0,360];Aa.call(this,"angle",a,b);this.type="category"}function Fr(a,b){return b.type||(b.data?"category":"value")}function xy(a,b){var c=this,d=c.getAngleAxis(),e=c.getRadiusAxis();if(d.scale.setExtent(1/0,-1/0),e.scale.setExtent(1/0,-1/0),a.eachSeries(function(a){a.coordinateSystem===c&&(a=a.getData(),e.scale.unionExtentFromData(a,"radius"),d.scale.unionExtentFromData(a,"angle"))}),Cc(d.scale,d.model),Cc(e.scale,e.model),"category"===d.type&&!d.onBand){var f=d.getExtent(),g=360/d.scale.count();d.inverse?f[1]+=g:f[1]-=g;d.setExtent(f[0],f[1])}}function Gr(a,b){if(a.type=b.get("type"),a.scale=Wd(b),a.onBand=b.get("boundaryGap")&&"category"===a.type,a.inverse=b.get("inverse"),"angleAxis"===b.mainType){a.inverse^=b.get("clockwise");var c=b.get("startAngle");a.setExtent(c,c+(a.inverse?-360:360))}b.axis=a;a.model=b}function Hr(a,b,c){b[1]>b[0]&&(b=b.slice().reverse());var d=a.coordToPoint([b[0],c]);a=a.coordToPoint([b[1],c]);return{x1:d[0],y1:d[1],x2:a[0],y2:a[1]}}function Jk(a,b){b.update="updateView";X(b,function(b,d){var c={};return d.eachComponent({mainType:"geo",query:b},function(d){d[a](b.name);r(d.coordinateSystem.regions,function(a){c[a.name]=d.isSelected(a.name)||!1})}),{selected:c,name:b.name}})}function yy(a){var b={};r(a,function(a){b[a]=1});a.length=0;r(b,function(b,d){a.push(d)})}function Ir(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!0}function Kk(a,b,c){function d(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}var e={};return Jr(b,function(b){var f=e[b]=d();Jr(a[b],function(a,d){if(R.isValidType(d)){var e={type:d,visual:a};c&&c(e,b);f[d]=new R(e);"opacity"===d&&((e=G(e)).type="colorAlpha",f.__hidden.__alphaForOpacity=new R(e))}})}),e}function Kr(a,b,c){var d;r(c,function(a){b.hasOwnProperty(a)&&Ir(b[a])&&(d=!0)});d&&r(c,function(c){b.hasOwnProperty(c)&&Ir(b[c])?a[c]=G(b[c]):delete a[c]})}function Lr(a,b,c,d,e,f){function g(a){return c.getItemVisual(m,a)}function h(a,b){c.setItemVisual(m,a,b)}function k(a,k){m=null==f?a:k;var n=c.getRawDataItem(m);if(!n||!1!==n.visualMap)for(var p=d.call(e,a),n=b[p],p=l[p],u=0,v=p.length;u<v;u++){var r=p[u];n[r]&&n[r].applyVisual(a,g,h)}}var l={};r(a,function(a){var c=R.prepareVisualTypes(b[a]);l[a]=c});var m;null==f?c.each(k,!0):c.each([f],k,!0)}function Mr(a){var b=["x","y"],c=["width","height"];return{point:function(b,c,f){if(b)return uf(b[a],f.range)},rect:function(d,e,f){if(d)return e=f.range,d=[d[b[a]],d[b[a]]+d[c[a]]],d[1]<d[0]&&d.reverse(),uf(d[0],e)||uf(d[1],e)||uf(e[0],d)||uf(e[1],d)}}}function uf(a,b){return b[0]<=a&&a<=b[1]}function bh(a,b,c,d,e){for(var f=0,g=e[e.length-1];f<e.length;f++){var h=e[f],k;k=a;var l=b,m=c,n=d,p=h[0],q=h[1],t=g[0],u=g[1],g=(m-k)*(q-u)-(p-t)*(n-l);1E-6>=g&&-1E-6<=g?k=!1:(t=((p-k)*(q-u)-(p-t)*(q-l))/g,0>t||1<t?k=!1:(k=((m-k)*(q-l)-(p-k)*(n-l))/g,k=!(0>k||1<k)));if(k)return!0;g=h}}function ch(a,b,c){var d=this._targetInfoList=[],e={},f=Xe(b,a,{includeMainTypes:Nr});Kc(zy,function(a,b){(!c||!c.include||0<=dh(c.include,b))&&a(f,d,e)})}function Lk(a){return a[0]>a[1]&&a.reverse(),a}function Or(a,b,c,d){var e=c.getAxis(["x","y"][a]);c=Lk(w([0,1],function(a){return b?e.coordToData(e.toLocalCoord(d[a])):e.toGlobalCoord(e.dataToCoord(d[a]))}));var f=[];return f[a]=c,f[1-a]=[NaN,NaN],{values:c,xyMinMax:f}}function Pr(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function Ay(a,b){var c=Qr(a),d=Qr(b),c=[c[0]/d[0],c[1]/d[1]];return isNaN(c[0])&&(c[0]=1),isNaN(c[1])&&(c[1]=1),c}function Qr(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function By(a,b,c,d,e){e&&(e=a.getZr(),e[Mk]||(e[Nk]||(e[Nk]=Cy),Ye(e,Nk,c,b)(a,d)))}function Cy(a,b){if(!a.isDisposed()){var c=a.getZr();c[Mk]=!0;a.dispatchAction({type:"brushSelect",batch:b});c[Mk]=!1}}function Rr(a,b,c,d){for(var e=0,f=b.length;e<f;e++){var g=b[e];if(a[g.brushType](d,c,g.selectors,g))return!0}}function Sr(a){var b=a.brushSelector;if(Da(b)){var c=[];return r(Ok,function(a,d){c[d]=function(c,d,e,f){c=d.getItemLayout(c);return a[b](c,e,f)}}),c}if(jc(b)){var d={};return r(Ok,function(a,c){d[c]=b}),d}return b}function Dy(a,b){var c=a.option.seriesIndex;return null!=c&&"all"!==c&&(A(c)?0>S(c,b):b!==c)}function Ey(a){var b=a.selectors={};return r(Ok[a.brushType],function(c,d){b[d]=function(d){return c(d,b,a)}}),a}function Tr(a){return new U(a[0][0],a[1][0],a[0][1]-a[0][0],a[1][1]-a[1][0])}function Ur(a,b){return L({brushType:a.brushType,brushMode:a.brushMode,transformable:a.transformable,brushStyle:(new W(a.brushStyle)).getItemStyle(),removeOnClick:a.removeOnClick,z:a.z},b,!0)}function eh(a,b,c,d){d&&d.$from===a.id||this._brushController.setPanels(a.brushTargetManager.makePanelOpts(c)).enableBrush(a.brushOption).updateCovers(a.areas.slice())}function Pk(a,b,c){this.model=a;this.ecModel=b;this.api=c;this._brushType;this._brushMode}function hc(a,b,c){this._model=a}function Vr(a,b,c,d){b=c.calendarModel;c=c.seriesModel;c=b?b.coordinateSystem:c?c.coordinateSystem:null;return c===this?c[a](d):null}function Wr(a,b){var c=a.cellSize;A(c)?1===c.length&&(c[1]=c[0]):c=a.cellSize=[c,c];var d=w([0,1],function(a){return(null!=b[gd[a][0]]||null!=b[gd[a][1]]&&null!=b[gd[a][2]])&&(c[a]="auto"),null!=c[a]&&"auto"!==c[a]});xc(a,b,{type:"box",ignoreSize:d})}function Fy(a,b,c){function d(a,d){var e=!1;return b(function(b){r(c(a,b)||[],function(a){d.records[b.name][a]&&(e=!0)})}),e}function e(a,d){d.nodes.push(a);b(function(b){r(c(a,b)||[],function(a){d.records[b.name][a]=!0})})}return function(c){var f={nodes:[],records:{}};if(b(function(a){f.records[a.name]={}}),!c)return f;e(c,f);var h;do h=!1,a(function(a){!(0<=S(f.nodes,a))&&d(a,f)&&(e(a,f),h=!0)});while(h);return f}}function Gy(a,b,c){var d=[1/0,-1/0];return sd(c,function(a){var c=a.getData();c&&sd(a.coordDimToDataDim(b),function(a){a=c.getDataExtent(a);a[0]<d[0]&&(d[0]=a[0]);a[1]>d[1]&&(d[1]=a[1])})}),d[1]<d[0]&&(d=[NaN,NaN]),Hy(a,d),d}function Hy(a,b){var c=a.getAxisModel(),d=c.getMin(!0),e="category"===c.get("type"),f=e&&(c.get("data")||[]).length;null!=d&&"dataMin"!==d&&"function"!=typeof d?b[0]=d:e&&(b[0]=0<f?0:NaN);d=c.getMax(!0);return null!=d&&"dataMax"!==d&&"function"!=typeof d?b[1]=d:e&&(b[1]=0<f?f-1:NaN),c.get("scale",!0)||(0<b[0]&&(b[0]=0),0>b[1]&&(b[1]=0)),b}function Xr(a,b){var c=a.getAxisModel(),d=a._percentWindow,e=a._valueWindow;if(d){var f=Mi(e,[0,500]),f=Math.min(f,20),d=b||0===d[0]&&100===d[1];c.setRange(d?null:+e[0].toFixed(f),d?null:+e[1].toFixed(f))}}function Iy(a){var b=a._minMaxSpan={},c=a._dataZoomModel;sd(["min","max"],function(d){b[d+"Span"]=c.get(d+"Span");var e=c.get(d+"ValueSpan");if(null!=e&&(b[d+"ValueSpan"]=e,null!=(e=a.getAxisModel().axis.scale.parse(e)))){var f=a._dataExtent;b[d+"Span"]=ba(f[0]+e,f,[0,100],!0)}})}function Yr(a){var b={};return ke(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function Zr(a,b){var c=a._rangePropMode,d=a.get("rangeMode");ke([["start","startValue"],["end","endValue"]],function(a,f){var e=null!=b[a[0]],h=null!=b[a[1]];e&&!h?c[f]="percent":!e&&h?c[f]="value":d?c[f]=d[f]:e&&(c[f]="percent")})}function $r(a){return"vertical"===a?"ns-resize":"ew-resize"}function Jy(a,b){var c=as(a),d=b.dataZoomId,e=b.coordId;r(c,function(a,c){var f=a.dataZoomInfos;f[d]&&0>S(b.allCoordIds,e)&&(delete f[d],a.count--)});bs(c);var f=c[e];f||((f=c[e]={coordId:e,dataZoomInfos:{},count:0}).controller=Ky(a,f),f.dispatchAction=C(Ly,a));!f.dataZoomInfos[d]&&f.count++;f.dataZoomInfos[d]=b;c=My(f.dataZoomInfos);f.controller.enable(c.controlType,c.opt);f.controller.setPointerChecker(b.containsPoint);Ye(f,"dispatchAction",b.throttleRate,"fixRate")}function Ny(a,b){var c=as(a);r(c,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)});bs(c)}function Oy(a,b){if(a&&"dataZoom"===a.type&&a.batch)for(var c=0,d=a.batch.length;c<d;c++)if(a.batch[c].dataZoomId===b)return!1;return!0}function as(a){a=a.getZr();return a[cs]||(a[cs]={})}function Ky(a,b){var c=new gf(a.getZr());return c.on("pan",ds(Py,b)),c.on("zoom",ds(Qy,b)),c}function bs(a){r(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function Py(a,b,c,d,e,f,g){es(a,function(h){return h.panGetRange(a.controller,b,c,d,e,f,g)})}function Qy(a,b,c,d){es(a,function(e){return e.zoomGetRange(a.controller,b,c,d)})}function es(a,b){var c=[];r(a.dataZoomInfos,function(a){var d=b(a);!a.disabled&&d&&c.push({dataZoomId:a.dataZoomId,start:d[0],end:d[1]})});a.dispatchAction(c)}function Ly(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function My(a){var b,c={},d={"true":2,move:1,"false":0,undefined:-1};return r(a,function(a){var e=!a.disabled&&(!a.zoomLock||"move");d[e]>d[b]&&(b=e);I(c,a.roamControllerOpt)}),{controlType:b,opt:c}}function Ry(a,b,c){c.getAxisProxy(a.name,b).reset(c)}function Sy(a,b,c){c.getAxisProxy(a.name,b).filterData(c)}function le(a,b){return a&&a.hasOwnProperty&&a.hasOwnProperty(b)}function Ty(a,b){a.eachTargetSeries(function(b){b=b.getData();Lr(a.stateList,a.targetVisuals,b,a.getValueState,a,a.getDataDimension(b))})}function Uy(a){a.eachSeries(function(b){var c=b.getData(),d=[];a.eachComponent("visualMap",function(a){if(a.isTargetSeries(b)){var e=a.getVisualMeta(z(Vy,null,b,a))||{stops:[],outerColors:[]};e.dimension=a.getDataDimension(c);d.push(e)}});b.getData().setVisual("visualMeta",d)})}function Vy(a,b,c,d){b=b.targetVisuals[d];d=R.prepareVisualTypes(b);var e={color:a.getData().getVisual("color")};a=0;for(var f=d.length;a<f;a++){var g=d[a];(g=b["opacity"===g?"__alphaForOpacity":g])&&g.applyVisual(c,function(a){return e[a]},function(a,b){e[a]=b})}return e.color}function fs(a,b,c){if(c[0]===c[1])return c.slice();a=(c[1]-c[0])/200;b=c[0];for(var d=[],e=0;200>=e&&b<c[1];e++)d.push(b),b+=a;return d.push(c[1]),d}function gs(a,b,c){a=a.option;var d=a.align;if(null!=d&&"auto"!==d)return d;b={width:b.getWidth(),height:b.getHeight()};for(var e="horizontal"===a.orient?1:0,f=[["left","right","width"],["top","bottom","height"]],d=f[e],g=[0,null,10],h={},k=0;3>k;k++)h[f[1-e][k]]=g[k],h[d[k]]=2===k?c[0]:a[d[k]];c=[["x","width",3],["y","height",0]][e];a=ya(h,b,a.padding);return d[(a.margin[c[2]]||0)+a[c[0]]+.5*a[c[1]]<.5*b[c[1]]?0:1]}function fh(a){return r(a||[],function(b){null!=a.dataIndex&&(a.dataIndexInside=a.dataIndex,a.dataIndex=null)}),a}function gh(a,b,c,d){return new Oa({shape:{points:a},draggable:!!c,cursor:b,drift:c,onmousemove:function(a){ec(a.event)},ondragend:d})}function Wy(a,b,c,d){return a?[[0,-hh(b,vf(c,0))],[hs,0],[0,hh(b,vf(d-c,0))]]:[[0,0],[5,-5],[5,5]]}function is(a){var b=a.get("hoverLinkOnHandle");return!(null==b?!a.get("realtime"):!b)}function js(a){return"vertical"===a?"ns-resize":"ew-resize"}function ks(a,b){var c=a.inverse;("vertical"===a.orient?!c:c)&&b.reverse()}function ih(a){ed(a.label,["show"])}function Qk(a,b,c,d,e,f){var g=[];a=Rk(b,d,a);a=b.indicesOfNearest(d,a,!0)[0];g[e]=b.get(c,a,!0);g[f]=b.get(d,a,!0);c=-1;do c=Math.max(on(b.get(d,a)),c),b=b.stackedOn;while(b);d=c;return 0<=(d=Math.min(d,20))&&(g[f]=+g[f].toFixed(d)),g}function wf(a,b){var c=a.getData(),d=a.coordinateSystem,e;if(e=b)e=b,e=!(!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y)));if(e&&!A(b.coord)&&d)if(e=d.dimensions,d=ls(b,c,d,a),(b=G(b)).type&&Sk[b.type]&&d.baseAxis&&d.valueAxis){var f=ms(e,d.baseAxis.dim);e=ms(e,d.valueAxis.dim);b.coord=Sk[b.type](c,d.baseDataDim,d.valueDataDim,f,e);b.value=b.coord[e]}else{d=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis];for(f=0;2>f;f++)if(Sk[d[f]]){var g=a.coordDimToDataDim(e[f])[0];d[f]=Rk(c,g,d[f])}b.coord=d}return b}function ls(a,b,c,d){var e={};return null!=a.valueIndex||null!=a.valueDim?(e.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,e.valueAxis=c.getAxis(d.dataDimToCoordDim(e.valueDataDim)),e.baseAxis=c.getOtherAxis(e.valueAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0]):(e.baseAxis=d.getBaseAxis(),e.valueAxis=c.getOtherAxis(e.baseAxis),e.baseDataDim=d.coordDimToDataDim(e.baseAxis.dim)[0],e.valueDataDim=d.coordDimToDataDim(e.valueAxis.dim)[0]),e}function xf(a,b){var c;if(c=a&&a.containData&&b.coord)c=!(!isNaN(parseFloat(b.x))||!isNaN(parseFloat(b.y)));return!c||a.containData(b.coord)}function ns(a,b,c,d){return 2>d?a.coord&&a.coord[d]:a.value}function Rk(a,b,c){if("average"===c){var d=0,e=0;return a.each(b,function(a,b){isNaN(a)||(d+=a,e++)},!0),d/e}return a.getDataExtent(b,!0)["max"===c?1:0]}function os(a,b,c){var d=b.coordinateSystem;a.each(function(e){var f,g=a.getItemModel(e),h=B(g.get("x"),c.getWidth()),g=B(g.get("y"),c.getHeight());if(isNaN(h)||isNaN(g))if(b.getMarkerPosition)f=b.getMarkerPosition(a.getValues(a.dimensions,e));else{if(d){f=a.get(d.dimensions[0],e);var k=a.get(d.dimensions[1],e);f=d.dataToPoint([f,k])}}else f=[h,g];isNaN(h)||(f[0]=h);isNaN(g)||(f[1]=g);a.setItemLayout(e,f)})}function Xy(a,b,c){var d;d=a?w(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}];d=new pa(d,c);c=w(c.get("data"),C(wf,b));return a&&(c=Ca(c,C(xf,a))),d.initData(c,null,a?ns:function(a){return a.value}),d}function jh(a){return!isNaN(a)&&!isFinite(a)}function ps(a,b,c,d){var e=1-a,f=d.dimensions[a];return jh(b[e])&&jh(c[e])&&b[a]===c[a]&&d.getAxis(f).containData(b[a])}function Yy(a,b){if("cartesian2d"===a.type){var c=b[0].coord,d=b[1].coord;if(c&&d&&(ps(1,c,d,a)||ps(0,c,d,a)))return!0}return xf(a,b[0])&&xf(a,b[1])}function Tk(a,b,c,d,e){var f,g=d.coordinateSystem;f=a.getItemModel(b);var h=B(f.get("x"),e.getWidth());e=B(f.get("y"),e.getHeight());if(isNaN(h)||isNaN(e)){d.getMarkerPosition?f=d.getMarkerPosition(a.getValues(a.dimensions,b)):(d=g.dimensions,f=a.get(d[0],b),d=a.get(d[1],b),f=g.dataToPoint([f,d]));if("cartesian2d"===g.type){var k=g.getAxis("x"),l=g.getAxis("y");d=g.dimensions;jh(a.get(d[0],b))?f[0]=k.toGlobalCoord(k.getExtent()[c?0:1]):jh(a.get(d[1],b))&&(f[1]=l.toGlobalCoord(l.getExtent()[c?0:1]))}isNaN(h)||(f[0]=h);isNaN(e)||(f[1]=e)}else f=[h,e];a.setItemLayout(b,f)}function Zy(a,b,c){var d;d=a?w(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}):[{name:"value",type:"float"}];var e=new pa(d,c);d=new pa(d,c);var f=new pa([],c);c=w(c.get("data"),C($y,b,a,c));a&&(c=Ca(c,C(Yy,a)));a=a?ns:function(a){return a.value};return e.initData(w(c,function(a){return a[0]}),null,a),d.initData(w(c,function(a){return a[1]}),null,a),f.initData(w(c,function(a){return a[2]})),f.hasItemOption=!0,{from:e,to:d,line:f}}function me(a){return!isNaN(a)&&!isFinite(a)}function az(a,b){var c=b.coord[0],d=b.coord[1],e;!(e="cartesian2d"!==a.type||!c||!d)&&(e=!(me(c[0])&&me(d[0])))&&(e=!(me(c[1])&&me(d[1])));return!e||xf(a,{coord:c,x:b.x0,y:b.y0})||xf(a,{coord:d,x:b.x1,y:b.y1})}function qs(a,b,c,d,e){var f=d.coordinateSystem,g=a.getItemModel(b),h=B(g.get(c[0]),e.getWidth());e=B(g.get(c[1]),e.getHeight());if(isNaN(h)||isNaN(e)){if(d.getMarkerPosition)d=d.getMarkerPosition(a.getValues(c,b));else{var g=a.get(c[0],b),k=a.get(c[1],b);d=f.dataToPoint([g,k],!0)}if("cartesian2d"===f.type){var l=f.getAxis("x"),f=f.getAxis("y"),g=a.get(c[0],b),k=a.get(c[1],b);me(g)?d[0]=l.toGlobalCoord(l.getExtent()["x0"===c[0]?0:1]):me(k)&&(d[1]=f.toGlobalCoord(f.getExtent()["y0"===c[1]?0:1]))}isNaN(h)||(d[0]=h);isNaN(e)||(d[1]=e)}else d=[h,e];return d}function bz(a,b,c){var d,e,f=["x0","y0","x1","y1"];a?(d=w(a&&a.dimensions,function(a){var c=b.getData().getDimensionInfo(b.coordDimToDataDim(a)[0])||{};return c.name=a,c}),e=new pa(w(f,function(a,b){return{name:a,type:d[b%2].type}}),c)):e=new pa(d=[{name:"value",type:"float"}],c);c=w(c.get("data"),C(cz,b,a,c));a&&(c=Ca(c,C(az,a)));return e.initData(c,null,a?function(a,b,c,d){return a.coord[Math.floor(d/2)][d%2]}:function(a){return a.value}),e.hasItemOption=!0,e}function dz(a){var b=a.type,c={number:"value",time:"time"};if(c[b]&&(a.axisType=c[b],delete a.type),rs(a),a.hasOwnProperty("controlPosition"))b=a.controlStyle||(a.controlStyle={}),b.hasOwnProperty("position")||(b.position=a.controlPosition),"none"!==b.position||b.hasOwnProperty("show")||(b.show=!1,delete b.position),delete a.controlPosition;r(a.data||[],function(a){T(a)&&!A(a)&&(!a.hasOwnProperty("value")&&a.hasOwnProperty("name")&&(a.value=a.name),rs(a))})}function rs(a){var b=a.itemStyle||(a.itemStyle={}),b=b.emphasis||(b.emphasis={});a=a.label||a.label||{};var c=a.normal||(a.normal={}),d={normal:1,emphasis:1};r(a,function(a,b){d[b]||c.hasOwnProperty(b)||(c[b]=a)});b.label&&!a.hasOwnProperty("emphasis")&&(a.emphasis=b.label,delete b.label)}function ss(a,b,c,d,e,f){var g=b.get("color");e?(e.setColor(g),c.add(e),f&&f.onUpdate(e)):((e=nb(a.get("symbol"),-1,-1,2,2,g)).setStyle("strokeNoScale",!0),c.add(e),f&&f.onCreate(e));b=b.getItemStyle(["color","symbol","symbolSize"]);e.setStyle(b);d=L({rectHover:!0,z2:100},d,!0);b=a.get("symbolSize");(b=b instanceof Array?b.slice():[+b,+b])[0]/=2;b[1]/=2;d.scale=b;if(c=a.get("symbolOffset"))f=d.position=d.position||[0,0],f[0]+=B(c[0],b[0]),f[1]+=B(c[1],b[1]);a=a.get("symbolRotate");return d.rotation=(a||0)*Math.PI/180||0,e.attr(d),e.updateTransform(),e}function ts(a,b,c,d,e){if(!a.dragging){var f=d.getModel("checkpointStyle");b=c.dataToCoord(d.getData().get(["value"],b));e||!f.get("animation",!0)?a.attr({position:[b,0]}):(a.stopAnimation(!0),a.animateTo({position:[b,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}function kh(a){this.model=a}function Uk(a){this.model=a}function ez(a){var b={},c=[],d=[];return a.eachRawSeries(function(a){var e=a.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)c.push(a);else{var g=e.getBaseAxis();if("category"===g.type){var h=g.dim+"_"+g.index;b[h]||(b[h]={categoryAxis:g,valueAxis:e.getOtherAxis(g),series:[]},d.push({axisDim:g.dim,axisIndex:g.index}));b[h].series.push(a)}else c.push(a)}}),{seriesGroupByCategoryAxis:b,other:c,meta:d}}function fz(a){var b=[];return r(a,function(a,d){var c=a.categoryAxis,f=a.valueAxis.dim,g=[" "].concat(w(a.series,function(a){return a.name})),h=[c.model.getCategories()];r(a.series,function(a){h.push(a.getRawData().mapArray(f,function(a){return a}))});c=[g.join(td)];for(g=0;g<h[0].length;g++){for(var k=[],l=0;l<h.length;l++)k.push(h[l][g]);c.push(k.join(td))}b.push(c.join("\n"))}),b.join("\n\n"+lh+"\n\n")}function gz(a){return w(a,function(a){var b=a.getRawData(),d=[a.name],e=[];return b.each(b.dimensions,function(){for(var a=arguments.length,c=b.getName(arguments[a-1]),h=0;h<a-1;h++)e[h]=arguments[h];d.push((c?c+td:"")+e.join(td))}),d.join("\n")}).join("\n\n"+lh+"\n\n")}function hz(a){a=ez(a);return{value:Ca([fz(a.seriesGroupByCategoryAxis),gz(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+lh+"\n\n"),meta:a.meta}}function mh(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function iz(a){a=a.split(/\n+/g);for(var b=[],c=w(mh(a.shift()).split(Vk),function(a){return{name:a,data:[]}}),d=0;d<a.length;d++){var e=mh(a[d]).split(Vk);b.push(e.shift());for(var f=0;f<e.length;f++)c[f]&&(c[f].data[d]=e[f])}return{series:c,categories:b}}function jz(a,b){var c={series:[]};return r(a.split(new RegExp("\n*"+lh+"\n*","g")),function(a,e){var d;d=0<=a.slice(0,a.indexOf("\n")).indexOf(td)?!0:void 0;if(d){var g=iz(a);d=b[e];var h=d.axisDim+"Axis";d&&(c[h]=c[h]||[],c[h][d.axisIndex]={data:g.categories},c.series=c.series.concat(g.series))}else{d=a.split(/\n+/g);for(var h=mh(d.shift()),k=[],l=0;l<d.length;l++){var m=mh(d[l]).split(Vk),n="",p=!1;isNaN(m[0])?(p=!0,n=m[0],m=m.slice(1),k[l]={name:n,value:[]},g=k[l].value):g=k[l]=[];for(n=0;n<m.length;n++)g.push(+m[n]);1===g.length&&(p?k[l].value=g[0]:k[l]=g[0])}g={name:h,data:k};c.series.push(g)}}),c}function yf(a){this._dom=null;this.model=a}function kz(a,b){return w(a,function(a,d){var c=b&&b[d];return T(c)&&!A(c)?(T(a)&&!A(a)&&(a=a.value),J({value:a},c)):a})}function lz(a,b){var c=Wk(a);us(b,function(b,e){for(var d=c.length-1;0<=d&&!c[d][e];d--);0>d&&(d=a.queryComponents({mainType:"dataZoom",subType:"select",id:e})[0])&&(d=d.getPercentRange(),c[0][e]={dataZoomId:e,start:d[0],end:d[1]})});c.push(b)}function mz(a){var b=Wk(a);a=b[b.length-1];1<b.length&&b.pop();var c={};return us(a,function(a,e){for(var d=b.length-1;0<=d;d--)if(a=b[d][e]){c[e]=a;break}}),c}function Wk(a){var b=a[Xk];return b||(b=a[Xk]=[{}]),b}function Yk(a,b,c){(this._brushController=new fe(c.getZr())).on("brush",z(this._onBrush,this)).mount();this._isZoomActive}function vs(a){var b={};return r(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c];null==b[c]&&(b[c]="all");!1!==b[c]&&"none"!==b[c]||(b[c]=[])}),b}function nz(a,b,c,d,e){var f=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(f="dataZoomSelect"===d.key&&d.dataZoomSelectActive);c._isZoomActive=f;a.setIconStatus("zoom",f?"emphasis":"normal");a=new ch(vs(a.option),b,{include:["grid"]});c._brushController.setPanels(a.makePanelOpts(e,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(!!f&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function Zk(a){this.model=a}function oz(){if(!ws&&Va){ws=!0;var a=Va.styleSheets;31>a.length?Va.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function nh(a,b){oz();this.root=a;this.storage=b;var c=document.createElement("div"),d=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";d.style.cssText="position:absolute;left:0;top:0;";a.appendChild(c);this._vmlRoot=d;this._vmlViewport=c;this.resize();var e=b.delFromStorage,f=b.addToStorage;b.delFromStorage=function(a){e.call(b,a);a&&a.onRemove&&a.onRemove(d)};b.addToStorage=function(a){a.onAdd&&a.onAdd(d);f.call(b,a)};this._firstPaint=!0}function pz(a){return function(){}}function ud(a){return document.createElementNS(qz,a)}function ob(a){return $k(1E4*a)/1E4}function al(a,b){b&&aa(a,"transform","matrix("+rz.call(b,",")+")")}function aa(a,b,c){(!c||"linear"!==c.type&&"radial"!==c.type)&&a.setAttribute(b,c)}function xs(a,b,c){var d=c?b.textFill:b.fill;null!=d&&d!==vd?(d=c?b.textFill:b.fill,d="transparent"===d?vd:d,"none"!==a.getAttribute("clip-path")&&d===vd&&(d="rgba(0, 0, 0, 0.002)"),aa(a,"fill",d),aa(a,"fill-opacity",b.opacity)):aa(a,"fill",vd);d=c?b.textStroke:b.stroke;null!=d&&d!==vd?(d=c?b.textStroke:b.stroke,aa(a,"stroke","transparent"===d?vd:d),aa(a,"stroke-width",(c?b.textStrokeWidth:b.lineWidth)/(b.strokeNoScale?b.host.getLineScale():1)),aa(a,"paint-order","stroke"),aa(a,"stroke-opacity",b.opacity),b.lineDash?(aa(a,"stroke-dasharray",b.lineDash.join(",")),aa(a,"stroke-dashoffset",$k(b.lineDashOffset||0))):aa(a,"stroke-dasharray",""),b.lineCap&&aa(a,"stroke-linecap",b.lineCap),b.lineJoin&&aa(a,"stroke-linejoin",b.lineJoin),b.miterLimit&&aa(a,"stroke-miterlimit",b.miterLimit)):aa(a,"stroke",vd)}function ys(a){return"middle"===a?"middle":"bottom"===a?"baseline":"hanging"}function zs(){}function ja(a,b,c){this._svgRoot=a;this._tagNames="string"==typeof b?[b]:b;this._markLabel=c;this.nextId=0}function wd(a){ja.call(this,a,["linearGradient","radialGradient"],"__gradient_in_use__")}function zf(a){ja.call(this,a,"clipPath","__clippath_in_use__")}function oh(a,b,c){b&&a&&b.parentNode!==a&&c&&((c=c.nextSibling)?a.insertBefore(b,c):a.appendChild(b))}function As(a,b){if(b&&a&&b.parentNode!==a){var c=a.firstChild;c?a.insertBefore(b,c):a.appendChild(b)}}function sz(a){return function(){}}var nn=2311,ca="undefined"==typeof navigator?{browser:{},os:{},node:!0,canvasSupported:!0,svgSupported:!0}:function(a){var b={},c=a.match(/Firefox\/([\d.]+)/),d=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/.+?rv:(([\d.]+))/),e=a.match(/Edge\/([\d.]+)/);a=/micromessenger/i.test(a);return c&&(b.firefox=!0,b.version=c[1]),d&&(b.ie=!0,b.version=d[1]),e&&(b.edge=!0,b.version=e[1]),a&&(b.weChat=!0),{browser:b,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!b.ie&&!b.edge,pointerEventsSupported:"onpointerdown"in window&&(b.edge||b.ie&&11<=b.version)}}(navigator.userAgent),vm={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},gu={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Mf=Object.prototype.toString,Af=Array.prototype,hu=Af.forEach,ku=Af.filter,Be=Af.slice,iu=Af.map,ju=Af.reduce,ph={},Gd=function(){return ph.createCanvas()};ph.createCanvas=function(){return document.createElement("canvas")};var ei,ye="__ec_primitive__";hi.prototype={constructor:hi,get:function(a){return this["_ec_"+a]},set:function(a,b){return this["_ec_"+a]=b,b},each:function(a,b){void 0!==b&&(a=z(a,b));for(var c in this)this.hasOwnProperty(c)&&a(this[c],c.slice(4))},removeKey:function(a){delete this["_ec_"+a]}};var tz=(Object.freeze||Object)({$override:function(a,b){ph[a]=b},clone:G,merge:L,mergeAll:Ae,extend:I,defaults:J,createCanvas:Gd,getContext:wm,indexOf:S,inherits:ka,mixin:M,isArrayLike:Uc,each:r,map:w,reduce:Hd,filter:Ca,find:function(a,b,c){if(a&&b)for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a))return a[d]},bind:z,curry:C,isArray:A,isFunction:jc,isString:Da,isObject:T,isBuiltInObject:di,isDom:ze,eqNaN:Ce,retrieve:Ea,retrieve2:Ba,retrieve3:Vc,slice:fi,normalizeCssArray:gi,assert:kc,setAsPrimitive:xm,isPrimitive:function(a){return a[ye]},createHashMap:xa,noop:qa}),ym="undefined"==typeof Float32Array?Array:Float32Array,md=Fe,tc=Am,uz=(Object.freeze||Object)({create:lc,copy:cb,clone:Ab,set:zm,add:ii,scaleAndAdd:De,sub:Vb,len:Ee,length:Ee,lenSquare:ji,lengthSquare:ji,mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},scale:Nf,normalize:Id,distance:Fe,dist:md,distanceSquare:Am,distSquare:tc,negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:Bm,applyTransform:da,min:Wb,max:Xb});Of.prototype={constructor:Of,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(Jd(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=a.offsetX,d=a.offsetY,e=c-this._x,f=d-this._y;this._x=c;this._y=d;b.drift(e,f,a);this.dispatchToElement(Jd(b,a),"drag",a.event);c=this.findHover(c,d,b).target;d=this._dropTarget;this._dropTarget=c;b!==c&&(d&&c!==d&&this.dispatchToElement(Jd(d,a),"dragleave",a.event),c&&c!==d&&this.dispatchToElement(Jd(c,a),"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1);this.dispatchToElement(Jd(b,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(Jd(this._dropTarget,a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};var Bs=Array.prototype.slice,mb=function(){this._$handlers={}};mb.prototype={constructor:mb,one:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!0,ctx:c||this}),this},on:function(a,b,c){var d=this._$handlers;if(!b||!a)return this;d[a]||(d[a]=[]);for(var e=0;e<d[a].length;e++)if(d[a][e].h===b)return this;return d[a].push({h:b,one:!1,ctx:c||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var d=[],e=0,f=c[a].length;e<f;e++)c[a][e].h!=b&&d.push(c[a][e]);c[a]=d}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;3<c&&(b=Bs.call(b,1));for(var d=this._$handlers[a],e=d.length,f=0;f<e;){switch(c){case 1:d[f].h.call(d[f].ctx);break;case 2:d[f].h.call(d[f].ctx,b[1]);break;case 3:d[f].h.call(d[f].ctx,b[1],b[2]);break;default:d[f].h.apply(d[f].ctx,b)}d[f].one?(d.splice(f,1),e--):f++}}return this},triggerWithContext:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;4<c&&(b=Bs.call(b,1,b.length-1));for(var d=b[b.length-1],e=this._$handlers[a],f=e.length,g=0;g<f;){switch(c){case 1:e[g].h.call(d);break;case 2:e[g].h.call(d,b[1]);break;case 3:e[g].h.call(d,b[1],b[2]);break;default:e[g].h.apply(d,b)}e[g].one?(e.splice(g,1),f--):g++}}return this}};Cm.prototype.dispose=function(){};var vz="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),ne=function(a,b,c,d){this._$handlers={};this.storage=a;this.painter=b;this.painterRoot=d;this.proxy=c=c||new Cm;c.handler=this;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;Of.call(this);r(vz,function(a){c.on&&c.on(a,this[a],this)},this)};ne.prototype={constructor:ne,mousemove:function(a){var b=a.zrX,c=a.zrY,d=this._hovered,e=d.target;e&&!e.__zr&&(e=(d=this.findHover(d.x,d.y)).target);var b=this._hovered=this.findHover(b,c),c=b.target,f=this.proxy;f.setCursor&&f.setCursor(c?c.cursor:"default");e&&c!==e&&this.dispatchToElement(d,"mouseout",a);this.dispatchToElement(b,"mousemove",a);c&&c!==e&&this.dispatchToElement(b,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,c=a.toElement||a.relatedTarget;do c=c&&c.parentNode;while(c&&9!=c.nodeType&&!(b=c===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){var c=this[a];c&&c.call(this,b)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){var d=(a=a||{}).target;if(!d||!d.silent){for(var e="on"+b,f={type:b,event:c,target:a.target,topTarget:a.topTarget,cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which};d&&(d[e]&&(f.cancelBubble=d[e].call(d,f)),d.trigger(b,f),d=d.parent,!f.cancelBubble););f.cancelBubble||(this.trigger(b,f),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[e]&&a[e].call(a,f);a.trigger&&a.trigger(b,f)}))}},findHover:function(a,b,c){for(var d=this.storage.getDisplayList(),e={x:a,y:b},f=d.length-1;0<=f;f--){var g,h;if(h=d[f]!==c&&!d[f].ignore){a:{var k=d[f];g=a;h=b;if(k[k.rectHover?"rectContain":"contain"](g,h)){for(var l=void 0;k;){if(k.clipPath&&!k.clipPath.contain(g,h)){g=!1;break a}k.silent&&(l=!0);k=k.parent}g=!l||"silent"}else g=!1}h=g}if(h&&(!e.topTarget&&(e.topTarget=d[f]),"silent"!==g)){e.target=d[f];break}}return e}};r("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(a){ne.prototype[a]=function(b){var c=this.findHover(b.zrX,b.zrY),d=c.target;if("mousedown"===a)this._downEl=d,this._downPoint=[b.zrX,b.zrY],this._upEl=d;else if("mosueup"===a)this._upEl=d;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||4<md(this._downPoint,[b.zrX,b.zrY]))return;this._downPoint=null}this.dispatchToElement(c,a,b)}});M(ne,mb);M(ne,Of);var lu="undefined"==typeof Float32Array?Array:Float32Array,wz=(Object.freeze||Object)({create:Yb,identity:Ge,copy:ki,mul:Wc,translate:Mb,rotate:Xc,scale:Pf,invert:Qf}),bl=Ge,Dm=5E-5,Ra=function(a){(a=a||{}).position||(this.position=[0,0]);null==a.rotation&&(this.rotation=0);a.scale||(this.scale=[1,1]);this.origin=this.origin||null},Lb=Ra.prototype;Lb.transform=null;Lb.needLocalTransform=function(){return Yc(this.rotation)||Yc(this.position[0])||Yc(this.position[1])||Yc(this.scale[0]-1)||Yc(this.scale[1]-1)};Lb.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;c||b?(d=d||Yb(),c?this.getLocalTransform(d):bl(d),b&&(c?Wc(d,a.transform,d):ki(d,a.transform)),this.transform=d,this.invTransform=this.invTransform||Yb(),Qf(this.invTransform,d)):d&&bl(d)};Lb.getLocalTransform=function(a){return Ra.getLocalTransform(this,a)};Lb.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)};Lb.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var Cs=[];Lb.decomposeTransform=function(){if(this.transform){var a=this.parent,b=this.transform;a&&a.transform&&(Wc(Cs,a.invTransform,b),b=Cs);var a=b[0]*b[0]+b[1]*b[1],c=b[2]*b[2]+b[3]*b[3],d=this.position,e=this.scale;Yc(a-1)&&(a=Math.sqrt(a));Yc(c-1)&&(c=Math.sqrt(c));0>b[0]&&(a=-a);0>b[3]&&(c=-c);d[0]=b[4];d[1]=b[5];e[0]=a;e[1]=c;this.rotation=Math.atan2(-b[1]/c,b[0]/a)}};Lb.getGlobalScale=function(){var a=this.transform;if(!a)return[1,1];var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(a[2]*a[2]+a[3]*a[3]);return 0>a[0]&&(b=-b),0>a[3]&&(c=-c),[b,c]};Lb.transformCoordToLocal=function(a,b){var c=[a,b],d=this.invTransform;return d&&da(c,c,d),c};Lb.transformCoordToGlobal=function(a,b){var c=[a,b],d=this.transform;return d&&da(c,c,d),c};Ra.getLocalTransform=function(a,b){bl(b=b||[]);var c=a.origin,d=a.scale||[1,1],e=a.rotation||0,f=a.position||[0,0];return c&&(b[4]-=c[0],b[5]-=c[1]),Pf(b,b,d),e&&Xc(b,b,e),c&&(b[4]+=c[0],b[5]+=c[1]),b[4]+=f[0],b[5]+=f[1],b};var qh={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(2-Math.pow(2,-10*(a-1)))},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4))},elasticOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/.4)+1)},elasticInOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),1>(a*=2)?c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*-.5:c*Math.pow(2,-10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*.5+1)},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?a*a*(3.5949095*a-2.5949095)*.5:.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-qh.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return.5>a?.5*qh.bounceIn(2*a):.5*qh.bounceOut(2*a-1)+.5}};li.prototype={constructor:li,step:function(a,b){if(this._initialized||(this._startTime=a+this._delay,this._initialized=!0),this._paused)this._pausedTime+=b;else{var c=(a-this._startTime-this._pausedTime)/this._life;if(!(0>c)){var c=Math.min(c,1),d=this.easing,d="string"==typeof d?qh[d]:d,d="function"==typeof d?d(c):c;return this.fire("frame",d),1==c?this.loop?(this.restart(a),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(a){this._startTime=a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,b){this[a="on"+a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Ds=function(){this.tail=this.head=null;this._len=0},Bf=Ds.prototype;Bf.insert=function(a){a=new Es(a);return this.insertEntry(a),a};Bf.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};Bf.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c;c?c.prev=b:this.tail=b;a.next=a.prev=null;this._len--};Bf.len=function(){return this._len};Bf.clear=function(){this.head=this.tail=null;this._len=0};var Es=function(a){this.value=a;this.next;this.prev},cl=function(a){this._list=new Ds;this._map={};this._maxSize=a||10;this._lastRemovedEntry=null},dl=cl.prototype;dl.put=function(a,b){var c=this._list,d=this._map,e=null;if(null==d[a]){var f=c.len(),g=this._lastRemovedEntry;f>=this._maxSize&&0<f&&(f=c.head,c.remove(f),delete d[f.key],e=f.value,this._lastRemovedEntry=f);g?g.value=b:g=new Es(b);g.key=a;c.insertEntry(g);d[a]=g}return e};dl.get=function(a){a=this._map[a];var b=this._list;if(null!=a)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value};dl.clear=function(){this._list.clear();this._map={}};var Fm={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Em=new cl(20),Sf=null,xz=(Object.freeze||Object)({parse:jb,lift:Gm,toHex:Hm,fastLerp:He,fastMapToColor:He,lerp:Im,mapToColor:Im,modifyHSL:Md,modifyAlpha:Tf,stringify:Zb}),qi=Array.prototype.slice,el=function(a,b,c,d){this._tracks={};this._target=a;this._loop=b||!1;this._getter=c||mu;this._setter=d||nu;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};el.prototype={when:function(a,b){var c=this._tracks,d;for(d in b)if(b.hasOwnProperty(d)){if(!c[d]){c[d]=[];var e=this._getter(this._target,d);if(null==e)continue;0!==a&&c[d].push({time:0,value:pu(e)})}c[d].push({time:a,value:b[d]})}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c,d=this,e=0,f;for(f in this._tracks)if(this._tracks.hasOwnProperty(f)){var g=ru(this,a,function(){--e||d._doneCallback()},this._tracks[f],f,b);g&&(this._clipList.push(g),e++,this.animation&&this.animation.addClip(g),c=g)}if(c){var h=c.onframe;c.onframe=function(a,b){h(a,b);for(var c=0;c<d._onframeList.length;c++)d._onframeList[c](a,b)}}return e||this._doneCallback(),this},stop:function(a){for(var b=this._clipList,c=this.animation,d=0;d<b.length;d++){var e=b[d];a&&e.onframe(this._target,1);c&&c.removeClip(e)}b.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var Fs=1;"undefined"!=typeof window&&(Fs=Math.max(window.devicePixelRatio||1,1));var rh=Fs,fl=function(){this.animators=[]};fl.prototype={constructor:fl,animate:function(a,b){var c,d=!1,e=this,f=this.__zr;if(a){for(var g=a.split("."),h=e,d="shape"===g[0],k=0,l=g.length;k<l;k++)h&&(h=h[g[k]]);h&&(c=h)}else c=e;if(c){var m=e.animators,n=new el(c,b);return n.during(function(a){e.dirty(d)}).done(function(){m.splice(S(m,n),1)}),m.push(n),f&&f.animation.addAnimator(n),n}},stopAnimation:function(a){for(var b=this.animators,c=b.length,d=0;d<c;d++)b[d].stop(a);return b.length=0,this},animateTo:function(a,b,c,d,e,f){Da(c)?(e=d,d=c,c=0):jc(d)?(e=d,d="linear",c=0):jc(c)?(e=c,c=0):jc(b)?(e=b,b=500):b||(b=500);this.stopAnimation();this._animateToShallow("",this,a,b,c);a=this.animators.slice();var g=a.length;g||e&&e();for(b=0;b<a.length;b++)a[b].done(function(){--g||e&&e()}).start(d,f)},_animateToShallow:function(a,b,c,d,e){var f={},g=0,h;for(h in c)if(c.hasOwnProperty(h))if(null!=b[h])T(c[h])&&!Uc(c[h])?this._animateToShallow(a?a+"."+h:h,b[h],c[h],d,e):(f[h]=c[h],g++);else if(null!=c[h])if(a){var k={};k[a]={};k[a][h]=c[h];this.attr(k)}else this.attr(h,c[h]);return 0<g&&this.animate(a,!1).when(null==d?500:d,f).delay(e||0),this}};var bc=function(a){Ra.call(this,a);this._$handlers={};this.animators=[];this.id=a.id||nn++};bc.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(a,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]);c[4]+=a;c[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]);c[0]=b[0];c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(T(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b);this.clipPath&&this.clipPath!==a&&this.removeClipPath();this.clipPath=a;a.__zr=b;a.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);this.clipPath&&this.clipPath.removeSelfFromZr(a)}};M(bc,fl);M(bc,Ra);M(bc,mb);var sh=Math.min,th=Math.max;U.prototype={constructor:U,union:function(a){var b=sh(a.x,this.x),c=sh(a.y,this.y);this.width=th(a.x+a.width,this.x+this.width)-b;this.height=th(a.y+a.height,this.y+this.height)-c;this.x=b;this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(e){if(e){a[0]=c[0]=this.x;a[1]=d[1]=this.y;b[0]=d[0]=this.x+this.width;b[1]=c[1]=this.y+this.height;da(a,a,e);da(b,b,e);da(c,c,e);da(d,d,e);this.x=sh(a[0],b[0],c[0],d[0]);this.y=sh(a[1],b[1],c[1],d[1]);e=th(a[0],b[0],c[0],d[0]);var f=th(a[1],b[1],c[1],d[1]);this.width=e-this.x;this.height=f-this.y}}}(),calculateTransform:function(a){var b=a.width/this.width,c=a.height/this.height,d=Yb();return Mb(d,d,[-this.x,-this.y]),Pf(d,d,[b,c]),Mb(d,d,[a.x,a.y]),d},intersect:function(a){if(!a)return!1;a instanceof U||(a=U.create(a));var b=this.x,c=this.y,d=this.y+this.height,e=a.x+a.width,f=a.y,g=a.y+a.height;return!(this.x+this.width<a.x||e<b||d<f||g<c)},contain:function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new U(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};U.create=function(a){return new U(a.x,a.y,a.width,a.height)};var F=function(a){a=a||{};bc.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=[];this.__storage=null;this.__dirty=!0};F.prototype={constructor:F,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&b&&b.parent===this){var c=this._children,d=c.indexOf(b);0<=d&&(c.splice(d,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof F&&a.addChildrenToStorage(b));c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,d=this._children,e=S(d,a);return 0>e?this:(d.splice(e,1),a.parent=null,c&&(c.delFromStorage(a),a instanceof F&&a.delChildrenFromStorage(c)),b&&b.refresh(),this)},removeAll:function(){var a,b,c=this._children,d=this.__storage;for(b=0;b<c.length;b++)a=c[b],d&&(d.delFromStorage(a),a instanceof F&&a.delChildrenFromStorage(d)),a.parent=null;return c.length=0,this},eachChild:function(a,b){for(var c=this._children,d=0;d<c.length;d++)a.call(b,c[d],d);return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var d=this._children[c];a.call(b,d);"group"===d.type&&d.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.addToStorage(c);c instanceof F&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c);c instanceof F&&c.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(a){var b=null,c=new U(0,0,0,0);a=a||this._children;for(var d=[],e=0;e<a.length;e++){var f=a[e];if(!f.ignore&&!f.invisible){var g=f.getBoundingRect();(f=f.getLocalTransform(d))?(c.copy(g),c.applyTransform(f),(b=b||c.clone()).union(c)):(b=b||g.clone()).union(g)}}return b||c}};ka(F,bc);var Pm=32,Ie=7,gl=function(){this._roots=[];this._displayList=[];this._displayListLen=0};gl.prototype={constructor:gl,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(a){this._displayListLen=0;for(var b=this._roots,c=this._displayList,d=0,e=b.length;d<e;d++)this._updateAndAddDisplayable(b[d],null,a);c.length=this._displayListLen;ca.canvasSupported&&Uf(c,Qm)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var d=a.clipPath;if(d){b=b?b.slice():[];for(var e=a;d;)d.parent=e,d.updateTransform(),b.push(d),e=d,d=d.clipPath}if(a.isGroup){d=a._children;for(e=0;e<d.length;e++){var f=d[e];a.__dirty&&(f.__dirty=!0);this._updateAndAddDisplayable(f,b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof F&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(b=0;b<this._roots.length;b++)a=this._roots[b],a instanceof F&&a.delChildrenFromStorage(this);return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(a instanceof Array)for(var b=0,c=a.length;b<c;b++)this.delRoot(a[b]);else b=S(this._roots,a),0<=b&&(this.delFromStorage(a),this._roots.splice(b,1),a instanceof F&&a.delChildrenFromStorage(this))},addToStorage:function(a){return a.__storage=this,a.dirty(!1),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Qm};var uh=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],Zc=function(a,b){this.extendFrom(a,!1);this.host=b};Zc.prototype={constructor:Zc,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(a,b,c){c=c&&c.style;for(var d=!c,e=0;e<uh.length;e++){var f=uh[e],g=f[0];(d||this[g]!==c[g])&&(a[g]=this[g]||f[1])}if((d||this.fill!==c.fill)&&(a.fillStyle=this.fill),(d||this.stroke!==c.stroke)&&(a.strokeStyle=this.stroke),(d||this.opacity!==c.opacity)&&(a.globalAlpha=null==this.opacity?1:this.opacity),(d||this.blend!==c.blend)&&(a.globalCompositeOperation=this.blend||"source-over"),this.hasStroke())a.lineWidth=this.lineWidth/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1)},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&0<this.lineWidth},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||!0!==b&&(!1===b?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),a},getGradient:function(a,b,c){a=("radial"===b.type?uu:tu)(a,b,c);b=b.colorStops;for(c=0;c<b.length;c++)a.addColorStop(b[c].offset,b[c].color);return a}};for(var hl=Zc.prototype,il=0;il<uh.length;il++){var jl=uh[il];jl[0]in hl||(hl[jl[0]]=jl[1])}Zc.getGradient=hl.getGradient;var kl=function(a,b){this.image=a;this.repeat=b;this.type="pattern"};kl.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var oe=function(a,b,c){var d;c=c||rh;"string"==typeof a?d=Rm(a,b,c):T(a)&&(a=(d=a).id);this.id=a;this.dom=d;(a=d.style)&&(d.onselectstart=vu,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0);this.ctxBack=this.domBack=null;this.painter=b;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};oe.prototype={constructor:oe,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.__currentValues={};this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=Rm("back-"+this.id,this.painter,a);this.ctxBack=this.domBack.getContext("2d");this.ctxBack.__currentValues={};1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,d=this.dom,e=d.style,f=this.domBack;e.width=a+"px";e.height=b+"px";d.width=a*c;d.height=b*c;f&&(f.width=a*c,f.height=b*c,1!=c&&this.ctxBack.scale(c,c))},clear:function(a){var b=this.dom,c=this.ctx,d=b.width,e=b.height,f=this.clearColor,g=this.motionBlur&&!a;a=this.lastFrameAlpha;var h=this.dpr;if(g&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(b,0,0,d/h,e/h)),c.clearRect(0,0,d,e),f){var k;f.colorStops?(k=f.__canvasGradient||Zc.getGradient(c,f,{x:0,y:0,width:d,height:e}),f.__canvasGradient=k):f.image&&(k=kl.prototype.getCanvasPattern.call(f,c));c.save();c.fillStyle=k||f;c.fillRect(0,0,d,e);c.restore()}g&&(b=this.domBack,c.save(),c.globalAlpha=a,c.drawImage(b,0,0,d,e),c.restore())}};var vh="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},ui=new cl(50),Wf={},vi=0,xu=5E3,yi=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Je="12px sans-serif",Tm={measureText:function(a,b){var c=wm();return c.font=b||Je,c.measureText(a)}},yu={left:1,right:1,center:1},zu={top:1,bottom:1,middle:1},ll=new U,wh=function(){};wh.prototype={constructor:wh,drawRectText:function(a,b){var c=this.style;b=c.textRect||b;this.__dirty&&Me(c);var d=c.text;if(null!=d&&(d+=""),null!=d&&(d||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)){a.save();var e=this.transform;c.transformText?this.setTransform(a):e&&(ll.copy(b),ll.applyTransform(e),b=ll);e=b;c.rich?fn(this,a,d,c,e):an(this,a,d,c,e);a.restore()}}};sb.prototype={constructor:sb,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){var c=this.transformCoordToLocal(a,b);return this.getBoundingRect().contain(c[0],c[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?bc.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new Zc(a,this),this.dirty(!1),this}};ka(sb,bc);M(sb,wh);db.prototype={constructor:db,type:"image",brush:function(a,b){var c=this.style,d=c.image;c.bind(a,this,b);if((d=this._image=Sm(d,this._image,this,this.onload))&&Vf(d)){var e=c.x||0,f=c.y||0,g=c.width,h=c.height,k=d.width/d.height;if(null==g&&null!=h?g=h*k:null==h&&null!=g?h=g/k:null==g&&null==h&&(g=d.width,h=d.height),this.setTransform(a),c.sWidth&&c.sHeight){var k=c.sx||0,l=c.sy||0;a.drawImage(d,k,l,c.sWidth,c.sHeight,e,f,g,h)}else if(c.sx&&c.sy){var m=g-(k=c.sx),n=h-(l=c.sy);a.drawImage(d,k,l,m,n,e,f,g,h)}else a.drawImage(d,e,f,g,h);this.restoreTransform(a);null!=c.text&&this.drawRectText(a,this.getBoundingRect())}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new U(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}};ka(db,sb);var ml=new U(0,0,0,0),nl=new U(0,0,0,0),ol=function(a,b,c){this.type="canvas";var d=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=I({},c||{});this.dpr=c.devicePixelRatio||rh;this._singleCanvas=d;this.root=a;var e=a.style;e&&(e["-webkit-tap-highlight-color"]="transparent",e["-webkit-user-select"]=e["user-select"]=e["-webkit-touch-callout"]="none",a.innerHTML="");this.storage=b;b=this._zlevelList=[];e=this._layers={};(this._layerConfig={},d)?(null!=c.width&&(a.width=c.width),null!=c.height&&(a.height=c.height),c=a.height,this._width=a.width,this._height=c,c=new oe(a,this,1),c.initContext(),e[0]=c,b.push(0),this._domRoot=a):(this._width=this._getSize(0),this._height=this._getSize(1),c=this._width,d=this._height,b=document.createElement("div"),c=this._domRoot=(b.style.cssText=["position:relative;overflow:hidden","width:"+c+"px","height:"+d+"px","padding:0;margin:0;border-width:0"].join(";")+";",b),a.appendChild(c));this._progressiveLayers=[];this._hoverlayer;this._hoverElements=[]};ol.prototype={constructor:ol,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._paintList(b,a);for(a=0;a<c.length;a++)b=this._layers[c[a]],!b.__builtin__&&b.refresh&&b.refresh();return this.refreshHover(),this._progressiveLayers.length&&this._startProgessive(),this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape});c.__from=a;a.__hoverMir=c;c.setStyle(b);this._hoverElements.push(c)}},removeHover:function(a){var b=this._hoverElements,c=S(b,a.__hoverMir);0<=c&&b.splice(c,1);a.__hoverMir=null},clearHover:function(a){a=this._hoverElements;for(var b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;if(c&&c.clear(),b){Uf(a,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var e=0;e<b;){var f=a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},_startProgessive:function(){function a(){c===b._progressiveToken&&b.storage&&(b._doPaintList(b.storage.getDisplayList()),b._furtherProgressive?(b._progress++,vh(a)):b._progressiveToken=-1)}var b=this;if(b._furtherProgressive){var c=b._progressiveToken=+new Date;b._progress++;vh(a)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;r(this._progressiveLayers,function(a){a.__dirty&&a.clear()})},_paintList:function(a,b){null==b&&(b=!1);this._updateLayerStatus(a);this._clearProgressive();this.eachBuiltinLayer(Bu);this._doPaintList(a,b);this.eachBuiltinLayer(Cu)},_doPaintList:function(a,b){function c(a){var b=f.dpr||1;f.save();f.globalAlpha=1;f.shadowBlur=0;d.__dirty=!0;f.setTransform(1,0,0,1,0,0);f.drawImage(a.dom,0,0,m*b,n*b);f.restore()}for(var d,e,f,g,h,k,l=0,m=this._width,n=this._height,p=this._progress,q=0,t=a.length;q<t;q++){var u=a[q];k=this._singleCanvas?0:u.zlevel;var v=u.__frame;if(0>v&&h&&(c(h),h=null),e!==k&&(f&&f.restore(),g={},e=k,d=this.getLayer(e),(f=d.ctx).save(),d.__unusedCount=0,(d.__dirty||b)&&d.clear()),d.__dirty||b){if(0<=v){if(!h){if((h=this._progressiveLayers[Math.min(l++,4)]).ctx.save(),h.renderScope={},h&&h.__progress>h.__maxProgress){q=h.__nextIdxNotProg-1;continue}k=h.__progress;h.__dirty||(p=k);h.__progress=p+1}v===p&&this._doPaintEl(u,h,!0,h.renderScope)}else this._doPaintEl(u,d,b,g);u.__dirty=!1}}h&&c(h);f&&f.restore();this._furtherProgressive=!1;r(this._progressiveLayers,function(a){a.__maxProgress>=a.__progress&&(this._furtherProgressive=!0)},this)},_doPaintEl:function(a,b,c,d){var e=b.ctx,f=a.transform;(c=(b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&(!f||f[0]||f[3]))&&!(c=!a.culling)&&(c=this._width,f=this._height,c=!(ml.copy(a.getBoundingRect()),a.transform&&ml.applyTransform(a.transform),nl.width=c,nl.height=f,!ml.intersect(nl)));if(c){c=a.__clipPaths;if(!(f=d.prevClipLayer!==b))a:if(f=d.prevElClipPaths,c==f)f=!1;else if(c&&f&&c.length===f.length){for(var g=0;g<c.length;g++)if(c[g]!==f[g]){f=!0;break a}f=void 0}else f=!0;if(f&&(d.prevElClipPaths&&(d.prevClipLayer.ctx.restore(),d.prevClipLayer=d.prevElClipPaths=null,d.prevEl=null),c)){e.save();for(f=0;f<c.length;f++)g=c[f],g.setTransform(e),e.beginPath(),g.buildPath(e,g.shape),e.clip(),g.restoreTransform(e);d.prevClipLayer=b;d.prevElClipPaths=c}a.beforeBrush&&a.beforeBrush(e);a.brush(e,d.prevEl||null);d.prevEl=a;a.afterBrush&&a.afterBrush(e)}},getLayer:function(a){if(this._singleCanvas)return this._layers[0];var b=this._layers[a];return b||((b=new oe("zr_"+a,this,this.dpr)).__builtin__=!0,this._layerConfig[a]&&L(b,this._layerConfig[a],!0),this.insertLayer(a,b),b.initContext()),b},insertLayer:function(a,b){var c=this._layers,d=this._zlevelList,e=d.length,f=null,g=-1,h=this._domRoot;if(!c[a]&&b&&(b.__builtin__||"function"==typeof b.resize&&"function"==typeof b.refresh)){if(0<e&&a>d[0]){for(g=0;g<e-1&&!(d[g]<a&&d[g+1]>a);g++);f=c[d[g]]}(d.splice(g+1,0,a),c[a]=b,b.virtual)||(f?(c=f.dom,c.nextSibling?h.insertBefore(b.dom,c.nextSibling):h.appendChild(b.dom)):h.firstChild?h.insertBefore(b.dom,h.firstChild):h.appendChild(b.dom))}},eachLayer:function(a,b){var c,d,e=this._zlevelList;for(d=0;d<e.length;d++)c=e[d],a.call(b,this._layers[c],c)},eachBuiltinLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],(c=this._layers[d]).__builtin__&&a.call(b,c,d)},eachOtherLayer:function(a,b){var c,d,e,f=this._zlevelList;for(e=0;e<f.length;e++)d=f[e],(c=this._layers[d]).__builtin__||a.call(b,c,d)},getLayers:function(){return this._layers},_updateLayerStatus:function(a){var b=this._layers,c=this._progressiveLayers,d={},e={};this.eachBuiltinLayer(function(a,b){d[b]=a.elCount;a.elCount=0;a.__dirty=!1});r(c,function(a,b){e[b]=a.elCount;a.elCount=0;a.__dirty=!1});for(var f,g,h=0,k=0,l=0,m=a.length;l<m;l++){var n=a[l],p=b[this._singleCanvas?0:n.zlevel],q=n.progressive;if(p&&(p.elCount++,p.__dirty=p.__dirty||n.__dirty),0<=q){g!==q&&(g=q,k++);q=n.__frame=k-1;if(!f){var t=Math.min(h,4);(f=c[t])||(f=c[t]=new oe("progressive",this,this.dpr)).initContext();f.__maxProgress=0}f.__dirty=f.__dirty||n.__dirty;f.elCount++;f.__maxProgress=Math.max(f.__maxProgress,q);f.__maxProgress>=f.__progress&&(p.__dirty=!0)}else n.__frame=-1,f&&(f.__nextIdxNotProg=l,h++,f=null)}f&&(h++,f.__nextIdxNotProg=l);this.eachBuiltinLayer(function(a,b){d[b]!==a.elCount&&(a.__dirty=!0)});c.length=Math.min(h,5);r(c,function(a,b){e[b]!==a.elCount&&(n.__dirty=!0);a.__dirty&&(a.__progress=0)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?L(c[a],b,!0):c[a]=b;var d=this._layers[a];d&&L(d,c[a],!0)}},delLayer:function(a){var b=this._layers,c=this._zlevelList,d=b[a];d&&(d.dom.parentNode.removeChild(d.dom),delete b[a],c.splice(S(c,a),1))},resize:function(a,b){var c=this._domRoot;c.style.display="none";var d=this._opts;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!=a||b!=this._height){c.style.width=a+"px";c.style.height=b+"px";for(var e in this._layers)this._layers.hasOwnProperty(e)&&this._layers[e].resize(a,b);r(this._progressiveLayers,function(c){c.resize(a,b)});this.refresh(!0)}return this._width=a,this._height=b,this},clearLayer:function(a){(a=this._layers[a])&&a.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){function b(a,b){var d=f._zlevelList;null==a&&(a=-1/0);for(var e,g=0;g<d.length;g++){var h=d[g],k=f._layers[h];if(!k.__builtin__&&h>a&&h<b){e=k;break}}e&&e.renderToCanvas&&(c.ctx.save(),e.renderToCanvas(c.ctx),c.ctx.restore())}if(a=a||{},this._singleCanvas)return this._layers[0].dom;var c=new oe("image",this,a.pixelRatio||this.dpr);c.initContext();c.clearColor=a.backgroundColor;c.clear();var d;a=this.storage.getDisplayList(!0);for(var e={},f=this,g=0;g<a.length;g++){var h=a[g];h.zlevel!==d&&(b(d,h.zlevel),d=h.zlevel);this._doPaintEl(h,c,!0,e)}return b(d,1/0),c.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);var b=this.root,f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),d=c.getContext("2d"),e=a.getBoundingRect(),f=a.style,g=f.shadowBlur,h=f.shadowOffsetX,k=f.shadowOffsetY,l=f.hasStroke()?f.lineWidth:0,f=Math.max(l/2,-h+g),m=Math.max(l/2,-k+g),h=e.width+f+Math.max(l/2,h+g),g=e.height+m+Math.max(l/2,k+g);c.width=h*b;c.height=g*b;d.scale(b,b);d.clearRect(0,0,h,g);d.dpr=b;g=a.position;k=a.rotation;h=a.scale;a.position=[f-e.x,m-e.y];a.rotation=0;a.scale=[1,1];a.updateTransform();a&&a.brush(d);c=new db({style:{x:0,y:0,image:c}});return null!=g&&(c.position=a.position=g),null!=k&&(c.rotation=a.rotation=k),null!=h&&(c.scale=a.scale=h),c}};var Ei="undefined"!=typeof window&&!!window.addEventListener,Du=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ec=Ei?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},xh=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;this._$handlers={}};xh.prototype={constructor:xh,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var b=0;b<a.length;b++)this.addClip(a[b])},removeClip:function(a){a=S(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var h=c[g],k=h.step(a,b);k&&(e.push(k),f.push(h))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(g=0;g<d;g++)f[g].fire(e[g]);this._time=a;this.onframe(b);this.trigger("frame",b);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(vh(a),!b._paused&&b._update())}var b=this;this._running=!0;vh(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},animate:function(a,b){var c=new el(a,(b=b||{}).loop,b.getter,b.setter);return this.addAnimator(c),c}};M(xh,mb);var Ji=function(){this._track=[]};Ji.prototype={constructor:Ji,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(a,b,c){var d=a.touches;if(d){a={points:[],touches:[],target:b,event:a};b=0;for(var e=d.length;b<e;b++){var f=d[b],g=Di(c,f,{});a.points.push([g.zrX,g.zrY]);a.touches.push(f)}this._track.push(a)}},_recognize:function(a){for(var b in pl)if(pl.hasOwnProperty(b)){var c=pl[b](this._track,a);if(c)return c}}};var pl={pinch:function(a,b){var c=a.length;if(c){var d=(a[c-1]||{}).points;if((c=(a[c-2]||{}).points||d)&&1<c.length&&d&&1<d.length)return c=jn(d)/jn(c),!isFinite(c)&&(c=1),b.pinchScale=c,d=[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2],b.pinchX=d[0],b.pinchY=d[1],{type:"pinch",target:a[0].target,event:b}}}},Yf="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),Hi=["touchstart","touchend","touchmove"],yz={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},mn=w(Yf,function(a){var b=a.replace("mouse","pointer");return yz[b]?b:a}),tb={mousemove:function(a){a=$c(this.dom,a);this.trigger("mousemove",a)},mouseout:function(a){var b=(a=$c(this.dom,a)).toElement||a.relatedTarget;if(b!=this.dom)for(;b&&9!=b.nodeType;){if(b===this.dom)return;b=b.parentNode}this.trigger("mouseout",a)},touchstart:function(a){(a=$c(this.dom,a)).zrByTouch=!0;this._lastTouchMoment=new Date;Fi(this,a,"start");tb.mousemove.call(this,a);tb.mousedown.call(this,a);Gi(this)},touchmove:function(a){(a=$c(this.dom,a)).zrByTouch=!0;Fi(this,a,"change");tb.mousemove.call(this,a);Gi(this)},touchend:function(a){(a=$c(this.dom,a)).zrByTouch=!0;Fi(this,a,"end");tb.mouseup.call(this,a);300>+new Date-this._lastTouchMoment&&tb.click.call(this,a);Gi(this)},pointerdown:function(a){tb.mousedown.call(this,a)},pointermove:function(a){ln(a)||tb.mousemove.call(this,a)},pointerup:function(a){tb.mouseup.call(this,a)},pointerout:function(a){ln(a)||tb.mouseout.call(this,a)}};r("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(a){tb[a]=function(b){b=$c(this.dom,b);this.trigger(a,b)}});var Gs=Ii.prototype;Gs.dispose=function(){for(var a=Yf.concat(Hi),b=0;b<a.length;b++){var c=a[b],d=this.dom,e=kn(c),c=this._handlers[c];Ei?d.removeEventListener(e,c):d.detachEvent("on"+e,c)}};Gs.setCursor=function(a){this.dom.style.cursor=a||"default"};M(Ii,mb);var zz=!ca.canvasSupported,pe={canvas:ol},ad={},Li=function(a,b,c){c=c||{};this.dom=b;this.id=a;var d=this,e=new gl;a=c.renderer;if(zz){if(!pe.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&pe[a]||(a="canvas");b=new pe[a](b,e,c);this.storage=e;this.painter=b;c=ca.node?null:new Ii(b.getViewportRoot());this.handler=new ne(e,b,c,b.root);this.animation=new xh({stage:{update:z(this.flush,this)}});this.animation.start();this._needsRefresh;var f=e.delFromStorage,g=e.addToStorage;e.delFromStorage=function(a){f.call(e,a);a&&a.removeSelfFromZr(d)};e.addToStorage=function(a){g.call(e,a);a.addSelfToZr(d)}};Li.prototype={constructor:Li,getId:function(){return this.id},add:function(a){this.storage.addRoot(a);this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a);this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer(a,b);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){this._needsRefresh&&this.refreshImmediately();this._needsRefreshHover&&this.refreshHoverImmediately()},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{};this.painter.resize(a.width,a.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete ad[this.id]}};var Az=(Object.freeze||Object)({version:"3.7.3",init:Ki,dispose:function(a){if(a)a.dispose();else{for(var b in ad)ad.hasOwnProperty(b)&&ad[b].dispose();ad={}}return this},getInstance:function(a){return ad[a]},registerPainter:function(a,b){pe[a]=b}}),qn=1E-4,Zj=9007199254740991,Fu=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Bz=(Object.freeze||Object)({linearMap:ba,parsePercent:B,round:ra,asc:Nb,getPrecision:on,getPrecisionSafe:nc,getPixelPrecision:Mi,getPercentWithPrecision:pn,MAX_SAFE_INTEGER:Zj,remRadian:Ni,isRadianAroundZero:Ne,parseDate:Oe,quantity:rn,nice:Oi,reformIntervals:Pi,isNumeric:sn}),fd=gi,un="abcdefg".split(""),Pe=function(a){return 10>a?"0"+a:a},Hs=Vm,Cz=(Object.freeze||Object)({addCommas:oc,toCamelCase:tn,normalizeCssArray:fd,encodeHTML:ia,formatTpl:Qi,formatTplSimple:vn,getTooltipMarker:Ri,formatTime:Si,capitalFirst:Zf,truncateText:Hs,getTextRect:ac}),Gu=".",bd="___EC__COMPONENT__CONTAINER___",Ja="\x00ec_\x00",qe=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(b,d,e){for(var c={},g=0;g<a.length;g++){var h=a[g][1];d&&0<=S(d,h)||e&&0>S(e,h)||(h=b.getShallow(h),null!=h&&(c[a[g][0]]=h))}return c}},Dz=qe([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Ez=qe([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),bg=Math.pow,rc=Math.sqrt,Nd=1E-8,Cn=1E-4,Fn=rc(3),cg=1/3,Qb=lc(),Ob=lc(),Pd=lc(),Ya=Math.min,sa=Math.max,ql=Math.sin,rl=Math.cos,xd=2*Math.PI,yh=lc(),zh=lc(),Ah=lc(),Is=[],Js=[],wa={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Wa=[],Lc=[],Gb=[],Rb=[],Ks=Math.min,Ls=Math.max,Cf=Math.cos,Df=Math.sin,Bh=Math.sqrt,re=Math.abs,sl="undefined"!=typeof Float32Array,Fa=function(a){(this._saveData=!a)&&(this.data=[]);this._ctx=null};Fa.prototype={constructor:Fa,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,b){this._ux=re(1/rh/a)||0;this._uy=re(1/rh/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(wa.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=re(a-this._xi)>this._ux||re(b-this._yi)>this._uy||5>this._len;return this.addData(wa.L,a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(a,b,c,d,e,f){return this.addData(wa.C,a,b,c,d,e,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f)),this._xi=e,this._yi=f,this},quadraticCurveTo:function(a,b,c,d){return this.addData(wa.Q,a,b,c,d),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d)),this._xi=c,this._yi=d,this},arc:function(a,b,c,d,e,f){return this.addData(wa.A,a,b,c,c,d,e-d,0,f?0:1),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=Cf(e)*c+a,this._yi=Df(e)*c+a,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData(wa.R,a,b,c,d),this},closePath:function(){this.addData(wa.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=b,this._yi=c,this},fill:function(a){a&&a.fill();this.toStatic()},stroke:function(a){a&&a.stroke();this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a;for(var b=this._dashIdx=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!sl||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,d=this._len,e=0;e<b;e++)c+=a[e].len();sl&&this.data instanceof Float32Array&&(this.data=new Float32Array(d+c));for(e=0;e<b;e++)for(var c=a[e].data,f=0;f<c.length;f++)this.data[d++]=c[f];this._len=d},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c,d,e=this._dashSum;c=this._dashOffset;var f=this._lineDash,g=this._ctx,h=this._xi,k=this._yi,l=a-h,m=b-k;d=Bh(l*l+m*m);var n,p=f.length,l=l/d,m=m/d;0>c&&(c=e+c);e=h-(c%=e)*l;for(n=k-c*m;0<l&&e<=a||0>l&&e>=a||0==l&&(0<m&&n<=b||0>m&&n>=b);)e+=l*(c=f[d=this._dashIdx]),n+=m*c,this._dashIdx=(d+1)%p,0<l&&e<h||0>l&&e>h||0<m&&n<k||0>m&&n>k||g[d%2?"moveTo":"lineTo"](0<=l?Ks(e,a):Ls(e,a),0<=m?Ks(n,b):Ls(n,b));l=e-a;m=n-b;this._dashOffset=-Bh(l*l+m*m)},_dashedBezierTo:function(a,b,c,d,e,f){var g,h,k,l,m;g=this._dashSum;var n=this._dashOffset,p=this._lineDash,q=this._ctx,t=this._xi,u=this._yi,v=0,r=this._dashIdx,P=p.length,y=0;0>n&&(n=g+n);n%=g;for(g=0;1>g;g+=.1)h=eb(t,a,c,e,g+.1)-eb(t,a,c,e,g),k=eb(u,b,d,f,g+.1)-eb(u,b,d,f,g),v+=Bh(h*h+k*k);for(;r<P&&!((y+=p[r])>n);r++);for(g=(y-n)/v;1>=g;)l=eb(t,a,c,e,g),m=eb(u,b,d,f,g),r%2?q.moveTo(l,m):q.lineTo(l,m),g+=p[r]/v,r=(r+1)%P;0!=r%2&&q.lineTo(e,f);h=e-l;k=f-m;this._dashOffset=-Bh(h*h+k*k)},_dashedQuadraticTo:function(a,b,c,d){c=(c+2*a)/3;d=(d+2*b)/3;a=(this._xi+2*a)/3;b=(this._yi+2*b)/3;this._dashedBezierTo(a,b,c,d,c,d)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,sl&&(this.data=new Float32Array(a)))},getBoundingRect:function(){Wa[0]=Wa[1]=Gb[0]=Gb[1]=Number.MAX_VALUE;Lc[0]=Lc[1]=Rb[0]=Rb[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=a[f++];switch(1==f&&(d=b=a[f],e=c=a[f+1]),g){case wa.M:b=d=a[f++];c=e=a[f++];Gb[0]=d;Gb[1]=e;Rb[0]=d;Rb[1]=e;break;case wa.L:var g=b,h=a[f],b=a[f+1],k=Gb,l=Rb;k[0]=Ya(g,h);k[1]=Ya(c,b);l[0]=sa(g,h);l[1]=sa(c,b);b=a[f++];c=a[f++];break;case wa.C:var g=b,m=a[f++],h=a[f++],n=a[f++],b=a[f++],k=a[f],l=a[f+1],p=Gb,q=Rb,t,u=xn,v=eb,r=u(g,m,n,k,Is);p[0]=1/0;p[1]=1/0;q[0]=-1/0;q[1]=-1/0;for(t=0;t<r;t++){var P=v(g,m,n,k,Is[t]);p[0]=Ya(P,p[0]);q[0]=sa(P,q[0])}r=u(c,h,b,l,Js);for(t=0;t<r;t++)m=v(c,h,b,l,Js[t]),p[1]=Ya(m,p[1]),q[1]=sa(m,q[1]);p[0]=Ya(g,p[0]);q[0]=sa(g,q[0]);p[0]=Ya(k,p[0]);q[0]=sa(k,q[0]);p[1]=Ya(c,p[1]);q[1]=sa(c,q[1]);p[1]=Ya(l,p[1]);q[1]=sa(l,q[1]);b=a[f++];c=a[f++];break;case wa.Q:g=b;t=a[f++];p=a[f++];h=a[f];b=a[f+1];k=Gb;l=Rb;r=zn;q=xb;v=sa(Ya(r(g,t,h),1),0);r=sa(Ya(r(c,p,b),1),0);t=q(g,t,h,v);p=q(c,p,b,r);k[0]=Ya(g,h,t);k[1]=Ya(c,b,p);l[0]=sa(g,h,t);l[1]=sa(c,b,p);b=a[f++];c=a[f++];break;case wa.A:b=a[f++];g=a[f++];k=a[f++];c=a[f++];v=a[f++];h=a[f++]+v;m=(a[f++],1-a[f++]);1==f&&(d=Cf(v)*k+b,e=Df(v)*c+g);l=b;p=g;q=k;t=c;var r=h,y=m,m=Gb,n=Rb,u=Wb,P=Xb,E=Math.abs(v-r);if(1E-4>E%xd&&1E-4<E)m[0]=l-q,m[1]=p-t,n[0]=l+q,n[1]=p+t;else{if(yh[0]=rl(v)*q+l,yh[1]=ql(v)*t+p,zh[0]=rl(r)*q+l,zh[1]=ql(r)*t+p,u(m,yh,zh),P(n,yh,zh),0>(v%=xd)&&(v+=xd),0>(r%=xd)&&(r+=xd),v>r&&!y?r+=xd:v<r&&y&&(v+=xd),y)v=r=v;for(y=0;y<r;y+=Math.PI/2)y>v&&(Ah[0]=rl(y)*q+l,Ah[1]=ql(y)*t+p,u(m,Ah,m),P(n,Ah,n))}b=Cf(h)*k+b;c=Df(h)*c+g;break;case wa.R:g=d=b=a[f++];h=e=c=a[f++];k=d+a[f++];l=e+a[f++];p=Gb;q=Rb;p[0]=Ya(g,k);p[1]=Ya(h,l);q[0]=sa(g,k);q[1]=sa(h,l);break;case wa.Z:b=d,c=e}Wb(Wa,Wa,Gb);Xb(Lc,Lc,Rb)}return 0===f&&(Wa[0]=Wa[1]=Lc[0]=Lc[1]=0),new U(Wa[0],Wa[1],Lc[0]-Wa[0],Lc[1]-Wa[1])},rebuildPath:function(a){for(var b,c,d,e,f,g,h=this.data,k=this._ux,l=this._uy,m=this._len,n=0;n<m;)switch(f=h[n++],1==n&&(b=d=h[n],c=e=h[n+1]),f){case wa.M:b=d=h[n++];c=e=h[n++];a.moveTo(d,e);break;case wa.L:f=h[n++];g=h[n++];(re(f-d)>k||re(g-e)>l||n===m-1)&&(a.lineTo(f,g),d=f,e=g);break;case wa.C:a.bezierCurveTo(h[n++],h[n++],h[n++],h[n++],h[n++],h[n++]);d=h[n-2];e=h[n-1];break;case wa.Q:a.quadraticCurveTo(h[n++],h[n++],h[n++],h[n++]);d=h[n-2];e=h[n-1];break;case wa.A:d=h[n++];e=h[n++];g=h[n++];f=h[n++];var p=h[n++],q=h[n++],t=h[n++],u=h[n++],v=g>f?g:f,r=g>f?1:g/f,P=g>f?f/g:1,q=p+q;.001<Math.abs(g-f)?(a.translate(d,e),a.rotate(t),a.scale(r,P),a.arc(0,0,v,p,q,1-u),a.scale(1/r,1/P),a.rotate(-t),a.translate(-d,-e)):a.arc(d,e,v,p,q,1-u);1==n&&(b=Cf(p)*g+d,c=Df(p)*f+e);d=Cf(q)*g+d;e=Df(q)*f+e;break;case wa.R:b=d=h[n];c=e=h[n+1];a.rect(h[n++],h[n++],h[n++],h[n++]);break;case wa.Z:a.closePath(),d=b,e=c}}};Fa.CMD=wa;var Dn=2*Math.PI,Se=2*Math.PI,vc=Fa.CMD,Te=2*Math.PI,Ju=1E-4,yb=[-1,-1,-1],Pb=[-1,-1],Ms=kl.prototype.getCanvasPattern,tl=Math.abs,Fz=new Fa(!0);ea.prototype={constructor:ea,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a,b){var c=this.style,d=this.path||Fz,e=c.hasStroke(),f=c.hasFill(),g=c.fill,h=c.stroke,k=f&&!!g.colorStops,l=e&&!!h.colorStops,m=f&&!!g.image,n=e&&!!h.image;if(c.bind(a,this,b),this.setTransform(a),this.__dirty){var p;k&&(p=p||this.getBoundingRect(),this._fillGradient=c.getGradient(a,g,p));l&&(p=p||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,h,p))}k?a.fillStyle=this._fillGradient:m&&(a.fillStyle=Ms.call(g,a));l?a.strokeStyle=this._strokeGradient:n&&(a.strokeStyle=Ms.call(h,a));g=c.lineDash;h=c.lineDashOffset;k=!!a.setLineDash;l=this.getGlobalScale();d.setScale(l[0],l[1]);this.__dirtyPath||g&&!k&&e?(d.beginPath(a),g&&!k&&(d.setLineDash(g),d.setLineDashOffset(h)),this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a));f&&d.fill(a);g&&k&&(a.setLineDash(g),a.lineDashOffset=h);e&&d.stroke(a);g&&k&&a.setLineDash([]);this.restoreTransform(a);null!=c.text&&this.drawRectText(a,this.getBoundingRect())},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new Fa},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new Fa);this.__dirtyPath&&(d.beginPath(),this.buildPath(d,this.shape,!1));a=d.getBoundingRect()}if(this._rect=a,b.hasStroke()){d=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c)d.copy(a),c=b.lineWidth,a=b.strokeNoScale?this.getLineScale():1,b.hasFill()||(c=Math.max(c,this.strokeContainThreshold||4)),1E-10<a&&(d.width+=c/a,d.height+=c/a,d.x-=c/a/2,d.y-=c/a/2);return d}return a},contain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),e=this.style;if(a=c[0],b=c[1],d.contain(a,b)){c=this.path.data;if(e.hasStroke()){var d=e.lineWidth,f=e.strokeNoScale?this.getLineScale():1;if(1E-10<f&&(e.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),En(c,d/f,!0,a,b)))return!0}if(e.hasFill())return En(c,0,!1,a,b)}return!1},dirty:function(a){null==a&&(a=!0);a&&(this.__dirtyPath=a,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=!0,this._rect=null):sb.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(T(a))for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&1E-10<tl(a[0]-1)&&1E-10<tl(a[3]-1)?Math.sqrt(tl(a[0]*a[3]-a[2]*a[1])):1}};ea.extend=function(a){var b=function(b){ea.call(this,b);a.style&&this.style.extendFrom(a.style,!1);var c=a.shape;if(c){var d=this.shape=this.shape||{},g;for(g in c)!d.hasOwnProperty(g)&&c.hasOwnProperty(g)&&(d[g]=c[g])}a.init&&a.init.call(this,b)};ka(b,ea);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b};ka(ea,sb);var Qd=Fa.CMD,Mu=[[],[],[]],Jn=Math.sqrt,Lu=Math.atan2,Vi="mMlLvVhHzZcCqQtTsSaA".split(""),Ti=Math.sqrt,fg=Math.sin,eg=Math.cos,dg=Math.PI,Ui=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},Hn=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Ui(a,b))},Q=function(a){sb.call(this,a)};Q.prototype={constructor:Q,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&Me(c);c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;null!=d&&(d+="");c.bind(a,this,b);null!=d&&(d||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)&&(this.setTransform(a),c.rich?fn(this,a,d,c,void 0):an(this,a,d,c,void 0),this.restoreTransform(a))},getBoundingRect:function(){var a=this.style;if(this.__dirty&&Me(a),!this._rect){var b=ac(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.rich);if(b.x+=a.x||0,b.y+=a.y||0,Bi(a.textStroke,a.textStrokeWidth))a=a.textStrokeWidth,b.x-=a/2,b.y-=a/2,b.width+=a,b.height+=a;this._rect=b}return this._rect}};ka(Q,sb);var yd=ea.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy);a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Mc=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],ul=function(a){return ca.browser.ie&&11<=ca.browser.version?function(){var b,c=this.__clipPaths,d=this.style;if(c)for(var e=0;e<c.length;e++){var f=c[e],g=f&&f.shape,f=f&&f.type;if(g&&("sector"===f&&g.startAngle===g.endAngle||!("rect"!==f||g.width&&g.height))){for(b=0;b<Mc.length;b++)Mc[b][2]=d[Mc[b][0]],d[Mc[b][0]]=Mc[b][1];b=!0;break}}if(a.apply(this,arguments),b)for(b=0;b<Mc.length;b++)d[Mc[b][0]]=Mc[b][2]}:a},Gc=ea.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:ul(ea.prototype.brush),buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r0||0,0),f=Math.max(b.r,0),g=b.startAngle,h=b.endAngle,k=b.clockwise,l=Math.cos(g),m=Math.sin(g);a.moveTo(l*e+c,m*e+d);a.lineTo(l*f+c,m*f+d);a.arc(c,d,f,g,h,!k);a.lineTo(Math.cos(h)*e+c,Math.sin(h)*e+d);0!==e&&a.arc(c,d,e,h,g,k);a.closePath()}}),Ns=ea.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=2*Math.PI;a.moveTo(c+b.r,d);a.arc(c,d,b.r,0,e,!1);a.moveTo(c+b.r0,d);a.arc(c,d,b.r0,0,e,!0)}}),Oa=ea.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){Ln(a,b,!0)}}),wb=ea.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){Ln(a,b,!1)}}),fa=ea.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width,f=b.height;b.r?Zm(a,b):a.rect(c,d,e,f);a.closePath()}}),pb=ea.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.percent;0!==g&&(a.moveTo(c,d),1>g&&(e=c*(1-g)+e*g,f=d*(1-g)+f*g),a.lineTo(e,f))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),hb=[],Kj=ea.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,e=b.x2,f=b.y2,g=b.cpx1,h=b.cpy1,k=b.cpx2,l=b.cpy2,m=b.percent;0!==m&&(a.moveTo(c,d),null==k||null==l?(1>m&&(Od(c,g,e,m,hb),g=hb[1],e=hb[2],Od(d,h,f,m,hb),h=hb[1],f=hb[2]),a.quadraticCurveTo(g,h,e,f)):(1>m&&(yn(c,g,k,e,m,hb),g=hb[1],k=hb[2],e=hb[3],yn(d,h,l,f,m,hb),h=hb[1],l=hb[2],f=hb[3]),a.bezierCurveTo(g,h,k,l,e,f)))},pointAt:function(a){return Mn(this.shape,a,!1)},tangentAt:function(a){a=Mn(this.shape,a,!0);return Id(a,a)}}),Os=ea.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,e=Math.max(b.r,0),f=b.startAngle,g=b.endAngle,h=b.clockwise;a.moveTo(Math.cos(f)*e+c,Math.sin(f)*e+d);a.arc(c,d,e,f,g,!h)}}),Ps=ea.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1])},buildPath:function(a,b){for(var c=b.paths||[],d=0;d<c.length;d++)c[d].buildPath(a,c[d].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),ea.prototype.getBoundingRect.call(this)}}),Nc=function(a){this.colorStops=a||[]};Nc.prototype={constructor:Nc,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var Zd=function(a,b,c,d,e,f){this.x=null==a?0:a;this.y=null==b?0:b;this.x2=null==c?1:c;this.y2=null==d?0:d;this.type="linear";this.global=f||!1;this.colorStops=e||[]};Zd.prototype={constructor:Zd};ka(Zd,Nc);var Ch=function(a,b,c,d,e){this.x=null==a?.5:a;this.y=null==b?.5:b;this.r=null==c?.5:c;this.type="radial";this.global=e||!1;this.colorStops=d||[]};Ch.prototype={constructor:Ch};ka(Ch,Nc);var Rd=Math.round,ig=Math.max,jg=Math.min,gg={},ic=function(a,b){for(var c=[],d=a.length,e=0;e<d;e++){var f=a[e];f.path||f.createPathProxy();f.__dirtyPath&&f.buildPath(f.path,f.shape,!0);c.push(f.path)}d=new ea(b);return d.createPathProxy(),d.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)},d},Pa=(Object.freeze||Object)({extendShape:ub,extendPath:function(a,b){return ea.extend(In(a,b))},makePath:Ue,makeImage:Pn,mergePath:ic,resizePath:On,subPixelOptimizeLine:cd,subPixelOptimizeRect:Wi,subPixelOptimize:Bb,setHoverStyle:ma,setLabelStyle:Cb,setTextStyle:la,setText:function(a,b,c){var d,e={isRectText:!0};!1===c?d=!0:e.autoColor=c;Yn(a,b,e,d);a.host&&a.host.dirty&&a.host.dirty(!1)},getFont:Xi,updateProps:Z,initProps:Ga,getTransform:dd,applyTransform:Za,transformDirection:Yi,groupTransition:Zi,clipPointsByRect:ao,clipRectByRect:function(a,b){var c=ig(a.x,b.x),d=jg(a.x+a.width,b.x+b.width),e=ig(a.y,b.y),f=jg(a.y+a.height,b.y+b.height);if(d>=c&&f>=e)return{x:c,y:e,width:d-c,height:f-e}},createIcon:Ve,Group:F,Image:db,Text:Q,Circle:yd,Sector:Gc,Ring:Ns,Polygon:Oa,Polyline:wb,Rect:fa,Line:pb,BezierCurve:Kj,Arc:Os,CompoundPath:Ps,LinearGradient:Zd,RadialGradient:Ch,BoundingRect:U}),Gz=["textStyle","color"],Hz=qe([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]);W.prototype={constructor:W,init:null,mergeOption:function(a){L(this.option,a,!0)},get:function(a,b){return null==a?this.option:bo(this.option,this.parsePath(a),!b&&$i(this,a))},getShallow:function(a,b){var c=this.option,c=null==c?c:c[a],d=!b&&$i(this,a);return null==c&&d&&(c=d.getShallow(a)),c},getModel:function(a,b){var c,d=null==a?this.option:bo(this.option,a=this.parsePath(a));return b=b||(c=$i(this,a))&&c.getModel(a),new W(d,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new (0,this.constructor)(G(this.option))},setReadOnly:function(a){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){this[Ja+"getParent"]=a},isAnimationEnabled:function(){if(!ca.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};Re(W);M(W,{getLineStyle:function(a){a=Dz(this,a);var b=this.getLineDash(a.lineWidth);return b&&(a.lineDash=b),a},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2);a*=4;return"solid"===b||null==b?null:"dashed"===b?[a,a]:[c,c]}});M(W,{getAreaStyle:function(a,b){return Ez(this,a,b)}});M(W,{getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(Gz):null)},getFont:function(){return Xi({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return ac(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}});M(W,{getItemStyle:function(a,b){var c=Hz(this,a,b),d=this.getBorderLineDash();return d&&(c.lineDash=d),c},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==a?null:"dashed"===a?[5,5]:[1,1]}});var wc=r,Sd=T,ko="fontStyle fontWeight fontSize fontFamily rich tag color textBorderColor textBorderWidth width height lineHeight align verticalAlign baseline shadowColor shadowBlur shadowOffsetX shadowOffsetY textShadowColor textShadowBlur textShadowOffsetX textShadowOffsetY backgroundColor borderColor borderWidth borderRadius padding".split(" "),vl={getDataParams:function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),e=c.getRawIndex(a),f=c.getName(a,!0),g=c.getRawDataItem(a),c=c.getItemVisual(a,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:f,dataIndex:e,data:g,dataType:b,value:d,color:c,marker:Ri(c),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c,d,e){b=b||"normal";var f=this.getData(c).getItemModel(a);a=this.getDataParams(a,c);null!=d&&a.value instanceof Array&&(a.value=a.value[d]);d=f.get([e||"label",b,"formatter"]);return"function"==typeof d?(a.status=b,d(a)):"string"==typeof d?Qi(d,a):void 0},getRawValue:function(a,b){var c=this.getData(b).getRawDataItem(a);if(null!=c)return!Sd(c)||c instanceof Array?c:c.value},formatTooltip:qa},wl=function(){var a=0;return function(){var b="\x00__ec_prop_getter_"+a++;return function(a){return a[b]||(a[b]={})}}}(),Tu=0,Uu="_",ng=r,fo="left right top bottom width height".split(" "),gd=[["width","left","right"],["height","top","bottom"]],tf=ej,Iz=(C(ej,"vertical"),C(ej,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Jz=Array.prototype.push,V=W.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){W.call(this,a,b,c,d);this.uid=dj("componentModel")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?hd({},a):{};L(a,b.getTheme().get(this.mainType));L(a,this.getDefaultOption());c&&xc(a,d,c)},mergeOption:function(a,b){L(this.option,a,!0);var c=this.layoutMode;c&&xc(this.option,a,c)},optionUpdated:function(a,b){},getDefaultOption:function(){if(!this.hasOwnProperty(Ja+"__defaultOption")){for(var a=[],b=this.constructor;b;){var c=b.prototype.defaultOption;c&&a.push(c);b=b.superClass}b={};for(c=a.length-1;0<=c;c--)b=L(b,a[c],!0);this[Ja+"__defaultOption"]=b}return this[Ja+"__defaultOption"]},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+"Index",!0),id:this.get(a+"Id",!0)})}});$f(V,{registerWhenExtend:!0});(function(a){var b={};a.registerSubTypeDefaulter=function(a,d){a=pc(a);b[a.main]=d};a.determineSubType=function(c,d){var e=d.type;if(!e){var f=pc(c).main;a.hasSubTypes(c)&&b[f]&&(e=b[f](d))}return e}})(V);(function(a,b){function c(a){var c={},f=[];return r(a,function(g){var h=d(c,g),k=e(h.originalDeps=b(g),a);h.entryCount=k.length;0===h.entryCount&&f.push(g);r(k,function(a){0>S(h.predecessor,a)&&h.predecessor.push(a);var b=d(c,a);0>S(b.successor,a)&&b.successor.push(g)})}),{graph:c,noEntryList:f}}function d(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function e(a,b){var c=[];return r(a,function(a){0<=S(b,a)&&c.push(a)}),c}a.topologicalTravel=function(a,b,d,e){function f(a){g[a].entryCount--;0===g[a].entryCount&&h.push(a)}if(a.length){b=c(b);var g=b.graph,h=b.noEntryList,k={};for(r(a,function(a){k[a]=!0});h.length;){a=h.pop();b=g[a];var q=!!k[a];q&&(d.call(e,a,b.originalDeps.slice()),delete k[a]);r(b.successor,q?function(a){k[a]=!0;f(a)}:f)}r(k,function(){throw Error("Circle dependency may exists");})}}})(V,function(a){var b=[];return r(V.getClassesByMainType(a),function(a){Jz.apply(b,a.prototype.dependencies||[])}),w(b,function(a){return pc(a).main})});M(V,Iz);var Qs="";"undefined"!=typeof navigator&&(Qs=navigator.platform||"");var Xu={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),textStyle:{fontFamily:Qs.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3,useUTC:!1},xl={clearColorPalette:function(){this[Ja+"colorIdx"]=0;Qe(this,"colorNameMap",{})},getColorFromPalette:function(a,b){var c=(b=b||this)[Ja+"colorIdx"]||0,d=b[Ja+"colorNameMap"]||Qe(b,"colorNameMap",{});if(d.hasOwnProperty(a))return d[a];var e=this.get("color",!0)||[];if(e.length){var f=e[c];return a&&(d[a]=f),b[Ja+"colorIdx"]=(c+1)%e.length,f}}},lb=r,yc=Ca,go=w,yl=A,zl=T,fj="\x00_ec_inner",Al=W.extend({constructor:Al,init:function(a,b,c,d){c=c||{};this.option=null;this._theme=new W(c);this._optionManager=d},setOption:function(a,b){kc(!(fj in a),"please use chart.getOption()");this._optionManager.setOption(a,b);this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;if(!a||"recreate"===a){var d=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):Wu.call(this,d);b=!0}("timeline"!==a&&"media"!==a||this.restoreData(),a&&"recreate"!==a&&"timeline"!==a)||(d=c.getTimelineOption(this))&&(this.mergeOption(d),b=!0);a&&"recreate"!==a&&"media"!==a||(a=c.getMediaOption(this,this._api),a.length&&lb(a,function(a){this.mergeOption(a,b=!0)},this));return b},mergeOption:function(a){var b=this.option,c=this._componentsMap,d=[];lb(a,function(a,c){null!=a&&(V.hasClass(c)?d.push(c):b[c]=null==b[c]?G(a):L(b[c],a,!0))});V.topologicalTravel(d,V.getAllClassMainTypes(),function(d,f){var e=kb(a[d]),e=cj(c.get(d),e);co(e);lb(e,function(a,b){var c=a.option;if(zl(c)){a.keyInfo.mainType=d;var e=a.keyInfo,f=a.exist,c=c.type?c.type:f?f.subType:V.determineSubType(d,c);e.subType=c}});var h=Yu(c,f);b[d]=[];c.set(d,[]);lb(e,function(a,e){var f=a.exist,g=a.option;if(kc(zl(g)||f,"Empty component definition"),g){var k=V.getClass(d,a.keyInfo.subType,!0);if(f&&f instanceof k)f.name=a.keyInfo.name,f.mergeOption(g,this),f.optionUpdated(g,!1);else{var l=I({dependentModels:h,componentIndex:e},a.keyInfo);I(f=new k(g,this,this,l),l);f.init(g,this,this,l);f.optionUpdated(null,!0)}}else f.mergeOption({},this),f.optionUpdated({},!1);c.get(d)[e]=f;b[d][e]=f.option},this);"series"===d&&(this._seriesIndices=gj(c.get("series")))},this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var a=G(this.option);return lb(a,function(b,c){if(V.hasClass(c)){for(var d=(b=kb(b)).length-1;0<=d;d--)kg(b[d])&&b.splice(d,1);a[c]=b}}),delete a[fj],a},getTheme:function(){return this._theme},getComponent:function(a,b){var c=this._componentsMap.get(a);if(c)return c[b||0]},queryComponents:function(a){var b=a.mainType;if(!b)return[];var c=a.index,d=a.id,e=a.name,f=this._componentsMap.get(b);if(!f||!f.length)return[];if(null!=c)yl(c)||(c=[c]),b=yc(go(c,function(a){return f[a]}),function(a){return!!a});else if(null!=d)var g=yl(d),b=yc(f,function(a){return g&&0<=S(d,a.id)||!g&&a.id===d});else if(null!=e)var h=yl(e),b=yc(f,function(a){return h&&0<=S(e,a.name)||!h&&a.name===e});else b=f.slice();return ho(b,a)},findComponents:function(a){var b=a.mainType,c=function(a){var c=b+"Index",d=b+"Id",g=b+"Name";return!a||null==a[c]&&null==a[d]&&null==a[g]?null:{mainType:b,index:a[c],id:a[d],name:a[g]}}(a.query);return function(b){return a.filter?yc(b,a.filter):b}(ho(c?this.queryComponents(c):this._componentsMap.get(b),a))},eachComponent:function(a,b,c){var d=this._componentsMap;"function"==typeof a?(c=b,b=a,d.each(function(a,d){lb(a,function(a,e){b.call(c,d,a,e)})})):Da(a)?lb(d.get(a),b,c):zl(a)&&(a=this.findComponents(a),lb(a,b,c))},getSeriesByName:function(a){var b=this._componentsMap.get("series");return yc(b,function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){var b=this._componentsMap.get("series");return yc(b,function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},eachSeries:function(a,b){lb(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){lb(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){lb(this._seriesIndices,function(d){var e=this._componentsMap.get("series")[d];e.subType===a&&b.call(c,e,d)},this)},eachRawSeriesByType:function(a,b,c){return lb(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return 0>S(this._seriesIndices,a.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){var c=yc(this._componentsMap.get("series"),a,b);this._seriesIndices=gj(c)},restoreData:function(){var a=this._componentsMap;this._seriesIndices=gj(a.get("series"));var b=[];a.each(function(a,d){b.push(d)});V.topologicalTravel(b,V.getAllClassMainTypes(),function(b,d){lb(a.get(b),function(a){a.restoreData()})})}});M(Al,xl);var $u="getDom getZr getWidth getHeight getDevicePixelRatio dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption getViewOfComponentModel getViewOfSeriesModel".split(" "),Bl={};fb.prototype={constructor:fb,create:function(a,b){var c=[];r(Bl,function(d,e){var f=d.create(a,b);c=c.concat(f||[])});this._coordinateSystems=c},update:function(a,b){r(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};fb.register=function(a,b){Bl[a]=b};fb.get=function(a){return Bl[a]};var og=r,pg=w,io=L,cv=/^(min|max)?(.+)$/;hj.prototype={constructor:hj,setOption:function(a,b){a=G(a,!0);var c=this._optionBackup,d=av.call(this,a,b,!c);this._newBaseOption=d.baseOption;c?(ev(c.baseOption,d.baseOption),d.timelineOptions.length&&(c.timelineOptions=d.timelineOptions),d.mediaList.length&&(c.mediaList=d.mediaList),d.mediaDefault&&(c.mediaDefault=d.mediaDefault)):this._optionBackup=d},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=pg(b.timelineOptions,G),this._mediaList=pg(b.mediaList,G),this._mediaDefault=G(b.mediaDefault),this._currentMediaIndices=[],G(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;c.length&&(a=a.getComponent("timeline"))&&(b=G(c[a.getCurrentIndex()],!0));return b},getMediaOption:function(a){a=this._api.getWidth();var b=this._api.getHeight(),c=this._mediaList,d=this._mediaDefault,e=[],f=[];if(!c.length&&!d)return f;for(var g=0,h=c.length;g<h;g++)bv(c[g].query,a,b)&&e.push(g);return!e.length&&d&&(e=[-1]),e.length&&!dv(e,this._currentMediaIndices)&&(f=pg(e,function(a){return G(-1===a?d.option:c[a].option)})),this._currentMediaIndices=e,f}};var Td=T,jo="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" "),Kz=function(a,b){r(id(a.series),function(a){if(Td(a)&&Td(a)){zc(a);Sa(a.label);Sa(a.upperLabel);Sa(a.edgeLabel);var b=a.markPoint;zc(b);Sa(b&&b.label);var c=a.markLine;zc(a.markLine);Sa(c&&c.label);var d=a.markArea;Sa(d&&d.label);$a(a,"axisLabel");$a(a,"title");$a(a,"detail");var h=a.data;if(h)for(d=0;d<h.length;d++)zc(h[d]),Sa(h[d]&&h[d].label);if((b=a.markPoint)&&b.data)for(b=b.data,d=0;d<b.length;d++)zc(b[d]),Sa(b[d]&&b[d].label);if((c=a.markLine)&&c.data)for(a=c.data,d=0;d<a.length;d++)A(a[d])?(zc(a[d][0]),Sa(a[d][0]&&a[d][0].label),zc(a[d][1]),Sa(a[d][1]&&a[d][1].label)):(zc(a[d]),Sa(a[d]&&a[d].label))}});var c="xAxis yAxis radiusAxis angleAxis singleAxis parallelAxis radar".split(" ");b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis");r(c,function(b){r(id(a[b]),function(a){a&&($a(a,"axisLabel"),$a(a.axisPointer,"label"))})});r(id(a.parallel),function(a){a=a&&a.parallelAxisDefault;$a(a,"axisLabel");$a(a&&a.axisPointer,"label")});r(id(a.calendar),function(a){$a(a,"dayLabel");$a(a,"monthLabel");$a(a,"yearLabel")});r(id(a.radar),function(a){$a(a,"name")});r(id(a.geo),function(a){Td(a)&&(Sa(a.label),r(id(a.regions),function(a){Sa(a.label)}))});Sa(ij(a.timeline).label);$a(ij(a.axisPointer),"label");$a(ij(a.tooltip).axisPointer,"label")},fv=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Lz="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),Rs="bar boxplot candlestick chord effectScatter funnel gauge lines graph heatmap line map parallel pie radar sankey scatter treemap".split(" "),ro=function(a,b){Kz(a,b);a.series=kb(a.series);r(a.series,function(a){if(T(a)){var b=a.type;if("pie"!==b&&"gauge"!==b||null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===b){for(var b=["pointer.color"],c=a,f=0;f<b.length&&null!=(c=c&&c[b[f]]);f++);b=c;if(null!=b){for(var c=["itemStyle.normal.color"],g,f=a,h=0;h<c.length-1;h++)null==f[g=c[h]]&&(f[g]={}),f=f[g];null==f[c[h]]&&(f[c[h]]=b)}}for(g=0;g<Rs.length;g++)if(Rs[g]===a.type){lo(a);break}}});a.dataRange&&(a.visualMap=a.dataRange);r(Lz,function(b){(b=a[b])&&(A(b)||(b=[b]),r(b,function(a){lo(a)}))})},va=V.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",layoutMode:null,init:function(a,b,c,d){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(a,c);Qe(this,"dataBeforeProcessed",this.getInitialData(a,c));this.restoreData()},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?hd({},a):{};V.hasClass(this.subType);L(a,b.getTheme().get(this.subType));L(a,this.getDefaultOption());ed(a.label,["show"]);this.fillDataTextStyle(a.data);c&&xc(a,d,c)},mergeOption:function(a,b){a=L(this.option,a,!0);this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&xc(this.option,a,c);(c=this.getInitialData(a,b))&&(this[Ja+"data"]=c,Qe(this,"dataBeforeProcessed",c.cloneShallow()))},fillDataTextStyle:function(a){if(a)for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&ed(a[c].label,b)},getInitialData:function(){},getData:function(a){var b=this[Ja+"data"];return null==a?b:b.getLinkedData(a)},setData:function(a){this[Ja+"data"]=a},getRawData:function(){return this[Ja+"dataBeforeProcessed"]},coordDimToDataDim:function(a){return Su(this.getData(),a)},dataDimToCoordDim:function(a){var b;a:{b=this.getData();var c=b.dimensions;a=b.getDimension(a);for(var d=0;d<c.length;d++){var e=b.getDimensionInfo(c[d]);if(e.name===a){b=e.coordDim;break a}}b=void 0}return b},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b,c){var d=this[Ja+"data"];c=this.getRawValue(a);c=A(c)?function(c){function e(a,c){var e=d.getDimensionInfo(c);if(e&&!1!==e.otherDims.tooltip){var h=e.type;(e=(f?"- "+(e.tooltipName||e.name)+": ":"")+("ordinal"===h?a+"":"time"===h?b?"":Si("yyyy/MM/dd hh:mm:ss",a):oc(a)))&&g.push(ia(e))}}var f=Hd(c,function(a,b,c){b=d.getDimensionInfo(c);return a|(b&&!1!==b.tooltip&&null!=b.tooltipName)},0),g=[],h=eo(d,"tooltip");return h.length?r(h,function(b){e(d.get(b,a),b)}):r(c,e),(f?"\x3cbr/\x3e":"")+g.join(f?"\x3cbr/\x3e":", ")}(c):ia(oc(c));var e=d.getName(a),f=d.getItemVisual(a,"color");T(f)&&f.colorStops&&(f=(f.colorStops[0]||{}).color);var g=Ri(f=f||"transparent"),f=this.name;return"\x00-"===f&&(f=""),f=f?ia(f)+(b?": ":"\x3cbr/\x3e"):"",b?g+f+c:f+g+(e?ia(e)+": "+c:c)},isAnimationEnabled:function(){if(ca.node)return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){Qe(this,"data",this[Ja+"dataBeforeProcessed"].cloneShallow())},getColorFromPalette:function(a,b){var c=this.ecModel,d=xl.getColorFromPalette.call(this,a,b);return d||(d=c.getColorFromPalette(a,b)),d},getAxisTooltipData:null,getTooltipPosition:null});M(va,vl);M(va,xl);var dc=function(){this.group=new F;this.uid=dj("viewComponent")};dc.prototype={constructor:dc,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){}};var Cl=dc.prototype;Cl.updateView=Cl.updateLayout=Cl.updateVisual=function(a,b,c,d){};Re(dc);$f(dc,{registerWhenExtend:!0});Ta.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){mo(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){mo(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){}};var Dl=Ta.prototype;Dl.updateView=Dl.updateLayout=Dl.updateVisual=function(a,b,c,d){this.render(a,b,c,d)};Re(Ta);$f(Ta,{registerWhenExtend:!0});var qg="\x00__throttleOriginMethod",oo="\x00__throttleRate",no="\x00__throttleType",Dh=Math.PI,Ha=r,vo=V.parseClassType,Bo=1E3,Do=1E3,Eo=3E3,se={PROCESSOR:{FILTER:Bo,STATISTIC:5E3},VISUAL:{LAYOUT:Do,GLOBAL:2E3,CHART:Eo,COMPONENT:4E3,BRUSH:5E3}},Db="__flagInMainProcess",jd="__optionUpdated",Co=/^[a-zA-Z0-9_]+$/;Ze.prototype.on=Ud("on");Ze.prototype.off=Ud("off");Ze.prototype.one=Ud("one");M(Ze,mb);var Y=$e.prototype;Y._onframe=function(){if(this[jd]){var a=this[jd].silent;this[Db]=!0;Vd.prepareAndUpdate.call(this);this[Db]=!1;this[jd]=!1;sg.call(this,a);!a&&this.trigger("updated")}};Y.getDom=function(){return this._dom};Y.getZr=function(){return this._zr};Y.setOption=function(a,b,c){var d;if(T(b)&&(c=b.lazyUpdate,d=b.silent,b=b.notMerge),this[Db]=!0,!this._model||b){b=new hj(this._api);var e=this._theme;(this._model=new Al(null,null,e,b)).init(null,null,e,b)}this._model.setOption(a,Ao);c?(this[jd]={silent:d},this[Db]=!1):(Vd.prepareAndUpdate.call(this),this._zr.flush(),this[jd]=!1,this[Db]=!1,sg.call(this,d),!d&&this.trigger("updated"))};Y.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};Y.getModel=function(){return this._model};Y.getOption=function(){return this._model&&this._model.getOption()};Y.getWidth=function(){return this._zr.getWidth()};Y.getHeight=function(){return this._zr.getHeight()};Y.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};Y.getRenderedCanvas=function(a){if(ca.canvasSupported){(a=a||{}).pixelRatio=a.pixelRatio||1;a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor");var b=this._zr;return r(b.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),b.painter.getRenderedCanvas(a)}};Y.getSvgDataUrl=function(){if(ca.svgSupported){var a=this._zr;return r(a.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),a.painter.pathToSvg()}};Y.getDataURL=function(a){var b=(a=a||{}).excludeComponents,c=this._model,d=[],e=this;Ha(b,function(a){c.eachComponent({mainType:a},function(a){a=e._componentsMap[a.__viewId];a.group.ignore||(d.push(a),a.group.ignore=!0)})});a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return Ha(d,function(a){a.group.ignore=!1}),a};Y.getConnectedDataURL=function(a){if(ca.canvasSupported){var b=this.group,c=Math.min,d=Math.max;if(vg[b]){var e=1/0,f=1/0,g=-1/0,h=-1/0,k=[],l=a&&a.pixelRatio||1;r(kd,function(l,m){if(l.group===b){var n=l.getRenderedCanvas(G(a)),p=l.getDom().getBoundingClientRect();e=c(p.left,e);f=c(p.top,f);g=d(p.right,g);h=d(p.bottom,h);k.push({dom:n,left:p.left,top:p.top})}});var m=(g*=l)-(e*=l),n=(h*=l)-(f*=l),p=Gd();p.width=m;p.height=n;var q=Ki(p);return Ha(k,function(a){a=new db({style:{x:a.left*l-e,y:a.top*l-f,image:a.dom}});q.add(a)}),q.refreshImmediately(),p.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}};Y.convertToPixel=C(so,"convertToPixel");Y.convertFromPixel=C(so,"convertFromPixel");Y.containPixel=function(a,b){var c;return a=Xe(this._model,a),r(a,function(a,e){0<=e.indexOf("Models")&&r(a,function(a){var d=a.coordinateSystem;d&&d.containPoint?c|=!!d.containPoint(b):"seriesModels"===e&&(d=this._chartsMap[a.__viewId])&&d.containPoint&&(c|=d.containPoint(b,a))},this)},this),!!c};Y.getVisual=function(a,b){var c=(a=Xe(this._model,a,{defaultMainType:"series"})).seriesModel.getData(),d=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return null!=d?c.getItemVisual(d,b):c.getVisual(b)};Y.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]};Y.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var Vd={update:function(a){var b=this._model,c=this._api,d=this._coordSysMgr,e=this._zr;b&&(b.restoreData(),d.create(this._model,this._api),hv.call(this,b,c),iv.call(this,b),d.update(b,c),oj.call(this,b,a),kv.call(this,b,a),a=b.get("backgroundColor")||"transparent",d=e.painter,d.isSingleCanvas&&d.isSingleCanvas()?e.configLayer(0,{clearColor:a}):(ca.canvasSupported||(d=jb(a),a=Zb(d,"rgb"),0===d[3]&&(a="transparent")),a.colorStops||a.image?(e.configLayer(0,{clearColor:a}),this.__hasGradientOrPatternBg=!0,this._dom.style.background="transparent"):(this.__hasGradientOrPatternBg&&e.configLayer(0,{clearColor:null}),this.__hasGradientOrPatternBg=!1,this._dom.style.background=a)),Ha(nj,function(a){a(b,c)}))},updateView:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),oj.call(this,b,a),mj.call(this,"updateView",b,a))},updateVisual:function(a){var b=this._model;b&&(b.eachSeries(function(a){a.getData().clearAllVisual()}),oj.call(this,b,a,!0),mj.call(this,"updateVisual",b,a))},updateLayout:function(a){var b=this._model;b&&(jv.call(this,b,a),mj.call(this,"updateLayout",b,a))},prepareAndUpdate:function(a){var b=this._model;yo.call(this,"component",b);yo.call(this,"chart",b);Vd.update.call(this,a)}};Y.resize=function(a){this[Db]=!0;this._zr.resize(a);var b=this._model&&this._model.resetOption("media");Vd[b?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize();this[Db]=!1;a=a&&a.silent;sg.call(this,a);!a&&this.trigger("updated")};Y.showLoading=function(a,b){if(T(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),rj[a]){var c=rj[a](this._api,b),d=this._zr;this._loadingFX=c;d.add(c)}};Y.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};Y.makeActionFromEvent=function(a){var b=I({},a);return b.type=ug[a.type],b};Y.dispatchAction=function(a,b){T(b)||(b={silent:!!b});rg[a.type]&&this._model&&(this[Db]?this._pendingActions.push(a):(uo.call(this,a,b.silent),b.flush?this._zr.flush(!0):!1!==b.flush&&ca.browser.weChat&&this._throttledZrFlush(),sg.call(this,b.silent),!b.silent&&this.trigger("updated")))};Y.on=Ud("on");Y.off=Ud("off");Y.one=Ud("one");var Mz="click dblclick mouseover mouseout mousemove mousedown mouseup globalout contextmenu".split(" ");Y._initEvents=function(){Ha(Mz,function(a){this._zr.on(a,function(b){var c,d=this.getModel(),e=b.target;"globalout"===a?c={}:e&&null!=e.dataIndex?c=(c=e.dataModel||d.getSeriesByIndex(e.seriesIndex))&&c.getDataParams(e.dataIndex,e.dataType)||{}:e&&e.eventData&&(c=I({},e.eventData));c&&(c.event=b,c.type=a,this.trigger(a,c))},this)},this);Ha(ug,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)};Y.isDisposed=function(){return this._disposed};Y.clear=function(){this.setOption({series:[]},!0)};Y.dispose=function(){if(!this._disposed){this._disposed=!0;var a=this._api,b=this._model;Ha(this._componentsViews,function(c){c.dispose(b,a)});Ha(this._chartsViews,function(c){c.dispose(b,a)});this._zr.dispose();delete kd[this.id]}};M($e,mb);var rg={},ug={},lj=[],Ao=[],nj=[],af=[],qo={},rj={},kd={},vg={},Nz=new Date-0,Oz=new Date-0,wg="_echarts_instance_",Ef={};na(2E3,function(a){a.eachRawSeries(function(b){var c=(b.visualColorAccessPath||"itemStyle.normal.color").split("."),d=b.getData(),e=b.get(c)||b.getColorFromPalette(b.get("name"));d.setVisual("color",e);a.isSeriesFiltered(b)||("function"!=typeof e||e instanceof Nc||d.each(function(a){d.setItemVisual(a,"color",e(b.getDataParams(a)))}),d.each(function(a){var b=d.getItemModel(a).get(c,!0);null!=b&&d.setItemVisual(a,"color",b)}))})});oa(ro);Fo("default",function(a,b){J(b=b||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var c=new fa({style:{fill:b.maskColor},zlevel:b.zlevel,z:1E4}),d=new Os({shape:{startAngle:-Dh/2,endAngle:-Dh/2+.1,r:10},style:{stroke:b.color,lineCap:"round",lineWidth:5},zlevel:b.zlevel,z:10001}),e=new fa({style:{fill:"none",text:b.text,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});d.animateShape(!0).when(1E3,{endAngle:3*Dh/2}).start("circularInOut");d.animateShape(!0).when(1E3,{startAngle:3*Dh/2}).delay(300).start("circularInOut");var f=new F;return f.add(d),f.add(e),f.add(c),f.resize=function(){var b=a.getWidth()/2,f=a.getHeight()/2;d.setShape({cx:b,cy:f});var k=d.shape.r;e.setShape({x:b-k,y:f-k,width:2*k,height:2*k});c.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},f.resize(),f});X({type:"highlight",event:"highlight",update:"highlight"},qa);X({type:"downplay",event:"downplay",update:"downplay"},qa);Ac.prototype={constructor:Ac,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var a=this._old,b=this._new,c={},d=[],e=[];Ho(a,{},d,"_oldKeyGetter",this);Ho(b,c,e,"_newKeyGetter",this);for(b=0;b<a.length;b++)null!=(g=c[f=d[b]])?((h=g.length)?(1===h&&(c[f]=null),g=g.unshift()):c[f]=null,this._update&&this._update(g,b)):this._remove&&this._remove(b);for(b=0;b<e.length;b++){var f=e[b];if(c.hasOwnProperty(f)){var g=c[f];if(null!=g)if(g.length)for(var a=0,h=g.length;a<h;a++)this._add&&this._add(g[a]);else this._add&&this._add(g)}}}};var El=T,Eh="undefined"==typeof window?global:window,Pz={"float":void 0===Eh.Float64Array?Array:Eh.Float64Array,"int":void 0===Eh.Int32Array?Array:Eh.Int32Array,ordinal:Array,number:Array,time:Array},mv=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];xg.prototype.pure=!1;xg.prototype.count=function(){return this._array.length};xg.prototype.getItem=function(a){return this._array[a]};var pa=function(a,b){a=a||["x","y"];for(var c={},d=[],e=0;e<a.length;e++){var f,g={};"string"==typeof a[e]?g={name:f=a[e],coordDim:f,coordDimIndex:0,stackable:!1,type:"number"}:(f=(g=a[e]).name,g.type=g.type||"number",g.coordDim||(g.coordDim=f,g.coordDimIndex=0));g.otherDims=g.otherDims||{};d.push(f);c[f]=g}this.dimensions=d;this._dimensionInfos=c;this.hostModel=b;this.dataType;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent},O=pa.prototype;O.type="list";O.hasItemOption=!0;O.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a};O.getDimensionInfo=function(a){return G(this._dimensionInfos[this.getDimension(a)])};O.initData=function(a,b,c){A(a=a||[])&&(a=new xg(a));this._rawData=a;var d,e=this._storage={},f=this.indices=[],g=this.dimensions,h=this._dimensionInfos,k=a.count(),l=[],m={};b=b||[];for(u=0;u<g.length;u++){var n=h[g[u]];0===n.otherDims.itemName&&(d=u);e[g[u]]=new Pz[n.type](k)}var p=this;c||(p.hasItemOption=!1);c=c||function(a,b,c,d){c=We(a);return aj(a)&&(p.hasItemOption=!0),bj(c instanceof Array?c[d]:c,h[b])};for(u=0;u<k;u++){for(var n=a.getItem(u),q=0;q<g.length;q++){var t=g[q];e[t][u]=c(n,t,u,q)}f.push(u)}for(var u=0;u<k;u++)n=a.getItem(u),!b[u]&&n&&(null!=n.name?b[u]=n.name:null!=d&&(b[u]=e[g[d]][u])),c=b[u]||"",f=n&&n.id,!f&&c&&(m[c]=m[c]||0,f=c,0<m[c]&&(f+="__ec__"+m[c]),m[c]++),f&&(l[u]=f);this._nameList=b;this._idList=l};O.count=function(){return this.indices.length};O.get=function(a,b,c){var d=this._storage,e=this.indices[b];if(null==e||!d[a])return NaN;d=d[a][e];if(c&&(c=this._dimensionInfos[a])&&c.stackable)for(c=this.stackedOn;c;)e=c.get(a,b),(0<=d&&0<e||0>=d&&0>e)&&(d+=e),c=c.stackedOn;return d};O.getValues=function(a,b,c){var d=[];A(a)||(c=b,b=a,a=this.dimensions);for(var e=0,f=a.length;e<f;e++)d.push(this.get(a[e],b,c));return d};O.hasValue=function(a){for(var b=this.dimensions,c=this._dimensionInfos,d=0,e=b.length;d<e;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0};O.getDataExtent=function(a,b,c){a=this.getDimension(a);var d=this._storage[a],e=this.getDimensionInfo(a);b=e&&e.stackable&&b;if(e=(this._extent||(this._extent={}))[a+!!b])return e;if(d){for(var e=1/0,f=-1/0,g=0,h=this.count();g<h;g++)d=this.get(a,g,b),c&&!c(d,a,g)||(d<e&&(e=d),d>f&&(f=d));return this._extent[a+!!b]=[e,f]}return[1/0,-1/0]};O.getSum=function(a,b){var c=0;if(this._storage[a])for(var d=0,e=this.count();d<e;d++){var f=this.get(a,d,b);isNaN(f)||(c+=f)}return c};O.indexOf=function(a,b){var c=this._storage[a],d=this.indices;if(c)for(var e=0,f=d.length;e<f;e++)if(c[d[e]]===b)return e;return-1};O.indexOfName=function(a){for(var b=this.indices,c=this._nameList,d=0,e=b.length;d<e;d++)if(c[b[d]]===a)return d;return-1};O.indexOfRawIndex=function(a){var b=this.indices,c=b[a];if(null!=c&&c===a)return a;for(var c=0,d=b.length-1;c<=d;){var e=(c+d)/2|0;if(b[e]<a)c=e+1;else{if(!(b[e]>a))return e;d=e-1}}return-1};O.indicesOfNearest=function(a,b,c,d){var e=[];if(!this._storage[a])return e;null==d&&(d=1/0);for(var f=Number.MAX_VALUE,g=-1,h=0,k=this.count();h<k;h++){var l=b-this.get(a,h,c),m=Math.abs(l);l<=d&&m<=f&&((m<f||0<=l&&0>g)&&(f=m,g=l,e.length=0),e.push(h))}return e};O.getRawIndex=function(a){a=this.indices[a];return null==a?-1:a};O.getRawDataItem=function(a){return this._rawData.getItem(this.getRawIndex(a))};O.getName=function(a){return this._nameList[this.indices[a]]||""};O.getId=function(a){return this._idList[this.indices[a]]||this.getRawIndex(a)+""};O.each=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[],f=(a=w(sj(a),this.getDimension,this)).length,g=this.indices;d=d||this;for(var h=0;h<g.length;h++)switch(f){case 0:b.call(d,h);break;case 1:b.call(d,this.get(a[0],h,c),h);break;case 2:b.call(d,this.get(a[0],h,c),this.get(a[1],h,c),h);break;default:for(var k=0;k<f;k++)e[k]=this.get(a[k],h,c);e[k]=h;b.apply(d,e)}};O.filterSelf=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[],f=[],g=(a=w(sj(a),this.getDimension,this)).length,h=this.indices;d=d||this;for(var k=0;k<h.length;k++){var l;if(g)if(1===g)l=b.call(d,this.get(a[0],k,c),k);else{for(l=0;l<g;l++)f[l]=this.get(a[l],k,c);f[l]=k;l=b.apply(d,f)}else l=b.call(d,k);l&&e.push(h[k])}return this.indices=e,this._extent={},this};O.mapArray=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[];return this.each(a,function(){e.push(b&&b.apply(this,arguments))},c,d),e};O.map=function(a,b,c,d){var e=Jo(this,a=w(sj(a),this.getDimension,this)),f=e.indices=this.indices,g=e._storage,h=[];return this.each(a,function(){var c=arguments[arguments.length-1],d=b&&b.apply(this,arguments);if(null!=d){"number"==typeof d&&(h[0]=d,d=h);for(var e=0;e<d.length;e++){var n=g[a[e]],p=f[c];n&&(n[p]=d[e])}}},c,d),e};O.downSample=function(a,b,c,d){var e=Jo(this,[a]),f=this._storage,g=e._storage,h=this.indices,k=e.indices=[],l=[],m=[];b=Math.floor(1/b);for(var n=g[a],p=this.count(),q=0;q<f[a].length;q++)g[a][q]=f[a][q];for(q=0;q<p;q+=b){b>p-q&&(b=p-q,l.length=b);for(f=0;f<b;f++)a=h[q+f],l[f]=n[a],m[f]=a;f=c(l);n[a=m[d(l,f)||0]]=f;k.push(a)}return e};O.getItemModel=function(a){var b=this.hostModel;return a=this.indices[a],new W(this._rawData.getItem(a),b,b&&b.ecModel)};O.diff=function(a){var b,c=this._idList,d=a&&a._idList;return new Ac(a?a.indices:[],this.indices,function(a){return null!=(b=d[a])?b:"e\x00\x00"+a},function(a){return null!=(b=c[a])?b:"e\x00\x00"+a})};O.getVisual=function(a){var b=this._visual;return b&&b[a]};O.setVisual=function(a,b){if(El(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b};O.setLayout=function(a,b){if(El(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b};O.getLayout=function(a){return this._layout[a]};O.getItemLayout=function(a){return this._itemLayouts[a]};O.setItemLayout=function(a,b,c){this._itemLayouts[a]=c?I(this._itemLayouts[a]||{},b):b};O.clearItemLayouts=function(){this._itemLayouts.length=0};O.getItemVisual=function(a,b,c){a=(a=this._itemVisuals[a])&&a[b];return null!=a||c?a:this.getVisual(b)};O.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{};if(this._itemVisuals[a]=d,El(b))for(var e in b)b.hasOwnProperty(e)&&(d[e]=b[e]);else d[b]=c};O.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var Qz=function(a){a.seriesIndex=this.seriesIndex;a.dataIndex=this.dataIndex;a.dataType=this.dataType};O.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(Qz,b));this._graphicEls[a]=b};O.getItemGraphicEl=function(a){return this._graphicEls[a]};O.eachItemGraphicEl=function(a,b){r(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})};O.cloneShallow=function(){var a=w(this.dimensions,this.getDimensionInfo,this),a=new pa(a,this.hostModel);return a._storage=this._storage,Io(a,this),a.indices=this.indices.slice(),this._extent&&(a._extent=I({},this._extent)),a};O.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(fi(arguments)))})};O.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];O.CHANGABLE_METHODS=["filterSelf"];var yg=r,zg=Da,Lo=J,nv={tooltip:1,label:1,itemName:1},ov=ab.guessOrdinal=function(a,b){for(var c=0,d=a.length;c<d;c++){var e=Ko(a[c]);if(!A(e)||null!=(e=e[b])&&isFinite(e)&&""!==e)break;if(zg(e)&&"-"!==e)return!0}return!1},qv={cartesian2d:function(a,b,c,d){var e=w(["xAxis","yAxis"],function(a){return c.queryComponents({mainType:a,index:b.get(a+"Index"),id:b.get(a+"Id")})[0]}),f=e[0],e=e[1],g=f.get("type"),h=e.get("type"),k=[{name:"x",type:df(g),stackable:cf(g)},{name:"y",type:df(h),stackable:cf(h)}],g="category"===g,h="category"===h,k=ab(k,a,d);a={};return g&&(a.x=f),h&&(a.y=e),{dimensions:k,categoryIndex:g?0:h?1:-1,categoryAxesModels:a}},singleAxis:function(a,b,c,d){b=c.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];var e=b.get("type");c="category"===e;e=[{name:"single",type:df(e),stackable:cf(e)}];e=ab(e,a,d);a={};return c&&(a.single=b),{dimensions:e,categoryIndex:c?0:-1,categoryAxesModels:a}},polar:function(a,b,c,d){c=c.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];b=c.findAxisModel("angleAxis");c=c.findAxisModel("radiusAxis");var e=c.get("type"),f=b.get("type"),g=[{name:"radius",type:df(e),stackable:cf(e)},{name:"angle",type:df(f),stackable:cf(f)}],f="category"===f,e="category"===e,g=ab(g,a,d);a={};return e&&(a.radius=c),f&&(a.angle=b),{dimensions:g,categoryIndex:f?1:e?0:-1,categoryAxesModels:a}},geo:function(a,b,c,d){return{dimensions:ab([{name:"lng"},{name:"lat"}],a,d)}}};za.prototype.parse=function(a){return a};za.prototype.getSetting=function(a){return this._setting[a]};za.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]};za.prototype.normalize=function(a){var b=this._extent;return b[1]===b[0]?.5:(a-b[0])/(b[1]-b[0])};za.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]};za.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1])};za.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getDataExtent(b,!0))};za.prototype.getExtent=function(){return this._extent.slice()};za.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a);isNaN(b)||(c[1]=b)};za.prototype.getTicksLabels=function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a};za.prototype.isBlank=function(){return this._isBlank};za.prototype.setBlank=function(a){this._isBlank=a};Re(za);$f(za,{registerWhenExtend:!0});var Fl=za.prototype,tj=za.extend({type:"ordinal",init:function(a,b){this._data=a;this._extent=b||[0,a.length-1]},parse:function(a){return"string"==typeof a?S(this._data,a):Math.round(a)},contain:function(a){return a=this.parse(a),Fl.contain.call(this,a)&&null!=this._data[a]},normalize:function(a){return Fl.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(Fl.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){return this._data[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!1))},niceTicks:qa,niceExtent:qa});tj.create=function(){return new tj};var Eb=za.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a));isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1]);Eb.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice();this._intervalPrecision=nc(a)+2},getTicks:function(){var a;a:{a=this._interval;var b=this._extent,c=this._niceExtent,d=this._intervalPrecision,e=[];if(a){b[0]<c[0]&&e.push(b[0]);for(var f=c[0];f<=c[1]&&(e.push(f),(f=ra(f+a,d))!==e[e.length-1]);)if(1E4<e.length){a=[];break a}a=(b[1]>(e.length?e[e.length-1]:c[1])&&e.push(b[1]),e)}else a=e}return a},getTicksLabels:function(){for(var a=[],b=this.getTicks(),c=0;c<b.length;c++)a.push(this.getLabel(b[c]));return a},getLabel:function(a,b){if(null==a)return"";var c=b&&b.precision;return null==c?c=nc(a)||0:"auto"===c&&(c=this._intervalPrecision),a=ra(a,c,!0),oc(a)},niceTicks:function(a,b,c){a=a||5;var d=this._extent,e=d[1]-d[0];isFinite(e)&&(0>e&&d.reverse(),e={},a=e.interval=Oi((d[1]-d[0])/a,!0),null!=b&&a<b&&(a=e.interval=b),null!=c&&a>c&&(a=e.interval=c),b=e.intervalPrecision=nc(a)+2,d=(Mo(e.niceTickExtent=[ra(Math.ceil(d[0]/a)*a,b),ra(Math.floor(d[1]/a)*a,b)],d),e),this._intervalPrecision=d.intervalPrecision,this._interval=d.interval,this._niceExtent=d.niceTickExtent)},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var c=b[0];a.fixMax?b[0]-=c/2:(b[1]+=c/2,b[0]-=c/2)}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1);this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=ra(Math.floor(b[0]/c)*c));a.fixMax||(b[1]=ra(Math.ceil(b[1]/c)*c))}});Eb.create=function(){return new Eb};var Rz=Eb.prototype,Ss=Math.ceil,Ts=Math.floor,Hl=Eb.extend({type:"time",getLabel:function(a){return Si(this._stepLvl[0],new Date(a),this.getSetting("useUTC"))},niceExtent:function(a){var b=this._extent;if(b[0]===b[1]&&(b[0]-=864E5,b[1]+=864E5),b[1]===-1/0&&b[0]===1/0){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate());b[0]=b[1]-864E5}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=ra(Ts(b[0]/c)*c));a.fixMax||(b[1]=ra(Ss(b[1]/c)*c))},niceTicks:function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0],f=e/a;null!=b&&f<b&&(f=b);null!=c&&f>c&&(f=c);b=Gl.length;c=0;for(var g=b;c<g;){var h=c+g>>>1;Gl[h][1]<f?c=h+1:g=h}f=Gl[Math.min(c,b-1)];b=f[1];"year"===f[0]&&(b*=Oi(e/b/a,!0));a=this.getSetting("useUTC")?0:6E4*(new Date(+d[0]||+d[1])).getTimezoneOffset();a=[Math.round(Ss((d[0]-a)/b)*b+a),Math.round(Ts((d[1]-a)/b)*b+a)];Mo(a,d);this._stepLvl=f;this._interval=b;this._niceExtent=a},parse:function(a){return+Oe(a)}});r(["contain","normalize"],function(a){Hl.prototype[a]=function(b){return Rz[a].call(this,this.parse(b))}});var Gl=[["hh:mm:ss",1E3],["hh:mm:ss",5E3],["hh:mm:ss",1E4],["hh:mm:ss",15E3],["hh:mm:ss",3E4],["hh:mm\nMM-dd",6E4],["hh:mm\nMM-dd",3E5],["hh:mm\nMM-dd",6E5],["hh:mm\nMM-dd",9E5],["hh:mm\nMM-dd",18E5],["hh:mm\nMM-dd",36E5],["hh:mm\nMM-dd",72E5],["hh:mm\nMM-dd",216E5],["hh:mm\nMM-dd",432E5],["MM-dd\nyyyy",864E5],["MM-dd\nyyyy",1728E5],["MM-dd\nyyyy",2592E5],["MM-dd\nyyyy",3456E5],["MM-dd\nyyyy",432E6],["MM-dd\nyyyy",5184E5],["week",6048E5],["MM-dd\nyyyy",864E6],["week",12096E5],["week",18144E5],["month",26784E5],["week",36288E5],["month",53568E5],["week",36288E5],["quarter",8208E6],["month",107136E5],["month",13392E6],["half-year",16416E6],["month",214272E5],["month",26784E6],["year",32832E6]];Hl.create=function(a){return new Hl({useUTC:a.ecModel.get("useUTC")})};var Fh=za.prototype,Gh=Eb.prototype,Sz=Math.floor,Tz=Math.ceil,Hh=Math.pow,Sb=Math.log,Il=za.extend({type:"log",base:10,$constructor:function(){za.apply(this,arguments);this._originalScale=new Eb},getTicks:function(){var a=this._originalScale,b=this._extent,c=a.getExtent();return w(Gh.getTicks.call(this),function(d){var e=ra(Hh(this.base,d));return e=d===b[0]&&a.__fixMin?ra(e,nc(c[0])):e,d===b[1]&&a.__fixMax?ra(e,nc(c[1])):e},this)},getLabel:Gh.getLabel,scale:function(a){return a=Fh.scale.call(this,a),Hh(this.base,a)},setExtent:function(a,b){var c=this.base;a=Sb(a)/Sb(c);b=Sb(b)/Sb(c);Gh.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=Fh.getExtent.call(this);b[0]=Hh(a,b[0]);b[1]=Hh(a,b[1]);var a=this._originalScale,c=a.getExtent();return a.__fixMin&&(b[0]=ra(b[0],nc(c[0]))),a.__fixMax&&(b[1]=ra(b[1],nc(c[1]))),b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=Sb(a[0])/Sb(b);a[1]=Sb(a[1])/Sb(b);Fh.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getDataExtent(b,!0,function(a){return 0<a}))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(c===1/0||0>=c)){var d=rn(c);for(.5>=a/c*d&&(d*=10);!isNaN(d)&&1>Math.abs(d)&&0<Math.abs(d);)d*=10;a=[ra(Tz(b[0]/d)*d),ra(Sz(b[1]/d)*d)];this._interval=d;this._niceExtent=a}},niceExtent:function(a){Gh.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin;b.__fixMax=a.fixMax}});r(["contain","normalize"],function(a){Il.prototype[a]=function(b){return b=Sb(b)/Sb(this.base),Fh[a].call(this,b)}});Il.create=function(){return new Il};var zd={getFormattedLabels:function(){return uj(this.axis,this.get("axisLabel.formatter"))},getCategories:function(){return"category"===this.get("type")&&w(this.get("data"),sv)},getMin:function(a){var b=this.option;a=a||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=a&&"dataMin"!==a&&"function"!=typeof a&&!Ce(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(a){var b=this.option;a=a||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=a&&"dataMax"!==a&&"function"!=typeof a&&!Ce(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var a=this.option;return null==a.rangeStart&&null==a.rangeEnd&&!a.scale},getCoordSysModel:qa,setRange:function(a,b){this.option.rangeStart=a;this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Uz=ub({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f);a.lineTo(c+e,d+f);a.lineTo(c-e,d+f);a.closePath()}}),Vz=ub({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2,f=b.height/2;a.moveTo(c,d-f);a.lineTo(c+e,d);a.lineTo(c,d+f);a.lineTo(c-e,d);a.closePath()}}),Wz=ub({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,f=Math.max(e,b.height),e=e/2,g=e*e/(f-e),f=d-f+e+g,h=Math.asin(g/e),k=Math.cos(h)*e,l=Math.sin(h),m=Math.cos(h),n=.6*e,p=.7*e;a.moveTo(c-k,f+g);a.arc(c,f,e,Math.PI-h,2*Math.PI+h);a.bezierCurveTo(c+k-l*n,f+g+m*n,c,d-p,c,d);a.bezierCurveTo(c,d-p,c-k+l*n,f+g+m*n,c-k,f+g);a.closePath()}}),Xz=ub({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.x,e=b.y,f=b.width/3*2;a.moveTo(d,e);a.lineTo(d+f,e+c);a.lineTo(d,e+c/4*3);a.lineTo(d-f,e+c);a.lineTo(d,e);a.closePath()}}),Yz={line:function(a,b,c,d,e){e.x1=a;e.y1=b+d/2;e.x2=a+c;e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d},roundRect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){c=Math.min(c,d);e.x=a;e.y=b;e.width=c;e.height=c},circle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},triangle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d}},Jl={};r({line:pb,rect:fa,roundRect:fa,square:fa,circle:yd,diamond:Vz,pin:Wz,arrow:Xz,triangle:Uz},function(a,b){Jl[b]=new a});var uv=ub({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style;"pin"===this.shape.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(a,b,c){var d=b.symbolType,e=Jl[d];"none"!==b.symbolType&&(e||(e=Jl[d="rect"]),Yz[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c))}}),Zz=(Object.freeze||Object)({createList:function(a){return Bc(a.get("data"),a,a.ecModel)},createScale:function(a,b){var c=b;b instanceof W||M(c=new W(b),zd);var d=Wd(c);return d.setExtent(a[0],a[1]),Cc(d,c),d},mixinAxisModelCommonMethods:function(a){M(a,zd)},completeDimensions:ab,createSymbol:nb}),Us=[0,1],Aa=function(a,b,c){this.dim=a;this.scale=b;this._extent=c||[0,0];this.onBand=this.inverse=!1;this._labelInterval};Aa.prototype={constructor:Aa,contain:function(a){var b=this._extent,c=Math.max(b[0],b[1]);return a>=Math.min(b[0],b[1])&&a<=c},containData:function(a){return this.contain(this.dataToCoord(a))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return Mi(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a;c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;return a=d.normalize(a),this.onBand&&"ordinal"===d.type&&Po(c=c.slice(),d.count()),ba(a,Us,c,b)},coordToData:function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&Po(c=c.slice(),d.count());c=ba(a,c,Us,b);return this.scale.scale(c)},pointToData:function(a,b){},getTicksCoords:function(a){if(this.onBand&&!a){a=this.getBands();for(var b=[],c=0;c<a.length;c++)b.push(a[c][0]);return a[c-1]&&b.push(a[c-1][1]),b}return w(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return w(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var a=this.getExtent(),b=[],c=this.scale.count(),d=a[0],a=a[1]-d,e=0;e<c;e++)b.push([a*e/c+d,a*(e+1)/c+d]);return b},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent(),b=b[1]-b[0]+(this.onBand?1:0);0===b&&(b=1);return Math.abs(Math.abs(a[1]-a[0]))/b},isHorizontal:null,getRotate:null,getLabelInterval:function(){var a=this._labelInterval;if(!a){var b=this.model,c=b.getModel("axisLabel"),a=c.get("interval");"category"!==this.type||null!=a&&"auto"!==a||(a=Oo(w(this.scale.getTicks(),this.dataToCoord,this),b.getFormattedLabels(),c.getFont(),this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0,c.get("rotate")));this._labelInterval=a}return a}};var Qo=1E-8;Ag.prototype={constructor:Ag,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;for(var b=Number.MAX_VALUE,a=[b,b],b=[-b,-b],c=[],d=[],e=this.geometries,f=0;f<e.length;f++)"polygon"===e[f].type&&(An(e[f].exterior,c,d),Wb(a,a,c),Xb(b,b,d));return 0===f&&(a[0]=a[1]=b[0]=b[1]=0),this._rect=new U(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;var b=0,d=c.length;a:for(;b<d;b++)if("polygon"===c[b].type){var e=c[b].interiors;if(ld(c[b].exterior,a[0],a[1])){for(var f=0;f<(e?e.length:0);f++)if(ld(e[f]))continue a;return!0}}return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=e.width/e.height;c?d||(d=c/f):c=f*d;a=new U(a,b,c,d);e=e.calculateTransform(a);b=this.geometries;for(c=0;c<b.length;c++)if("polygon"===b[c].type){var g=b[c].exterior;d=b[c].interiors;for(f=0;f<g.length;f++)da(g[f],g[f],e);for(g=0;g<(d?d.length:0);g++)for(f=0;f<d[g].length;f++)da(d[g][f],d[g][f],e)}(e=this._rect).copy(a);this.center=[e.x+e.width/2,e.y+e.height/2]}};var Vs=function(a){return vv(a),w(Ca(a.features,function(a){return a.geometry&&a.properties&&0<a.geometry.coordinates.length}),function(a){var b=a.properties;a=a.geometry;var d=a.coordinates,e=[];"Polygon"===a.type&&e.push({type:"polygon",exterior:d[0],interiors:d.slice(1)});"MultiPolygon"===a.type&&r(d,function(a){a[0]&&e.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})});a=new Ag(b.name,e,b.cp);return a.properties=b,a})},Ws={};r("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults clone merge".split(" "),function(a){Ws[a]=tz[a]});va.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return Bc(a.data,this,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var qb=Xd.prototype;qb._createSymbol=function(a,b,c,d){this.removeAll();b=nb(a,-1,-1,2,2,b.getItemVisual(c,"color"));b.attr({z2:100,culling:!0,scale:[d[0]/2,d[1]/2]});b.drift=wv;this._symbolType=a;this.add(b)};qb.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)};qb.getSymbolPath=function(){return this.childAt(0)};qb.getScale=function(){return this.childAt(0).scale};qb.highlight=function(){this.childAt(0).trigger("emphasis")};qb.downplay=function(){this.childAt(0).trigger("normal")};qb.setZ=function(a,b){var c=this.childAt(0);c.zlevel=a;c.z=b};qb.setDraggable=function(a){var b=this.childAt(0);b.draggable=a;b.cursor=a?"move":"pointer"};qb.updateData=function(a,b,c){this.silent=!1;var d=a.getItemVisual(b,"symbol")||"circle",e=a.hostModel,f;f=a.getItemVisual(b,"symbolSize");f=f instanceof Array?f.slice():[+f,+f];var g=d!==this._symbolType;if(g?this._createSymbol(d,a,b,f):((h=this.childAt(0)).silent=!1,Z(h,{scale:[f[0]/2,f[1]/2]},e,b)),this._updateCommon(a,b,f,c),g){var h=this.childAt(0);a=c&&c.fadeIn;c={scale:h.scale.slice()};a&&(c.style={opacity:h.style.opacity});h.scale=[0,0];a&&(h.style.opacity=0);Ga(h,c,e,b)}this._seriesModel=e};var $z=["itemStyle","normal"],aA=["itemStyle","emphasis"],bA=["label","normal"],cA=["label","emphasis"];qb._updateCommon=function(a,b,c,d){var e=this.childAt(0),f=a.hostModel,g=a.getItemVisual(b,"color");"image"!==e.type&&e.useStyle({strokeNoScale:!0});var h=d&&d.itemStyle,k=d&&d.hoverItemStyle,l=d&&d.symbolRotate,m=d&&d.symbolOffset,n=d&&d.labelModel,p=d&&d.hoverLabelModel,q=d&&d.hoverAnimation,t=d&&d.cursorStyle;if(!d||a.hasItemOption)var u=d&&d.itemModel?d.itemModel:a.getItemModel(b),h=u.getModel($z).getItemStyle(["color"]),k=u.getModel(aA).getItemStyle(),l=u.getShallow("symbolRotate"),m=u.getShallow("symbolOffset"),n=u.getModel(bA),p=u.getModel(cA),q=u.getShallow("hoverAnimation"),t=u.getShallow("cursor");else k=I({},k);u=e.style;e.attr("rotation",(l||0)*Math.PI/180||0);m&&e.attr("position",[B(m[0],c[0]),B(m[1],c[1])]);t&&e.attr("cursor",t);e.setColor(g,d&&d.symbolInnerColor);e.setStyle(h);h=a.getItemVisual(b,"opacity");null!=h&&(u.opacity=h);d=d&&d.useNameLabel;h=!d&&So(a);(d||null!=h)&&Cb(u,k,n,p,{labelFetcher:f,labelDataIndex:b,defaultText:d?a.getName(b):a.get(h,b),isRectText:!0,autoColor:g});e.off("mouseover").off("mouseout").off("emphasis").off("normal");e.hoverStyle=k;ma(e);var v=[c[0]/2,c[1]/2];q&&f.isAnimationEnabled()&&(a=function(){this.animateTo({scale:[Math.max(1.1*v[0],v[0]+3),Math.max(1.1*v[1],v[1]+v[1]/v[0]*3)]},400,"elasticOut")},b=function(){this.animateTo({scale:v},400,"elasticOut")},e.on("mouseover",a).on("mouseout",b).on("emphasis",a).on("normal",b))};qb.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0;b&&b.keepLabel||(c.style.text=null);Z(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)};ka(Xd,F);var Kl=Yd.prototype;Kl.updateData=function(a,b){var c=this.group,d=a.hostModel,e=this._data,f=this._symbolCtor,g={itemStyle:d.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:d.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:d.get("symbolRotate"),symbolOffset:d.get("symbolOffset"),hoverAnimation:d.get("hoverAnimation"),labelModel:d.getModel("label.normal"),hoverLabelModel:d.getModel("label.emphasis"),cursorStyle:d.get("cursor")};a.diff(e).add(function(d){var e=a.getItemLayout(d);if(To(a,d,b)){var h=new f(a,d,g);h.attr("position",e);a.setItemGraphicEl(d,h);c.add(h)}}).update(function(h,k){var l=e.getItemGraphicEl(k),m=a.getItemLayout(h);To(a,h,b)?(l?(l.updateData(a,h,g),Z(l,{position:m},d)):(l=new f(a,h)).attr("position",m),c.add(l),a.setItemGraphicEl(h,l)):c.remove(l)}).remove(function(a){var b=e.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)})}).execute();this._data=a};Kl.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){var d=a.getItemLayout(c);b.attr("position",d)})};Kl.remove=function(a){var b=this.group,c=this._data;c&&(a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll())};var dA=function(a,b,c,d,e,f){for(var g=xv(a,b),h=[],k=[],l=[],m=[],n=[],p=[],q=[],t=f.dimensions,u=0;u<g.length;u++){var v=g[u],r=!0;switch(v.cmd){case "\x3d":var P=a.getItemLayout(v.idx),y=b.getItemLayout(v.idx1);(isNaN(P[0])||isNaN(P[1]))&&(P=y.slice());h.push(P);k.push(y);l.push(c[v.idx]);m.push(d[v.idx1]);q.push(b.getRawIndex(v.idx1));break;case "+":P=v.idx;h.push(e.dataToPoint([b.get(t[0],P,!0),b.get(t[1],P,!0)]));k.push(b.getItemLayout(P).slice());l.push(Vo(e,b,P));m.push(d[P]);q.push(b.getRawIndex(P));break;case "-":P=v.idx,y=a.getRawIndex(P),y!==P?(h.push(a.getItemLayout(P)),k.push(f.dataToPoint([a.get(t[0],P,!0),a.get(t[1],P,!0)])),l.push(c[P]),m.push(Vo(f,a,P)),q.push(y)):r=!1}r&&(n.push(v),p.push(p.length))}p.sort(function(a,b){return q[a]-q[b]});a=[];b=[];c=[];d=[];e=[];for(u=0;u<p.length;u++)P=p[u],a[u]=h[P],b[u]=k[P],c[u]=l[P],d[u]=m[P],e[u]=n[P];return{current:a,next:b,stackedOnCurrent:c,stackedOnNext:d,status:e}},Yo=Wb,Zo=Xb,Xo=De,Wo=cb,xj=[],Ec=[],Fc=[],eA=ea.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:ul(ea.prototype.brush),buildPath:function(a,b){var c=b.points,d=0,e=c.length,f=yj(c,b.smoothConstraint);if(b.connectNulls){for(;0<e&&Dc(c[e-1]);e--);for(;d<e&&Dc(c[d]);d++);}for(;d<e;)d+=wj(a,c,d,e,e,1,f.min,f.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),Xs=ea.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:ul(ea.prototype.brush),buildPath:function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,f=c.length,g=b.smoothMonotone,h=yj(c,b.smoothConstraint),k=yj(d,b.smoothConstraint);if(b.connectNulls){for(;0<f&&Dc(c[f-1]);f--);for(;e<f&&Dc(c[e]);e++);}for(;e<f;){var l=wj(a,c,e,f,f,1,h.min,h.max,b.smooth,g,b.connectNulls);wj(a,d,e+l-1,l,f,-1,k.min,k.max,b.stackedOnSmooth,g,b.connectNulls);e+=l+1;a.closePath()}}});Ta.extend({type:"line",init:function(){var a=new F,b=new Yd;this.group.add(b.group);this._symbolDraw=b;this._lineGroup=a},render:function(a,b,c){b=a.coordinateSystem;var d=this.group,e=a.getData(),f=a.getModel("lineStyle.normal"),g=a.getModel("areaStyle.normal"),h=e.mapArray(e.getItemLayout,!0),k="polar"===b.type,l=this._coordSys,m=this._symbolDraw,n=this._polyline,p=this._polygon,q=this._lineGroup,t=a.get("animation"),u=!g.isEmpty(),v=yv(b,e),r=a.get("showSymbol"),P=r&&!k&&!a.get("showAllSymbol")&&this._getSymbolIgnoreFunc(e,b),y=this._data;y&&y.eachItemGraphicEl(function(a,b){a.__temp&&(d.remove(a),y.setItemGraphicEl(b,null))});r||m.remove();d.add(q);k=!k&&a.get("step");n&&l.type===b.type&&k===this._step?(u&&!p?p=this._newPolygon(h,v,b,t):p&&!u&&(q.remove(p),p=this._polygon=null),q.setClipPath(dp(b,!1,a)),r&&m.updateData(e,P),e.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),$o(this._stackedOnPoints,v)&&$o(this._points,h)||(t?this._updateAnimation(e,v,b,c,k):(k&&(h=Hc(h,b,k),v=Hc(v,b,k)),n.setShape({points:h}),p&&p.setShape({points:h,stackedOnPoints:v})))):(r&&m.updateData(e,P),k&&(h=Hc(h,b,k),v=Hc(v,b,k)),n=this._newPolyline(h,b,t),u&&(p=this._newPolygon(h,v,b,t)),q.setClipPath(dp(b,!0,a)));c=zv(e,b)||e.getVisual("color");n.useStyle(J(f.getLineStyle(),{fill:"none",stroke:c,lineJoin:"bevel"}));f=a.get("smooth");if(f=ap(a.get("smooth")),n.setShape({smooth:f,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}),p)n=e.stackedOn,l=0,p.useStyle(J(g.getAreaStyle(),{fill:c,opacity:.7,lineJoin:"bevel"})),n&&(l=ap(n.hostModel.get("smooth"))),p.setShape({smooth:f,stackedOnSmooth:l,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});this._data=e;this._coordSys=b;this._stackedOnPoints=v;this._points=h;this._step=k},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),f=lg(e,d);if(!(f instanceof Array)&&null!=f&&0<=f){b=e.getItemGraphicEl(f);if(!b){c=e.getItemLayout(f);if(!c)return;(b=new Xd(e,f)).position=c;b.setZ(a.get("zlevel"),a.get("z"));b.ignore=isNaN(c[0])||isNaN(c[1]);b.__temp=!0;e.setItemGraphicEl(f,b);b.stopSymbolAnimation(!0);this.group.add(b)}b.highlight()}else Ta.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),f=lg(e,d);null!=f&&0<=f?(a=e.getItemGraphicEl(f))&&(a.__temp?(e.setItemGraphicEl(f,null),this.group.remove(a)):a.downplay()):Ta.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new eA({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new Xs({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=c,c},_getSymbolIgnoreFunc:function(a,b){var c=b.getAxesByScale("ordinal")[0];if(c&&c.isLabelIgnored)return z(c.isLabelIgnored,c)},_updateAnimation:function(a,b,c,d,e){var f=this._polyline;d=this._polygon;var g=a.hostModel;b=dA(this._data,a,this._stackedOnPoints,b,this._coordSys,c);var h=b.current,k=b.stackedOnCurrent,l=b.next,m=b.stackedOnNext;e&&(h=Hc(b.current,c,e),k=Hc(b.stackedOnCurrent,c,e),l=Hc(b.next,c,e),m=Hc(b.stackedOnNext,c,e));f.shape.__points=b.current;f.shape.points=h;Z(f,{shape:{points:l}},g);d&&(d.setShape({points:h,stackedOnPoints:k}),Z(d,{shape:{points:l,stackedOnPoints:m}},g));var n=[];c=b.status;for(e=0;e<c.length;e++)"\x3d"===c[e].cmd&&(d=a.getItemGraphicEl(c[e].idx1))&&n.push({el:d,ptIdx:e});f.animators&&f.animators.length&&f.animators[0].during(function(){for(var a=0;a<n.length;a++)n[a].el.attr("position",f.shape.__points[n[a].ptIdx])})},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(a,e){a.__temp&&(b.remove(a),c.setItemGraphicEl(e,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Ad=function(a,b,c,d,e){d.eachRawSeriesByType(a,function(a){var e=a.getData(),f=a.get("symbol")||b,k=a.get("symbolSize");e.setVisual({legendSymbol:c||f,symbol:f,symbolSize:k});d.isSeriesFiltered(a)||("function"==typeof k&&e.each(function(b){var c=a.getRawValue(b),d=a.getDataParams(b);e.setItemVisual(b,"symbolSize",k(c,d))}),e.each(function(a){var b=e.getItemModel(a),c=b.getShallow("symbol",!0),b=b.getShallow("symbolSize",!0);null!=c&&e.setItemVisual(a,"symbol",c);null!=b&&e.setItemVisual(a,"symbolSize",b)}))})},Ll=function(a,b){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.coordinateSystem;if(c){for(var f=[],g=c.dimensions,h=0;h<g.length;h++)f.push(a.coordDimToDataDim(c.dimensions[h])[0]);1===f.length?b.each(f[0],function(a,d){b.setItemLayout(d,isNaN(a)?[NaN,NaN]:c.dataToPoint(a))}):2===f.length&&b.each(f,function(a,d,e){b.setItemLayout(e,isNaN(a)||isNaN(d)?[NaN,NaN]:c.dataToPoint([a,d]))},!0)}})},fA={average:function(a){for(var b=0,c=0,d=0;d<a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return b},min:function(a){for(var b=1/0,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return b},nearest:function(a){return a[0]}},gA=function(a,b){return Math.round(a.length/2)},Bg=function(a){this._axes={};this._dimList=[];this.name=a||""};Bg.prototype={constructor:Bg,type:"cartesian",getAxis:function(a){return this._axes[a]},getAxes:function(){return w(this._dimList,Av,this)},getAxesByScale:function(a){return a=a.toLowerCase(),Ca(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a;this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){for(var c=this._dimList,d=a instanceof Array?[]:{},e=0;e<c.length;e++){var f=c[e];d[f]=this._axes[f][b](a[f])}return d}};ef.prototype={constructor:ef,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.toGlobalCoord(c.dataToCoord(a[0],b)),d.toGlobalCoord(d.dataToCoord(a[1],b))]},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");return[c.coordToData(c.toLocalCoord(a[0]),b),d.coordToData(d.toLocalCoord(a[1]),b)]},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}};ka(ef,Bg);var Ih=function(a,b,c,d,e){Aa.call(this,a,b,c);this.type=d||"value";this.position=e||"bottom"};Ih.prototype={constructor:Ih,index:0,onZero:!1,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},getOtherAxis:function(){this.grid.getOtherAxis()},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null};ka(Ih,Aa);var Ys={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Oc={};Oc.categoryAxis=L({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Ys);Oc.valueAxis=L({boundaryGap:[0,0],splitNumber:5},Ys);Oc.timeAxis=J({scale:!0,min:"dataMin",max:"dataMax"},Oc.valueAxis);Oc.logAxis=J({scale:!0,logBase:10},Oc.valueAxis);var hA=["value","category","time","log"],te=function(a,b,c,d){r(hA,function(e){b.extend({type:a+"Axis."+e,mergeDefaultAndTheme:function(b,d){var f=this.layoutMode,g=f?hd({},b):{};L(b,d.getTheme().get(e+"Axis"));L(b,this.getDefaultOption());b.type=c(a,b);f&&xc(b,g,f)},defaultOption:Ae([{},Oc[e+"Axis"],d],!0)})});V.registerSubTypeDefaulter(a+"Axis",C(c,a))},ue=V.extend({type:"cartesian2dAxis",axis:null,init:function(){ue.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){ue.superApply(this,"mergeOption",arguments);this.resetRange()},restoreData:function(){ue.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});L(ue.prototype,zd);var Zs={offset:0};te("x",ue,ep,Zs);te("y",ue,ep,Zs);V.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var bb=$d.prototype;bb.type="grid";bb.axisPointerEnabled=!0;bb.getRect=function(){return this._rect};bb.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model);r(c.x,function(a){Cc(a.scale,a.model)});r(c.y,function(a){Cc(a.scale,a.model)});r(c.x,function(a){fp(c,"y",a)});r(c.y,function(a){fp(c,"x",a)});this.resize(this.model,b)};bb.resize=function(a,b,c){function d(){r(f,function(a){var b=a.isHorizontal(),c=b?[0,e.width]:[0,e.height],d=a.inverse?1:0;a.setExtent(c[d],c[1-d]);Bv(a,b?e.x:e.y)})}var e=ya(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=e;var f=this._axesList;d();!c&&a.get("containLabel")&&(r(f,function(a){if(!a.model.get("axisLabel.inside")){var b,c=a.model,d=c.getFormattedLabels(),c=c.getModel("axisLabel"),f=1,g=d.length;40<g&&(f=Math.ceil(g/40));for(var p=0;p<g;p+=f)if(!a.isLabelIgnored(p)){var q,t=c.getTextRect(d[p]);q=(c.get("rotate")||0)*Math.PI/180;var t=t.plain(),u=t.width,v=t.height;q=new U(t.x,t.y,u*Math.cos(q)+v*Math.sin(q),u*Math.sin(q)+v*Math.cos(q));b?b.union(q):b=q}b&&(d=a.isHorizontal()?"height":"width",c=a.model.get("axisLabel.margin"),e[d]-=b[d]+c,"top"===a.position?e.y+=b.height+c:"left"===a.position&&(e.x+=b.width+c))}}),d())};bb.getAxis=function(a,b){var c=this._axesMap[a];if(null!=c){if(null==b)for(var d in c)if(c.hasOwnProperty(d))return c[d];return c[b]}};bb.getAxes=function(){return this._axesList.slice()};bb.getCartesian=function(a,b){if(null!=a&&null!=b)return this._coordsMap["x"+a+"y"+b];T(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var c=0,d=this._coordsList;c<d.length;c++)if(d[c].getAxis("x").index===a||d[c].getAxis("y").index===b)return d[c]};bb.getCartesians=function(){return this._coordsList.slice()};bb.convertToPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.dataToPoint(c):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(c)):null};bb.convertFromPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.pointToData(c):a.axis?a.axis.coordToData(a.axis.toLocalCoord(c)):null};bb._findConvertTarget=function(a,b){var c,d,e=b.seriesModel,f=b.xAxisModel||e&&e.getReferringComponents("xAxis")[0],g=b.yAxisModel||e&&e.getReferringComponents("yAxis")[0],h=b.gridModel,k=this._coordsList;return e?0>S(k,c=e.coordinateSystem)&&(c=null):f&&g?c=this.getCartesian(f.componentIndex,g.componentIndex):f?d=this.getAxis("x",f.componentIndex):g?d=this.getAxis("y",g.componentIndex):h&&h.coordinateSystem===this&&(c=this._coordsList[0]),{cartesian:c,axis:d}};bb.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)};bb._initCartesian=function(a,b,c){function d(b){return function(c,d){if(c.getCoordSysModel()===a){var h=c.get("position");"x"===b?"top"!==h&&"bottom"!==h&&e[h="bottom"]&&(h="top"===h?"bottom":"top"):"left"!==h&&"right"!==h&&e[h="left"]&&(h="left"===h?"right":"left");e[h]=!0;h=new Ih(b,Wd(c),[0,0],c.get("type"),h);h.onBand="category"===h.type&&c.get("boundaryGap");h.inverse=c.get("inverse");h.onZero=c.get("axisLine.onZero");h.onZeroAxisIndex=c.get("axisLine.onZeroAxisIndex");c.axis=h;h.model=c;h.grid=this;h.index=d;this._axesList.push(h);f[b][d]=h;g[b]++}}}var e={left:!1,right:!1,top:!1,bottom:!1},f={x:{},y:{}},g={x:0,y:0};if(b.eachComponent("xAxis",d("x"),this),b.eachComponent("yAxis",d("y"),this),!g.x||!g.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=f;r(f.x,function(b,c){r(f.y,function(d,e){var f="x"+c+"y"+e,g=new ef(f);g.grid=this;g.model=a;this._coordsMap[f]=g;this._coordsList.push(g);g.addAxis(b);g.addAxis(d)},this)},this)};bb._updateScale=function(a,b){function c(a,b,c){r(c.coordDimToDataDim(b.dim),function(c){b.scale.unionExtentFromData(a,c)})}r(this._axesList,function(a){a.scale.setExtent(1/0,-1/0)});a.eachSeries(function(a){if(ip(a)){var d=hp(a),f=d[0],d=d[1],g;(g=f.getCoordSysModel()!==b)||(g=d.getCoordSysModel()!==b);g||(g=this.getCartesian(f.componentIndex,d.componentIndex),f=a.getData(),d=g.getAxis("x"),g=g.getAxis("y"),"list"===f.type&&(c(f,d,a),c(f,g,a)))}},this)};bb.getTooltipAxes=function(a){var b=[],c=[];return r(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis();d=d.getOtherAxis(e);0>S(b,e)&&b.push(e);0>S(c,d)&&c.push(d)}),{baseAxes:b,otherAxes:c}};var Cv=["xAxis","yAxis"];$d.create=function(a,b){var c=[];return a.eachComponent("grid",function(d,e){var f=new $d(d,a,b);f.name="grid_"+e;f.resize(d,b,!0);d.coordinateSystem=f;c.push(f)}),a.eachSeries(function(a){if(ip(a)){var b=hp(a),c=b[0],b=b[1],d=c.getCoordSysModel().coordinateSystem;a.coordinateSystem=d.getCartesian(c.componentIndex,b.componentIndex)}}),c};$d.dimensions=$d.prototype.dimensions=ef.prototype.dimensions;fb.register("cartesian2d",$d);var Ic=Math.PI,Ia=function(a,b){this.opt=b;this.axisModel=a;J(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new F;var c=new F({position:b.position.slice(),rotation:b.rotation});c.updateTransform();this._transform=c.transform;this._dumbGroup=c};Ia.prototype={constructor:Ia,hasBuilder:function(a){return!!$s[a]},add:function(a){$s[a].call(this)},getGroup:function(){return this.group}};var $s={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0],c=[c[1],0];d&&(da(e,e,d),da(c,c,d));var f=I({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new pb(cd({anid:"line",shape:{x1:e[0],y1:e[1],x2:c[0],y2:c[1]},style:f,strokeContainThreshold:a.strokeContainThreshold||5,silent:!0,z2:1})));var g=b.get("axisLine.symbol"),b=b.get("axisLine.symbolSize");if(null!=g){"string"==typeof g&&(g=[g,g]);"string"!=typeof b&&"number"!=typeof b||(b=[b,b]);var h=b[0],k=b[1];r([[a.rotation+Math.PI/2,e],[a.rotation-Math.PI/2,c]],function(a,b){if("none"!==g[b]&&null!=g[b]){var c=nb(g[b],-h/2,-k/2,h,k,f.stroke,!0);c.attr({rotation:a[0],position:a[1],silent:!0});this.group.add(c)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt,c;c=a.axis;if(a.get("axisTick.show")&&!c.scale.isBlank()){for(var d=a.getModel("axisTick"),e=d.getModel("lineStyle"),f=d.get("length"),g=iA(d,b.labelInterval),d=c.getTicksCoords(d.get("alignWithLabel")),h=c.scale.getTicks(),k=a.get("axisLabel.showMinLabel"),l=a.get("axisLabel.showMaxLabel"),m=[],n=[],p=this._transform,q=[],t=d.length,u=0;u<t;u++)if(!np(c,u,g,t,k,l)){var v=d[u];m[0]=v;m[1]=0;n[0]=v;n[1]=b.tickDirection*f;p&&(da(m,m,p),da(n,n,p));v=new pb(cd({anid:"tick_"+h[u],shape:{x1:m[0],y1:m[1],x2:n[0],y2:n[1]},style:J(e.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));this.group.add(v);q.push(v)}c=q}else c=void 0;d=Ev(this,a,b);b=a.get("axisLabel.showMinLabel");a=a.get("axisLabel.showMaxLabel");d=d||[];c=c||[];e=d[0];f=d[1];g=d[d.length-1];d=d[d.length-2];h=c[0];k=c[1];l=c[c.length-1];c=c[c.length-2];!1===b?(Ka(e),Ka(h)):lp(e,f)&&(b?(Ka(f),Ka(k)):(Ka(e),Ka(h)));!1===a?(Ka(g),Ka(l)):lp(d,g)&&(a?(Ka(d),Ka(c)):(Ka(g),Ka(l)))},axisName:function(){var a=this.opt,b=this.axisModel,c=Ea(a.axisName,b.get("name"));if(c){var d,e=b.get("nameLocation"),f=a.nameDirection,g=b.getModel("nameTextStyle"),h=b.get("nameGap")||0,k=this.axisModel.axis.getExtent(),l=k[0]>k[1]?-1:1,h=["start"===e?k[0]-l*h:"end"===e?k[1]+l*h:(k[0]+k[1])/2,"middle"===e||"center"===e?a.labelOffset+f*h:0],l=b.get("nameRotate");null!=l&&(l=l*Ic/180);var m;"middle"===e||"center"===e?d=mp(a.rotation,null!=l?l:a.rotation,f):(d=Dv(a,e,l||0,k),null!=(m=a.axisNameAvailableWidth)&&(m=Math.abs(m/Math.sin(d.rotation)),!isFinite(m)&&(m=null)));e=g.getFont();f=b.get("nameTruncate",!0)||{};k=f.ellipsis;a=Ea(a.nameTruncateMaxWidth,f.maxWidth,m);a=null!=k&&null!=a?Hs(c,a,e,k,{minChar:2,placeholder:f.placeholder}):c;m=b.get("tooltip",!0);f=b.mainType;k={componentType:f,name:c,$vars:["name"]};k[f+"Index"]=b.componentIndex;h=new Q({anid:"name",__fullText:c,__truncatedText:a,position:h,rotation:d.rotation,silent:kp(b),z2:1,tooltip:m&&m.show?I({content:c,formatter:function(){return c},formatterParams:k},m):null});la(h.style,g,{text:a,textFont:e,textFill:g.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:d.textAlign,textVerticalAlign:d.textVerticalAlign});b.get("triggerEvent")&&(h.eventData=jp(b),h.eventData.targetType="axisName",h.eventData.name=c);this._dumbGroup.add(h);h.updateTransform();this.group.add(h);h.decomposeTransform()}}},mp=Ia.innerTextLayout=function(a,b,c){var d,e;a=Ni(b-a);return Ne(a)?(e=0<c?"top":"bottom",d="center"):Ne(a-Ic)?(e=0<c?"bottom":"top",d="center"):(e="middle",d=0<a&&a<Ic?0<c?"right":"left":0<c?"left":"right"),{rotation:a,textAlign:d,textVerticalAlign:e}},np=Ia.ifIgnoreOnTick=function(a,b,c,d,e,f){if(0===b&&e||b===d-1&&f)return!1;var g;a=a.scale;return"ordinal"===a.type&&("function"==typeof c?(g=a.getTicks()[b],!c(g,a.getLabel(g))):b%(c+1))},iA=Ia.getInterval=function(a,b){var c=a.get("interval");return null!=c&&"auto"!=c||(c=b),c},ae=r,Aj=C,vb=ua({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,b,c,d){if(this.axisPointerClass){var e=Bj(a);if(e){var f=e.axisPointerModel,g=e.axis.scale,h=f.option,k=f.get("status"),l=f.get("value");null!=l&&(l=g.parse(l));f=!!f.get("handle.show");null==k&&(h.status=f?"show":"hide");g=g.getExtent().slice();g[0]>g[1]&&g.reverse();(null==l||l>g[1])&&(l=g[1]);l<g[0]&&(l=g[0]);h.value=l;f&&(h.status=e.axis.scale.isBlank()?"hide":"show")}}vb.superApply(this,"render",arguments);op(this,a,0,c,0,!0)},updateAxisPointer:function(a,b,c,d,e){op(this,a,0,c,0,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b);vb.superApply(this,"remove",arguments)},dispose:function(a,b){var c=this._axisPointer;c&&c.dispose(b,void 0);this._axisPointer=null;vb.superApply(this,"dispose",arguments)}}),at=[];vb.registerAxisPointerClass=function(a,b){at[a]=b};vb.getAxisPointerClass=function(a){return a&&at[a]};var bt=Ia.ifIgnoreOnTick,ct=Ia.getInterval,jA=["axisLine","axisTickLabel","axisName"],kA=["splitArea","splitLine"],Ml=vb.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,b,c,d){this.group.removeAll();var e=this._axisGroup;if(this._axisGroup=new F,this.group.add(this._axisGroup),a.get("show")){var f=a.getCoordSysModel(),g=Cj(f,a),h=new Ia(a,g);r(jA,h.add,h);this._axisGroup.add(h.getGroup());r(kA,function(b){a.get(b+".show")&&this["_"+b](a,f,g.labelInterval)},this);Zi(e,this._axisGroup,a);Ml.superCall(this,"render",a,b,c,d)}},_splitLine:function(a,b,c){var d=a.axis;if(!d.scale.isBlank()){var e=a.getModel("splitLine"),f=e.getModel("lineStyle"),g=f.get("color");c=ct(e,c);g=A(g)?g:[g];b=b.coordinateSystem.getRect();var e=d.isHorizontal(),h=0,k=d.getTicksCoords(),l=d.scale.getTicks(),m=a.get("axisLabel.showMinLabel");a=a.get("axisLabel.showMaxLabel");for(var n=[],p=[],f=f.getLineStyle(),q=0;q<k.length;q++)if(!bt(d,q,c,k.length,m,a)){var t=d.toGlobalCoord(k[q]);e?(n[0]=t,n[1]=b.y,p[0]=t,p[1]=b.y+b.height):(n[0]=b.x,n[1]=t,p[0]=b.x+b.width,p[1]=t);t=h++%g.length;this._axisGroup.add(new pb(cd({anid:"line_"+l[q],shape:{x1:n[0],y1:n[1],x2:p[0],y2:p[1]},style:J({stroke:g[t]},f),silent:!0})))}}},_splitArea:function(a,b,c){var d=a.axis;if(!d.scale.isBlank()){var e=a.getModel("splitArea"),f=e.getModel("areaStyle"),g=f.get("color");b=b.coordinateSystem.getRect();var h=d.getTicksCoords(),k=d.scale.getTicks(),l=d.toGlobalCoord(h[0]),m=d.toGlobalCoord(h[0]),n=0;c=ct(e,c);f=f.getAreaStyle();g=A(g)?g:[g];e=a.get("axisLabel.showMinLabel");a=a.get("axisLabel.showMaxLabel");for(var p=1;p<h.length;p++)if(!bt(d,p,c,h.length,e,a)){var q,t,u,v,r=d.toGlobalCoord(h[p]);d.isHorizontal()?(q=l,t=b.y,u=r-q,v=b.height):(q=b.x,t=m,u=b.width,v=r-t);l=n++%g.length;this._axisGroup.add(new fa({anid:"area_"+k[p],shape:{x:q,y:t,width:u,height:v},style:J({fill:g[l]},f),silent:!0}));l=q+u;m=t+v}}}});Ml.extend({type:"xAxis"});Ml.extend({type:"yAxis"});ua({type:"grid",render:function(a,b){this.group.removeAll();a.get("show")&&this.group.add(new fa({shape:a.coordinateSystem.getRect(),style:J({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}});oa(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})});na(C(Ad,"line","circle","line"));ta(C(Ll,"line"));Ua(se.PROCESSOR.STATISTIC,C(function(a,b,c){b.eachSeriesByType(a,function(a){var b=a.getData(),c=a.get("sampling"),d=a.coordinateSystem;if("cartesian2d"===d.type&&c){var h=d.getBaseAxis(),d=d.getOtherAxis(h),h=h.getExtent(),h=h[1]-h[0],h=Math.round(b.count()/h);if(1<h){var k;"string"==typeof c?k=fA[c]:"function"==typeof c&&(k=c);k&&(b=b.downSample(d.dim,1/h,k,gA),a.setData(b))}}},this)},"line"));var Dj="__ec_stack_";Cg.getLayoutOnAxis=function(a,b){var c=[],d=a.axis;if("category"===d.type){for(var e=d.getBandWidth(),d=0;d<a.count;d++)c.push(J({bandWidth:e,axisKey:"axis0",stackId:Dj+d},a));c=qp(c);e=[];for(d=0;d<a.count;d++){var f=c.axis0[Dj+d];f.offsetCenter=f.offset+f.width/2;e.push(f)}return e}};var dt=va.extend({type:"series.__base_bar__",getInitialData:function(a,b){return Bc(a.data,this,b)},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){a=b.dataToPoint(a,!0);var c=this.getData(),d=c.getLayout("offset"),c=c.getLayout("size");return a[b.getBaseAxis().isHorizontal()?0:1]+=d+c/2,a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,itemStyle:{}}});dt.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect"});var lA=qe([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),mA=["itemStyle","normal","barBorderWidth"];I(W.prototype,{getBarItemStyle:function(a){a=lA(this,a);if(this.getBorderLineDash){var b=this.getBorderLineDash();b&&(a.lineDash=b)}return a}});Na({type:"bar",render:function(a,b,c){var d=a.get("coordinateSystem");return"cartesian2d"!==d&&"polar"!==d||this._render(a,b,c),this.group},dispose:qa,_render:function(a,b,c){var d,e=this.group,f=a.getData(),g=this._data,h=a.coordinateSystem;b=h.getBaseAxis();"cartesian2d"===h.type?d=b.isHorizontal():"polar"===h.type&&(d="angle"===b.dim);var k=a.isAnimationEnabled()?a:null;f.diff(g).add(function(b){if(f.hasValue(b)){var c=f.getItemModel(b),g=et[h.type](f,b,c),l=ft[h.type](f,b,c,g,d,k);f.setItemGraphicEl(b,l);e.add(l);up(l,f,b,c,g,a,d,"polar"===h.type)}}).update(function(b,c){var l=g.getItemGraphicEl(c);if(f.hasValue(b)){var m=f.getItemModel(b),q=et[h.type](f,b,m);l?Z(l,{shape:q},k,b):l=ft[h.type](f,b,m,q,d,k,!0);f.setItemGraphicEl(b,l);e.add(l);up(l,f,b,m,q,a,d,"polar"===h.type)}else e.remove(l)}).remove(function(a){var b=g.getItemGraphicEl(a);"cartesian2d"===h.type?b&&sp(a,k,b):b&&tp(a,k,b)}).execute();this._data=f},remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){"sector"===b.type?tp(b.dataIndex,a,b):sp(b.dataIndex,a,b)}):c.removeAll()}});var ft={cartesian2d:function(a,b,c,d,e,f,g){a=new fa({shape:I({},d)});f&&(e=e?"height":"width",c={},a.shape[e]=0,c[e]=d[e],Pa[g?"updateProps":"initProps"](a,{shape:c},f,b));return a},polar:function(a,b,c,d,e,f,g){a=new Gc({shape:I({},d)});if(f){c=e?"r":"endAngle";var h={};a.shape[c]=e?0:d.startAngle;h[c]=d[c];Pa[g?"updateProps":"initProps"](a,{shape:h},f,b)}return a}},et={cartesian2d:function(a,b,c){a=a.getItemLayout(b);c=c.get(mA)||0;c=Math.min(c,Math.abs(a.width),Math.abs(a.height));b=0<a.width?1:-1;var d=0<a.height?1:-1;return{x:a.x+b*c/2,y:a.y+d*c/2,width:a.width-b*c,height:a.height-d*c}},polar:function(a,b,c){a=a.getItemLayout(b);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}};ta(C(Cg,"bar"));na(function(a){a.eachSeriesByType("bar",function(a){a.getData().setVisual("legendSymbol","roundRect")})});var Nl={updateSelectedMap:function(a){this._targetList=a.slice();this._selectTargetMap=Hd(a||[],function(a,c){return a.set(c.name,c),a},xa())},select:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(a){a.selected=!1});c&&(c.selected=!0)},unSelect:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);c&&(c.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);if(null!=c)return this[c.selected?"unSelect":"select"](a,b),c.selected},isSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);return c&&c.selected}},Jh=bf({type:"series.pie",init:function(a){Jh.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(a.data);this._defaultLabelLine(a)},mergeOption:function(a){Jh.superCall(this,"mergeOption",a);this.updateSelectedMap(this.option.data)},getInitialData:function(a,b){var c=ab(["value"],a.data),c=new pa(c,this);return c.initData(a.data),c},getDataParams:function(a){var b=this.getData(),c=Jh.superCall(this,"getDataParams",a),d=[];return b.each("value",function(a){d.push(a)}),c.percent=pn(d,a,b.hostModel.get("percentPrecision")),c.$vars.push("percent"),c},_defaultLabelLine:function(a){ed(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show;c.show=c.show&&a.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationType:"expansion",animationEasing:"cubicOut",data:[]}});M(Jh,Nl);var gt=Ej.prototype;gt.updateData=function(a,b,c){function d(){f.stopAnimation(!0);f.animateTo({shape:{r:k.r+g.get("hoverOffset")}},300,"elasticOut")}function e(){f.stopAnimation(!0);f.animateTo({shape:{r:k.r}},300,"elasticOut")}var f=this.childAt(0),g=a.hostModel,h=a.getItemModel(b),k=a.getItemLayout(b),l=I({},k);l.label=null;c?(f.setShape(l),"scale"===g.getShallow("animationType")?(f.shape.r=k.r0,Ga(f,{shape:{r:k.r}},g,b)):(f.shape.endAngle=k.startAngle,Z(f,{shape:{endAngle:k.endAngle}},g,b))):Z(f,{shape:l},g,b);c=h.getModel("itemStyle");l=a.getItemVisual(b,"color");f.useStyle(J({lineJoin:"bevel",fill:l},c.getModel("normal").getItemStyle()));f.hoverStyle=c.getModel("emphasis").getItemStyle();(c=h.getShallow("cursor"))&&f.attr("cursor",c);vp(this,a.getItemLayout(b),h.get("selected"),g.get("selectedOffset"),g.get("animation"));f.off("mouseover").off("mouseout").off("emphasis").off("normal");h.get("hoverAnimation")&&g.isAnimationEnabled()&&f.on("mouseover",d).on("mouseout",e).on("emphasis",d).on("normal",e);this._updateLabel(a,b);ma(this)};gt._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label;a.getItemVisual(b,"color");Z(c,{shape:{points:g.linePoints||[[g.x,g.y],[g.x,g.y],[g.x,g.y]]}},e,b);Z(d,{style:{x:g.x,y:g.y}},e,b);d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var e=f.getModel("label.normal"),h=f.getModel("label.emphasis"),k=f.getModel("labelLine.normal"),l=f.getModel("labelLine.emphasis"),f=a.getItemVisual(b,"color");Cb(d.style,d.hoverStyle={},e,h,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:f,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign,opacity:a.getItemVisual(b,"opacity")});d.ignore=d.normalIgnore=!e.get("show");d.hoverIgnore=!h.get("show");c.ignore=c.normalIgnore=!k.get("show");c.hoverIgnore=!l.get("show");c.setStyle({stroke:f,opacity:a.getItemVisual(b,"opacity")});c.setStyle(k.getModel("lineStyle").getLineStyle());c.hoverStyle=l.getModel("lineStyle").getLineStyle();(d=k.get("smooth"))&&!0===d&&(d=.4);c.setShape({smooth:d})};ka(Ej,F);Ta.extend({type:"pie",init:function(){this._sectorGroup=new F},render:function(a,b,c,d){if(!d||d.from!==this.uid){var e=a.getData(),f=this._data,g=this.group;b=b.get("animation");var h=!f,k=a.get("animationType"),l=C(Jv,this.uid,a,b,c),m=a.get("selectedMode");if(e.diff(f).add(function(a){var b=new Ej(e,a);h&&"scale"!==k&&b.eachChild(function(a){a.stopAnimation(!0)});m&&b.on("click",l);e.setItemGraphicEl(a,b);g.add(b)}).update(function(a,b){var c=f.getItemGraphicEl(b);c.updateData(e,a);c.off("click");m&&c.on("click",l);g.add(c);e.setItemGraphicEl(a,c)}).remove(function(a){a=f.getItemGraphicEl(a);g.remove(a)}).execute(),b&&h&&0<e.count()&&"scale"!==k)b=e.getItemLayout(0),c=Math.max(c.getWidth(),c.getHeight())/2,d=z(g.removeClipPath,g),g.setClipPath(this._createClipPath(b.cx,b.cy,c,b.startAngle,b.clockwise,d,a));this._data=e}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g){a=new Gc({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});return Ga(a,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f),a},containPoint:function(a,b){var c=b.getData().getItemLayout(0);if(c){var d=a[0]-c.cx,e=a[1]-c.cy,d=Math.sqrt(d*d+e*e);return d<=c.r&&d>=c.r0}}});var ht=function(a,b){r(b,function(b){b.update="updateView";X(b,function(c,e){var d={};return e.eachComponent({mainType:"series",subType:a,query:c},function(a){a[b.method]&&a[b.method](c.name,c.dataIndex);var e=a.getData();e.each(function(b){b=e.getName(b);d[b]=a.isSelected(b)||!1})}),{name:c.name,selected:d}})})},Ol=function(a,b){var c={};b.eachRawSeriesByType(a,function(a){var d=a.getRawData(),f={};if(!b.isSeriesFiltered(a)){var g=a.getData();g.each(function(a){var b=g.getRawIndex(a);f[b]=a});d.each(function(b){var e=f[b],h=null!=e&&g.getItemVisual(e,"color",!0);h?d.setItemVisual(b,"color",h):(h=d.getItemModel(b).get("itemStyle.normal.color")||a.getColorFromPalette(d.getName(b),c),d.setItemVisual(b,"color",h),null!=e&&g.setItemVisual(e,"color",h))})}})},nA=function(a,b,c,d){var e,f,g=a.getData(),h=[],k=!1;g.each(function(c){var d,l,p,q,t=g.getItemLayout(c),u=g.getItemModel(c),v=u.getModel("label.normal"),r=v.get("position")||u.get("label.emphasis.position");d=u.getModel("labelLine.normal");var u=d.get("length"),P=d.get("length2"),y=(t.startAngle+t.endAngle)/2,E=Math.cos(y),D=Math.sin(y);e=t.cx;f=t.cy;var H="inside"===r||"inner"===r;if("center"===r)d=t.cx,l=t.cy,q="center";else{q=(H?(t.r+t.r0)/2*E:t.r*E)+e;var w=(H?(t.r+t.r0)/2*D:t.r*D)+f;if(d=q+3*E,l=w+3*D,!H){p=q+E*(u+b-t.r);var D=w+D*(u+b-t.r),N=p+(0>E?-1:1)*P;d=N+(0>E?-5:5);l=D;p=[[q,w],[p,D],[N,D]]}q=H?"center":0<E?"left":"right"}w=v.getFont();v=v.get("rotate")?0>E?-y+Math.PI:-y:0;c=ac(a.getFormattedLabel(c,"normal")||g.getName(c),w,q,"top");k=!!v;t.label={x:d,y:l,position:r,height:c.height,len:u,len2:P,linePoints:p,textAlign:q,verticalAlign:"middle",rotation:v,inside:H};H||h.push(t.label)});!k&&a.get("avoidLabelOverlap")&&Kv(h,e,f,b,c,d)},Kh=2*Math.PI,it=Math.PI/180,Lh=function(a,b){var c=b.findComponents({mainType:"legend"});c&&c.length&&b.eachSeriesByType(a,function(a){var b=a.getData();b.filterSelf(function(a){a=b.getName(a);for(var d=0;d<c.length;d++)if(!c[d].isSelected(a))return!1;return!0},this)},this)};ht("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);na(C(Ol,"pie"));ta(C(function(a,b,c,d){b.eachSeriesByType(a,function(a){var b=a.get("center"),d=a.get("radius");A(d)||(d=[0,d]);A(b)||(b=[b,b]);var e=c.getWidth(),k=c.getHeight(),l=Math.min(e,k),m=B(b[0],e),n=B(b[1],k),p=B(d[0],l/2),q=B(d[1],l/2),t=a.getData(),u=-a.get("startAngle")*it,v=a.get("minAngle")*it,r=0;t.each("value",function(a){!isNaN(a)&&r++});var P=t.getSum("value"),y=Math.PI/(P||r)*2,E=a.get("clockwise"),D=a.get("roseType"),H=a.get("stillShowZeroSum"),w=t.getDataExtent("value");w[0]=0;var N=Kh,z=0,C=u,F=E?1:-1;if(t.each("value",function(a,b){var c;if(isNaN(a))t.setItemLayout(b,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:E,cx:m,cy:n,r0:p,r:D?NaN:q});else{(c="area"!==D?0===P&&H?y:a*y:Kh/r)<v?(c=v,N-=v):z+=a;var d=C+F*c;t.setItemLayout(b,{angle:c,startAngle:C,endAngle:d,clockwise:E,cx:m,cy:n,r0:p,r:D?ba(a,w,[p,q]):q});C=d}},!0),N<Kh&&r)if(.001>=N){var G=Kh/r;t.each("value",function(a,b){if(!isNaN(a)){var c=t.getItemLayout(b);c.angle=G;c.startAngle=u+F*b*G;c.endAngle=u+F*(b+1)*G}})}else y=N/z,C=u,t.each("value",function(a,b){if(!isNaN(a)){var c=t.getItemLayout(b),d=c.angle===v?v:a*y;c.startAngle=C;c.endAngle=C+F*d;C+=F*d}});nA(a,q,e,k)})},"pie"));Ua(C(Lh,"pie"));va.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return Bc(a.data,this,b)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{normal:{opacity:.8}}}});var Lv=ub({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(a,b){for(var c=b.points,d=b.sizes,e=this.symbolProxy,f=e.shape,g=0;g<c.length;g++){var h=c[g];if(!isNaN(h[0])&&!isNaN(h[1])){var k=d[g];4>k[0]?a.rect(h[0]-k[0]/2,h[1]-k[1]/2,k[0],k[1]):(f.x=h[0]-k[0]/2,f.y=h[1]-k[1]/2,f.width=k[0],f.height=k[1],e.buildPath(a,f,!0))}}},findDataIndex:function(a,b){for(var c=this.shape,d=c.points,c=c.sizes,e=d.length-1;0<=e;e--){var f=d[e],g=c[e],h=f[0]-g[0]/2,f=f[1]-g[1]/2;if(a>=h&&b>=f&&a<=h+g[0]&&b<=f+g[1])return e}return-1}}),Pl=xp.prototype;Pl.updateData=function(a){this.group.removeAll();var b=this._symbolEl,c=a.hostModel;b.setShape({points:a.mapArray(a.getItemLayout),sizes:a.mapArray(function(b){b=a.getItemVisual(b,"symbolSize");return b instanceof Array||(b=[b,b]),b})});b.symbolProxy=nb(a.getVisual("symbol"),0,0,0,0);b.setColor=b.symbolProxy.setColor;b.useStyle(c.getModel("itemStyle.normal").getItemStyle(["color"]));var d=a.getVisual("color");d&&b.setColor(d);b.seriesIndex=c.seriesIndex;b.on("mousemove",function(a){b.dataIndex=null;a=b.findDataIndex(a.offsetX,a.offsetY);0<=a&&(b.dataIndex=a)});this.group.add(b)};Pl.updateLayout=function(a){a=a.getData();this._symbolEl.setShape({points:a.mapArray(a.getItemLayout)})};Pl.remove=function(){this.group.removeAll()};Na({type:"scatter",init:function(){this._normalSymbolDraw=new Yd;this._largeSymbolDraw=new xp},render:function(a,b,c){b=a.getData();c=this._largeSymbolDraw;var d=this._normalSymbolDraw,e=this.group;this._symbolDraw=a=a.get("large")&&b.count()>a.get("largeThreshold")?c:d;a.updateData(b);e.add(a.group);e.remove(a===c?d.group:c.group)},updateLayout:function(a){this._symbolDraw.updateLayout(a)},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b,!0)},dispose:function(){}});na(C(Ad,"scatter","circle",null));ta(C(Ll,"scatter"));ka(yp,Aa);Jb.prototype.getIndicatorAxes=function(){return this._indicatorAxes};Jb.prototype.dataToPoint=function(a,b){return this.coordToPoint(this._indicatorAxes[b].dataToCoord(a),b)};Jb.prototype.coordToPoint=function(a,b){var c=this._indicatorAxes[b].angle;return[this.cx+a*Math.cos(c),this.cy-a*Math.sin(c)]};Jb.prototype.pointToData=function(a){var b=a[0]-this.cx,c=a[1]-this.cy;a=Math.sqrt(b*b+c*c);for(var d,b=Math.atan2(-(c/a),b/a),c=1/0,e=-1,f=0;f<this._indicatorAxes.length;f++){var g=this._indicatorAxes[f],h=Math.abs(b-g.angle);h<c&&(d=g,e=f,c=h)}return[e,+(d&&d.coodToData(a))]};Jb.prototype.resize=function(a,b){var c=a.get("center"),d=b.getWidth(),e=b.getHeight(),f=Math.min(d,e)/2;this.cx=B(c[0],d);this.cy=B(c[1],e);this.startAngle=a.get("startAngle")*Math.PI/180;this.r=B(a.get("radius"),f);r(this._indicatorAxes,function(a,b){a.setExtent(0,this.r);var c=this.startAngle+b*Math.PI*2/this._indicatorAxes.length,c=Math.atan2(Math.sin(c),Math.cos(c));a.angle=c},this)};Jb.prototype.update=function(a,b){function c(a){var b=Math.pow(10,Math.floor(Math.log(a)/Math.LN10));a/=b;return 2===a?a=5:a*=2,a*b}var d=this._indicatorAxes,e=this._model;r(d,function(a){a.scale.setExtent(1/0,-1/0)});a.eachSeriesByType("radar",function(b,c){if("radar"===b.get("coordinateSystem")&&a.getComponent("radar",b.get("radarIndex"))===e){var f=b.getData();r(d,function(a){a.scale.unionExtentFromData(f,a.dim)})}},this);var f=e.get("splitNumber");r(d,function(a,b){var d=No(a.scale,a.model);Cc(a.scale,a.model);var e=a.model,g=a.scale,h=e.getMin(),p=e.getMax(),e=g.getInterval();if(null!=h&&null!=p)g.setExtent(+h,+p),g.setInterval((p-h)/f);else if(null!=h){do p=h+e*f,g.setExtent(+h,p),g.setInterval(e),e=c(e);while(p<d[1]&&isFinite(p)&&isFinite(d[1]))}else if(null!=p){do h=p-e*f,g.setExtent(h,+p),g.setInterval(e),e=c(e);while(h>d[0]&&isFinite(h)&&isFinite(d[0]))}else g.getTicks().length-1>f&&(e=c(e)),d=Math.round((d[0]+d[1])/2/e)*e,h=Math.round(f/2),g.setExtent(ra(d-h*e),ra(d+(f-h)*e)),g.setInterval(e)})};Jb.dimensions=[];Jb.create=function(a,b){var c=[];return a.eachComponent("radar",function(d){var e=new Jb(d,a,b);c.push(e);d.coordinateSystem=e}),a.eachSeriesByType("radar",function(a){"radar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("radarIndex")||0])}),c};fb.register("radar",Jb);var Ff=Oc.valueAxis,oA=(gb({type:"radar",optionUpdated:function(){var a=this.get("boundaryGap"),b=this.get("splitNumber"),c=this.get("scale"),d=this.get("axisLine"),e=this.get("axisTick"),f=this.get("axisLabel"),g=this.get("name"),h=this.get("name.show"),k=this.get("name.formatter"),l=this.get("nameGap"),m=this.get("triggerEvent"),n=w(this.get("indicator")||[],function(n){null!=n.max&&0<n.max&&!n.min?n.min=0:null!=n.min&&0>n.min&&!n.max&&(n.max=0);var p=g;(null!=n.color&&(p=J({color:n.color},g)),n=L(G(n),{boundaryGap:a,splitNumber:b,scale:c,axisLine:d,axisTick:e,axisLabel:f,name:n.text,nameLocation:"end",nameGap:l,nameTextStyle:p,triggerEvent:m},!1),h||(n.name=""),"string"==typeof k)?(p=n.name,n.name=k.replace("{value}",null!=p?p:"")):"function"==typeof k&&(n.name=k(n.name,n));n=I(new W(n,null,this.ecModel),zd);return n.mainType="radar",n.componentIndex=this.componentIndex,n},this);this.getIndicatorModels=function(){return n}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:L({lineStyle:{color:"#bbb"}},Ff.axisLine),axisLabel:J({show:!1},Ff.axisLabel),axisTick:J({show:!1},Ff.axisTick),splitLine:J({show:!0},Ff.splitLine),splitArea:J({show:!0},Ff.splitArea),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);ua({type:"radar",render:function(a,b,c){this.group.removeAll();this._buildAxes(a);this._buildSplitLineAndArea(a)},_buildAxes:function(a){var b=a.coordinateSystem;r(w(b.getIndicatorAxes(),function(a){return new Ia(a.model,{position:[b.cx,b.cy],rotation:a.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(a){r(oA,a.add,a);this.group.add(a.getGroup())},this)},_buildSplitLineAndArea:function(a){function b(a,b,c){b=c%b.length;return a[b]=a[b]||[],b}var c=a.coordinateSystem,d=c.getIndicatorAxes();if(d.length){var e=a.get("shape"),f=a.getModel("splitLine"),g=a.getModel("splitArea");a=f.getModel("lineStyle");var h=g.getModel("areaStyle"),f=f.get("show"),g=g.get("show"),k=a.get("color"),l=h.get("color"),k=A(k)?k:[k],l=A(l)?l:[l],m=[],n=[];if("circle"===e)for(var d=d[0].getTicksCoords(),p=c.cx,q=c.cy,e=0;e<d.length;e++)f&&m[v=b(m,k,e)].push(new yd({shape:{cx:p,cy:q,r:d[e]}})),g&&e<d.length-1&&n[v=b(n,l,e)].push(new Ns({shape:{cx:p,cy:q,r0:d[e],r:d[e+1]}}));else for(var t,p=w(d,function(a,b){var d=a.getTicksCoords();return t=null==t?d.length-1:Math.min(d.length-1,t),w(d,function(a){return c.coordToPoint(a,b)})}),q=[],e=0;e<=t;e++){for(var u=[],v=0;v<d.length;v++)u.push(p[v][e]);if(u[0]&&u.push(u[0].slice()),f&&m[v=b(m,k,e)].push(new wb({shape:{points:u}})),g&&q){var v=b(n,l,e-1);n[v].push(new Oa({shape:{points:u.concat(q)}}))}q=u.slice().reverse()}var x=a.getLineStyle(),P=h.getAreaStyle();r(n,function(a,b){this.group.add(ic(a,{style:J({stroke:"none",fill:l[b%l.length]},P),silent:!0}))},this);r(m,function(a,b){this.group.add(ic(a,{style:J({fill:"none",stroke:k[b%k.length]},x),silent:!0}))},this)}}});var pA=va.extend({type:"series.radar",dependencies:["radar"],init:function(a){pA.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(a,b){var c=a.data||[],d=ab([],c,{extraPrefix:"indicator_",extraFromZero:!0}),d=new pa(d,this);return d.initData(c),d},formatTooltip:function(a){var b=this.getRawValue(a),c=this.coordinateSystem.getIndicatorAxes();a=this.getData().getName(a);return ia(""===a?this.name:a)+"\x3cbr/\x3e"+w(c,function(a,c){return ia(a.name+" : "+b[c])}).join("\x3cbr /\x3e")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});Na({type:"radar",render:function(a,b,c){function d(b,c,d,e,f,g){d.removeAll();for(var h=0;h<c.length-1;h++){var k;var l=e,m=f;k=l.getItemVisual(m,"symbol")||"circle";var n=l.getItemVisual(m,"color");"none"!==k?(m=l.getItemVisual(m,"symbolSize"),l=(A(m)||(m=[+m,+m]),m),k=nb(k,-1,-1,2,2,n),k=(k.attr({style:{strokeNoScale:!0},z2:100,scale:[l[0]/2,l[1]/2]}),k)):k=void 0;k&&(k.__dimIdx=h,b[h]?(k.attr("position",b[h]),Pa[g?"initProps":"updateProps"](k,{position:c[h]},a,f)):k.attr("position",c[h]),d.add(k))}}function e(a){return w(a,function(a){return[f.cx,f.cy]})}var f=a.coordinateSystem,g=this.group,h=a.getData(),k=this._data;h.diff(k).add(function(b){var c=h.getItemLayout(b);if(c){var f=new Oa,g=new wb,k={shape:{points:c}};f.shape.points=e(c);g.shape.points=e(c);Ga(f,k,a,b);Ga(g,k,a,b);var k=new F,l=new F;k.add(g);k.add(f);k.add(l);d(g.shape.points,c,l,h,b,!0);h.setItemGraphicEl(b,k)}}).update(function(b,c){var e=k.getItemGraphicEl(c),f=e.childAt(0),g=e.childAt(1),l=e.childAt(2),m={shape:{points:h.getItemLayout(b)}};m.shape.points&&(d(f.shape.points,m.shape.points,l,h,b,!1),Z(f,m,a),Z(g,m,a),h.setItemGraphicEl(b,e))}).remove(function(a){g.remove(k.getItemGraphicEl(a))}).execute();h.eachItemGraphicEl(function(a,b){function c(){k.attr("ignore",E)}function d(){k.attr("ignore",y)}var e=h.getItemModel(b),f=a.childAt(0),k=a.childAt(1),l=a.childAt(2),m=h.getItemVisual(b,"color");g.add(a);f.useStyle(J(e.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:m}));f.hoverStyle=e.getModel("lineStyle.emphasis").getLineStyle();var f=e.getModel("areaStyle.normal"),r=e.getModel("areaStyle.emphasis"),y=f.isEmpty()&&f.parentModel.isEmpty(),E=r.isEmpty()&&r.parentModel.isEmpty(),E=E&&y;k.ignore=y;k.useStyle(J(f.getAreaStyle(),{fill:m,opacity:.7}));k.hoverStyle=r.getAreaStyle();var D=e.getModel("itemStyle.normal").getItemStyle(["color"]),H=e.getModel("itemStyle.emphasis").getItemStyle(),w=e.getModel("label.normal"),N=e.getModel("label.emphasis");l.eachChild(function(a){a.setStyle(D);a.hoverStyle=G(H);Cb(a.style,a.hoverStyle,w,N,{labelFetcher:h.hostModel,labelDataIndex:b,labelDimIndex:a.__dimIdx,defaultText:h.get(h.dimensions[a.__dimIdx],b),autoColor:m,isRectText:!0})});a.off("mouseover").off("mouseout").off("normal").off("emphasis");a.on("emphasis",c).on("mouseover",c).on("normal",d).on("mouseout",d);ma(a)});this._data=h},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});na(C(Ol,"radar"));na(C(Ad,"radar","circle",null));ta(function(a){a.eachSeriesByType("radar",function(a){var b=a.getData(),d=[],e=a.coordinateSystem;if(e){for(var f=0;f<e.getIndicatorAxes().length;f++)b.each(b.dimensions[f],function(a,b){d[b]=d[b]||[];d[b][f]=e.dataToPoint(a,f)});b.each(function(a){d[a][0]&&d[a].push(d[a][0].slice());b.setItemLayout(a,d[a])})}})});Ua(C(Lh,"radar"));oa(function(a){var b=a.polar;if(b){A(b)||(b=[b]);var c=[];r(b,function(b,e){b.indicator?(b.type&&!b.shape&&(b.shape=b.type),a.radar=a.radar||[],A(a.radar)||(a.radar=[a.radar]),a.radar.push(b)):c.push(b)});a.polar=c}r(a.series,function(a){a&&"radar"===a.type&&a.polarIndex&&(a.radarIndex=a.polarIndex)})});M(Fj,Ra);nd.prototype={constructor:nd,type:"view",dimensions:["x","y"],setBoundingRect:function(a,b,c,d){return this._rect=new U(a,b,c,d),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(a,b,c,d){this.transformTo(a,b,c,d);this._viewRect=new U(a,b,c,d)},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),f=this._viewTransform;f.transform=e.calculateTransform(new U(a,b,c,d));f.decomposeTransform();this._updateTransform()},setCenter:function(a){a&&(this._center=a,this._updateCenterAndZoom())},setZoom:function(a){a=a||1;var b=this.zoomLimit;b&&(null!=b.max&&(a=Math.min(b.max,a)),null!=b.min&&(a=Math.max(b.min,a)));this._zoom=a;this._updateCenterAndZoom()},getDefaultCenter:function(){var a=this.getBoundingRect();return[a.x+a.width/2,a.y+a.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var a=this._viewTransform.getLocalTransform(),b=this._roamTransform,c=this.getDefaultCenter(),d=this.getCenter(),e=this.getZoom(),d=da([],d,a),c=da([],c,a);b.origin=d;b.position=[c[0]-d[0],c[1]-d[1]];b.scale=[e,e];this._updateTransform()},_updateTransform:function(){var a=this._roamTransform,b=this._viewTransform;b.parent=a;a.updateTransform();b.updateTransform();b.transform&&ki(this.transform||(this.transform=[]),b.transform);this.transform?(this.invTransform=this.invTransform||[],Qf(this.invTransform,this.transform)):this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var a=this.getBoundingRect().clone();return a.applyTransform(this.transform),a},dataToPoint:function(a){var b=this.transform;return b?da([],a,b):[a[0],a[1]]},pointToData:function(a){var b=this.invTransform;return b?da([],a,b):[a[0],a[1]]},convertToPixel:C(zp,"dataToPoint"),convertFromPixel:C(zp,"pointToData"),containPoint:function(a){return this.getViewRectAfterRoam().contain(a[0],a[1])}};M(nd,Ra);for(var Ql=[126,25],Hb=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],Ib=0;Ib<Hb.length;Ib++)for(var Tb=0;Tb<Hb[Ib].length;Tb++)Hb[Ib][Tb][0]/=10.5,Hb[Ib][Tb][1]/=-14,Hb[Ib][Tb][0]+=Ql[0],Hb[Ib][Tb][1]+=Ql[1];var qA={"\u5357\u6d77\u8bf8\u5c9b":[32,80],"\u5e7f\u4e1c":[0,-10],"\u9999\u6e2f":[10,5],"\u6fb3\u95e8":[-10,10],"\u5929\u6d25":[5,5]},rA={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},sA=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],tA=[function(a){"china"===a.map&&a.regions.push(new Ag("\u5357\u6d77\u8bf8\u5c9b",w(Hb,function(a){return{type:"polygon",exterior:a}}),Ql))},function(a){r(a.regions,function(a){var b=qA[a.name];b&&(a=a.center,a[0]+=b[0]/10.5,a[1]+=-b[1]/14)})},function(a){r(a.regions,function(a){var b=rA[a.name];b&&(a=a.center,a[0]=b[0],a[1]=b[1])})},function(a){if("china"===a.map)for(var b=0,c=a.regions.length;b<c;++b)"\u53f0\u6e7e"===a.regions[b].name&&a.regions[b].geometries.push({type:"polygon",exterior:sA[0]})}];be.prototype={constructor:be,type:"geo",dimensions:["lng","lat"],containCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return!0;return!1},loadGeoJson:function(a,b,c){try{this.regions=a?Vs(a):[]}catch(g){throw"Invalid geoJson format\n"+g.message;}b=b||{};c=c||{};a=this.regions;for(var d=xa(),e=0;e<a.length;e++){var f=a[e].name,f=c.hasOwnProperty(f)?c[f]:f;a[e].name=f;d.set(f,a[e]);this.addGeoCoord(f,a[e].center);(f=b[f])&&a[e].transformTo(f.left,f.top,f.width,f.height)}this._regionsMap=d;this._rect=null;r(tA,function(a){a(this)},this)},transformTo:function(a,b,c,d){var e=this.getBoundingRect();(e=e.clone()).y=-e.y-e.height;var f=this._viewTransform;f.transform=e.calculateTransform(new U(a,b,c,d));f.decomposeTransform();a=f.scale;a[1]=-a[1];f.updateTransform();this._updateTransform()},getRegion:function(a){return this._regionsMap.get(a)},getRegionByCoord:function(a){for(var b=this.regions,c=0;c<b.length;c++)if(b[c].contain(a))return b[c]},addGeoCoord:function(a,b){this._nameCoordMap.set(a,b)},getGeoCoord:function(a){return this._nameCoordMap.get(a)},getBoundingRect:function(){if(this._rect)return this._rect;for(var a,b=this.regions,c=0;c<b.length;c++){var d=b[c].getBoundingRect();(a=a||d.clone()).union(d)}return this._rect=a||new U(0,0,0,0)},dataToPoint:function(a){if("string"==typeof a&&(a=this.getGeoCoord(a)),a)return nd.prototype.dataToPoint.call(this,a)},convertToPixel:C(Ap,"dataToPoint"),convertFromPixel:C(Ap,"pointToData")};M(be,nd);var Rl={dimensions:be.prototype.dimensions,create:function(a,b){var c=[];a.eachComponent("geo",function(a,d){var e=a.get("map"),f=Ef[e],e=new be(e+d,e,f&&f.geoJson,f&&f.specialAreas,a.get("nameMap"));e.zoomLimit=a.get("scaleLimit");c.push(e);Cp(e,a);a.coordinateSystem=e;e.model=a;e.resize=Bp;e.resize(a,b)});a.eachSeries(function(a){if("geo"===a.get("coordinateSystem")){var b=a.get("geoIndex")||0;a.coordinateSystem=c[b]}});var d={};return a.eachSeriesByType("map",function(a){if(!a.getHostGeoModel()){var b=a.getMapType();d[b]=d[b]||[];d[b].push(a)}}),r(d,function(a,d){var e=Ef[d],f=w(a,function(a){return a.get("nameMap")}),k=new be(d,d,e&&e.geoJson,e&&e.specialAreas,Ae(f));k.zoomLimit=Ea.apply(null,w(a,function(a){return a.get("scaleLimit")}));c.push(k);k.resize=Bp;k.resize(a[0],b);r(a,function(a){a.coordinateSystem=k;Cp(k,a)})}),c},getFilledRegions:function(a,b,c){var d=(a||[]).slice();c=c||{};b=(b=Ef[b])&&b.geoJson;if(!b)return a;a=xa();b=b.features;for(var e=0;e<d.length;e++)a.set(d[e].name,d[e]);for(e=0;e<b.length;e++){var f=b[e].properties.name;a.get(f)||(c.hasOwnProperty(f)&&(f=c[f]),d.push({name:f}))}return d}};qj("geo",Rl);var Sl=va.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(a){this._fillOption(a,this.getMapType());Sl.superApply(this,"init",arguments);this.updateSelectedMap(a.data)},getInitialData:function(a){var b=ab(["value"],a.data||[]),b=new pa(b,this);return b.initData(a.data),b},mergeOption:function(a){this._fillOption(a,this.getMapType());Sl.superApply(this,"mergeOption",arguments);this.updateSelectedMap(this.option.data)},getHostGeoModel:function(){var a=this.option.geoIndex;return null!=a?this.dependentModels.geo[a]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(a,b){a.data=Rl.getFilledRegions(a.data,b,a.nameMap)},getRawValue:function(a){return this.getData().get("value",a)},getRegionModel:function(a){var b=this.getData();return b.getItemModel(b.indexOfName(a))},formatTooltip:function(a){var b=this.getData(),c=oc(this.getRawValue(a));a=b.getName(a);for(var b=this.seriesGroup,d=[],e=0;e<b.length;e++){var f=b[e].originalData.indexOfName(a);isNaN(b[e].originalData.get("value",f))||d.push(ia(b[e].name))}return d.join(", ")+"\x3cbr /\x3e"+ia(a+" : "+c)},getTooltipPosition:function(a){if(null!=a){var b=this.getData().getName(a);a=this.coordinateSystem;return(b=a.getRegion(b))&&a.dataToPoint(b.center)}},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}}});M(Sl,Nl);var Dp="\x00_ec_interaction_mutex";X({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});M(gf,mb);var Tv={axisPointer:1,tooltip:1,brush:1};Eg.prototype={constructor:Eg,draw:function(a,b,c,d,e){var f="geo"===a.mainType,g=a.getData&&a.getData();f&&b.eachComponent({mainType:"series",subType:"map"},function(b){g||b.getHostGeoModel()!==a||(g=b.getData())});var h=a.coordinateSystem,k=this.group,l=h.scale,m={position:h.position,scale:l};!k.childAt(0)||e?k.attr(m):Z(k,m,a);k.removeAll();var n=["itemStyle","normal"],p=["itemStyle","emphasis"],q=["label","normal"],t=["label","emphasis"],u=xa();r(h.regions,function(b){var c=u.get(b.name)||u.set(b.name,new F),d=new Ps({shape:{paths:[]}});c.add(d);var e,h=(w=a.getRegionModel(b.name)||a).getModel(n),m=w.getModel(p),v=Hp(h),m=Hp(m),h=w.getModel(q),w=w.getModel(t);if(g){e=g.indexOfName(b.name);var N=g.getItemVisual(e,"color",!0);N&&(v.fill=N)}r(b.geometries,function(a){if("polygon"===a.type){d.shape.paths.push(new Oa({shape:{points:a.exterior}}));for(var b=0;b<(a.interiors?a.interiors.length:0);b++)d.shape.paths.push(new Oa({shape:{points:a.interiors[b]}}))}});d.setStyle(v);d.style.strokeNoScale=!0;d.culling=!0;var v=h.get("show"),N=w.get("show"),A=g&&isNaN(g.get("value",e)),z=g&&g.getItemLayout(e);if(f||A&&(v||N)||z&&z.showLabel){var B,v=f?b.name:e;(!g||0<=e)&&(B=a);N=new Q({position:b.center.slice(),scale:[1/l[0],1/l[1]],z2:10,silent:!0});Cb(N.style,N.hoverStyle={},h,w,{labelFetcher:B,labelDataIndex:v,defaultText:b.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"});c.add(N)}if(g)g.setItemGraphicEl(e,c);else{var w=a.getRegionModel(b.name);d.eventData={componentType:"geo",geoIndex:a.componentIndex,name:b.name,region:w&&w.option||{}}}(c.__regions||(c.__regions=[])).push(b);ma(c,m,{hoverSilentOnTouch:!!a.get("selectedMode")});k.add(c)});this._updateController(a,b,c);Uv(this,a,k,c,d);Ip(a,k)},remove:function(){this.group.removeAll();this._controller.dispose();this._controllerHost={}},_updateController:function(a,b,c){function d(){var b={type:"geoRoam",componentType:g};return b[g+"Id"]=a.id,b}var e=a.coordinateSystem;b=this._controller;var f=this._controllerHost;f.zoomLimit=a.get("scaleLimit");f.zoom=e.getZoom();b.enable(a.get("roam")||!1);var g=a.mainType;b.off("pan").on("pan",function(a,b){this._mouseDownFlag=!1;Fp(f,a,b);c.dispatchAction(I(d(),{dx:a,dy:b}))},this);b.off("zoom").on("zoom",function(a,b,e){if(this._mouseDownFlag=!1,Gp(f,a,b,e),c.dispatchAction(I(d(),{zoom:a,originX:b,originY:e})),this._updateGroup){a=this.group;var g=a.scale;a.traverse(function(a){"text"===a.type&&a.attr("scale",[1/g[0],1/g[1]])})}},this);b.setPointerChecker(function(b,d,f){return e.getViewRectAfterRoam().contain(d,f)&&!Gj(b,c,a)})}};Na({type:"map",render:function(a,b,c,d){if(!d||"mapToggleSelect"!==d.type||d.from!==this.uid){var e=this.group;if(e.removeAll(),!a.getHostGeoModel()){if(d&&"geoRoam"===d.type&&"series"===d.componentType&&d.seriesId===a.id)(f=this._mapDraw)&&e.add(f.group);else if(a.needsDrawMap){var f=this._mapDraw||new Eg(c,!0);e.add(f.group);f.draw(a,b,c,this,d);this._mapDraw=f}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&b.getComponent("legend")&&this._renderSymbols(a,b,c)}}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null},_renderSymbols:function(a,b,c){var d=a.originalData,e=this.group;d.each("value",function(b,c){if(!isNaN(b)){var f=d.getItemLayout(c);if(f&&f.point){var g=f.point,f=f.offset,l=new yd({style:{fill:a.getData().getVisual("color")},shape:{cx:g[0]+9*f,cy:g[1],r:3},silent:!0,z2:f?8:10});if(!f){var f=a.mainSeries.getData(),g=d.getName(c),m=f.indexOfName(g),n=d.getItemModel(c),p=n.getModel("label.normal"),q=n.getModel("label.emphasis"),f=f.getItemGraphicEl(m),t=Ba(a.getFormattedLabel(c,"normal"),g),u=Ba(a.getFormattedLabel(c,"emphasis"),t),g=function(){var a=la({},q,{text:q.get("show")?u:null},{isRectText:!0,useInsideStyle:!1},!0);l.style.extendFrom(a);l.__mapOriginalZ2=l.z2;l.z2+=1},m=function(){la(l.style,p,{text:p.get("show")?t:null,textPosition:p.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1});null!=l.__mapOriginalZ2&&(l.z2=l.__mapOriginalZ2,l.__mapOriginalZ2=null)};f.on("mouseover",g).on("mouseout",m).on("emphasis",g).on("normal",m);m()}e.add(l)}}})}});X({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(a,b){var c=a.componentType||"series";b.eachComponent({mainType:c,query:a},function(b){var d=b.coordinateSystem;if("geo"===d.type){var f=Jp(d,a,b.get("scaleLimit"));b.setCenter&&b.setCenter(f.center);b.setZoom&&b.setZoom(f.zoom);"series"===c&&r(b.seriesGroup,function(a){a.setCenter(f.center);a.setZoom(f.zoom)})}})});ta(function(a){var b={};a.eachSeriesByType("map",function(c){var d=c.getMapType();if(!c.getHostGeoModel()&&!b[d]){var e={};r(c.seriesGroup,function(b){var c=b.coordinateSystem,d=b.originalData;b.get("showLegendSymbol")&&a.getComponent("legend")&&d.each("value",function(a,b){var f=d.getName(b),g=c.getRegion(f);if(g&&!isNaN(a)){var h=e[f]||0,g=c.dataToPoint(g.center);e[f]=h+1;d.setItemLayout(b,{point:g,offset:h})}})});var f=c.getData();f.each(function(a){var b=f.getName(a),c=f.getItemLayout(a)||{};c.showLabel=!e[b];f.setItemLayout(a,c)});b[d]=!0}})});na(function(a){a.eachSeriesByType("map",function(a){var b=a.get("color"),d=a.getModel("itemStyle.normal"),e=d.get("areaColor"),b=d.get("color")||b[a.seriesIndex%b.length];a.getData().setVisual({areaColor:e,color:b})})});Ua(se.PROCESSOR.STATISTIC,function(a){var b={};a.eachSeriesByType("map",function(a){var c=a.getHostGeoModel(),c=c?"o"+c.id:"i"+a.getMapType();(b[c]=b[c]||[]).push(a)});r(b,function(a,b){for(var c=Vv(w(a,function(a){return a.getData()}),a[0].get("mapValueCalculation")),d=0;d<a.length;d++)a[d].originalData=a[d].getData();for(d=0;d<a.length;d++)a[d].seriesGroup=a,a[d].needsDrawMap=0===d&&!a[d].getHostGeoModel(),a[d].setData(c.cloneShallow()),a[d].mainSeries=a[0]})});oa(function(a){var b=[];r(a.series,function(a){a&&"map"===a.type&&(b.push(a),a.map=a.map||a.mapType,J(a,a.mapLocation))})});ht("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var hf=r,jf="\x00__link_datas",Fg="\x00__link_mainData",Tl=function(a,b){this.name=a||"";this.height=this.depth=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=b};Tl.prototype={constructor:Tl,isRemoved:function(){return 0>this.dataIndex},eachNode:function(a,b,c){"function"==typeof a&&(c=b,b=a,a=null);Da(a=a||{})&&(a={order:a});var d,e=a.order||"preorder",f=this[a.attr||"children"];"preorder"===e&&(d=b.call(c,this));for(var g=0;!d&&g<f.length;g++)f[g].eachNode(a,b,c);"postorder"===e&&b.call(c,this)},updateDepthAndHeight:function(a){var b=0;this.depth=a;for(var c=0;c<this.children.length;c++){var d=this.children[c];d.updateDepthAndHeight(a+1);d.height>b&&(b=d.height)}this.height=b+1},getNodeById:function(a){if(this.getId()===a)return this;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].getNodeById(a);if(e)return e}},contains:function(a){if(a===this)return!0;for(var b=0,c=this.children,d=c.length;b<d;b++){var e=c[b].contains(a);if(e)return e}},getAncestors:function(a){var b=[];for(a=a?this:this.parentNode;a;)b.push(a),a=a.parentNode;return b.reverse(),b},getValue:function(a){var b=this.hostTree.data;return b.get(b.getDimension(a||"value"),this.dataIndex)},setLayout:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,a,b)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(a){if(!(0>this.dataIndex)){var b,c=this.hostTree,d=c.data.getItemModel(this.dataIndex),e=this.getLevelModel();return e||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(b=this.getLeavesModel()),d.getModel(a,(e||b||c.hostModel).getModel(a))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(a,b){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,a,b)},getVisual:function(a,b){return this.hostTree.data.getItemVisual(this.dataIndex,a,b)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};ce.prototype={constructor:ce,type:"tree",eachNode:function(a,b,c){this.root.eachNode(a,b,c)},getNodeByDataIndex:function(a){a=this.data.getRawIndex(a);return this._nodes[a]},getNodeByName:function(a){return this.root.getNodeByName(a)},update:function(){for(var a=this.data,b=this._nodes,c=0,d=b.length;c<d;c++)b[c].dataIndex=-1;c=0;for(d=a.count();c<d;c++)b[a.getRawIndex(c)].dataIndex=c},clearLayouts:function(){this.data.clearItemLayouts()}};ce.createTree=function(a,b,c){function d(a,b){var c=a.value;g=Math.max(g,A(c)?c.length:1);f.push(a);c=new Tl(a.name,e);if(b){var h=b.children;c.parentNode!==b&&(h.push(c),c.parentNode=b)}else e.root=c;e._nodes.push(c);if(h=a.children)for(var k=0;k<h.length;k++)d(h[k],c)}var e=new ce(b,c.levels,c.leaves),f=[],g=1;d(a);e.root.updateDepthAndHeight(0);a=ab([{name:"value"}],f,{dimCount:g});b=new pa(a,b);return b.initData(f),Kp({mainData:b,struct:e,structAttr:"tree"}),e.update(),e};va.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(a){var b={name:a.name,children:a.data},c={};c.leaves=a.leaves||{};var b=ce.createTree(b,this,c),d=0;b.eachNode("preorder",function(a){a.depth>d&&(d=a.depth)});var e=a.expandAndCollapse&&0<=a.initialTreeDepth?a.initialTreeDepth:d;return b.root.eachNode("preorder",function(a){var b=a.hostTree.data.getRawDataItem(a.dataIndex);a.isExpand=b&&null!=b.collapsed?!b.collapsed:a.depth<=e}),b.data},formatTooltip:function(a){var b=this.getData().tree,c=b.root.children[0];a=b.getNodeByDataIndex(a);for(var b=a.getValue(),d=a.name;a&&a!==c;)d=a.parentNode.name+"."+d,a=a.parentNode;return ia(d+(isNaN(b)||null==b?"":" : "+b))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"horizontal",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{normal:{color:"#ccc",width:1.5,curveness:.5}},itemStyle:{normal:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5}},label:{normal:{show:!0,color:"#555"}},leaves:{label:{normal:{show:!0}}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1E3}});Na({type:"tree",init:function(a,b){this._oldTree;this._mainGroup=new F;this.group.add(this._mainGroup)},render:function(a,b,c,d){var e=a.getData();b=a.layoutInfo;var f=this._mainGroup;d=a.get("layout");"radial"===d?f.attr("position",[b.x+b.width/2,b.y+b.height/2]):f.attr("position",[b.x,b.y]);var g=this._data,h={expandAndCollapse:a.get("expandAndCollapse"),layout:d,orient:a.get("orient"),curvature:a.get("lineStyle.normal.curveness"),symbolRotate:a.get("symbolRotate"),symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};e.diff(g).add(function(b){Np(e,b)&&Pp(e,b,null,f,a,h)}).update(function(b,c){var d=g.getItemGraphicEl(c);Np(e,b)?Pp(e,b,d,f,a,h):d&&Qp(e,b,d,f,a,h)}).remove(function(b){var c=g.getItemGraphicEl(b);Qp(e,b,c,f,a,h)}).execute();!0===h.expandAndCollapse&&e.eachItemGraphicEl(function(b,d){b.off("click").on("click",function(){c.dispatchAction({type:"treeExpandAndCollapse",seriesId:a.id,dataIndex:d})})});this._data=e},dispose:function(){},remove:function(){this._mainGroup.removeAll();this._data=null}});X({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(a,b){b.eachComponent({mainType:"series",subType:"tree",query:a},function(b){var c=a.dataIndex;b=b.getData().tree.getNodeByDataIndex(c);b.isExpand=!b.isExpand})});var jt=function(a,b){var c=dw(a,b);a.layoutInfo=c;var d=a.get("layout"),e=0,f=0,g=null;"radial"===d?(e=2*Math.PI,f=Math.min(c.height,c.width)/2,g=Mp(function(a,b){return(a.parentNode===b.parentNode?1:2)/a.depth})):(e=c.width,f=c.height,g=Mp());var h=a.getData().tree.root,c=h.children[0];$v(h);ew(c,aw,g);h.hierNode.modifier=-c.hierNode.prelim;lf(c,bw);var k=c,l=c,m=c;lf(c,function(a){var b=a.getLayout().x;b<k.getLayout().x&&(k=a);b>l.getLayout().x&&(l=a);a.depth>m.depth&&(m=a)});var g=k===l?1:g(k,l)/2,n=g-k.getLayout().x,p=0,q=0,t=0,u=0;"radial"===d?(p=e/(l.getLayout().x+g+n),q=f/(m.depth-1||1),lf(c,function(a){t=(a.getLayout().x+n)*p;u=(a.depth-1)*q;var b=kf(t,u);a.setLayout({x:b.x,y:b.y,rawX:t,rawY:u},!0)})):"horizontal"===a.get("orient")?(q=f/(l.getLayout().x+g+n),p=e/(m.depth-1||1),lf(c,function(a){u=(a.getLayout().x+n)*q;t=(a.depth-1)*p;a.setLayout({x:t,y:u},!0)})):(p=e/(l.getLayout().x+g+n),q=f/(m.depth-1||1),lf(c,function(a){t=(a.getLayout().x+n)*p;u=(a.depth-1)*q;a.setLayout({x:t,y:u},!0)}))};na(C(Ad,"tree","circle",null));ta(function(a,b){a.eachSeriesByType("tree",function(a){jt(a,b)})});ta(function(a,b){a.eachSeriesByType("tree",function(a){jt(a,b)})});va.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0}},upperLabel:{normal:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},emphasis:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(a,b){var c={name:a.name,children:a.data};Sp(c);var d=a.levels||[],d=a.levels=fw(d,b),e={};return e.levels=d,ce.createTree(c,this,e).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),c=oc(A(c)?c[0]:c);return ia(b.getName(a)+": "+c)},getDataParams:function(a){var b=va.prototype.getDataParams.apply(this,arguments),c=this.getData().tree.getNodeByDataIndex(a);return b.treePathInfo=Rp(c,this),b},setLayoutInfo:function(a){this.layoutInfo=this.layoutInfo||{};I(this.layoutInfo,a)},mapIdToIndex:function(a){var b=this._idIndexMap;b||(b=this._idIndexMap=xa(),this._idIndexMapCount=0);var c=b.get(a);return null==c&&b.set(a,c=this._idIndexMapCount++),c},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(a){a?this._viewRoot=a:a=this._viewRoot;var b=this.getData().tree.root;a&&(a===b||b.contains(a))||(this._viewRoot=b)}});Oj.prototype={constructor:Oj,render:function(a,b,c,d){var e=a.getModel("breadcrumb"),f=this.group;if(f.removeAll(),e.get("show")&&c){var g=e.getModel("itemStyle.normal"),h=g.getModel("textStyle");b={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:b.getWidth(),height:b.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(c,b,h);this._renderContent(a,b,g,h,d);mg(f,b.pos,b.box)}},_prepare:function(a,b,c){for(;a;a=a.parentNode){var d=a.getModel().get("name"),e=c.getTextRect(d),e=Math.max(e.width+16,b.emptyItemWidth);b.totalWidth+=e+8;b.renderList.push({node:a,text:d,width:e})}},_renderContent:function(a,b,c,d,e){var f=0,g=b.emptyItemWidth,h=a.get("breadcrumb.height"),k;k=b.pos;var l=b.box,m=void 0,n=l.width,p=l.height,l=B(k.x,n),q=B(k.y,p),t=B(k.x2,n),u=B(k.y2,p);k=((isNaN(l)||isNaN(parseFloat(k.x)))&&(l=0),(isNaN(t)||isNaN(parseFloat(k.x2)))&&(t=n),(isNaN(q)||isNaN(parseFloat(k.y)))&&(q=0),(isNaN(u)||isNaN(parseFloat(k.y2)))&&(u=p),m=fd(m||0),{width:Math.max(t-l-m[1]-m[3],0),height:Math.max(u-q-m[0]-m[2],0)});m=b.totalWidth;b=b.renderList;for(n=b.length-1;0<=n;n--){t=b[n];l=t.node;q=t.width;t=t.text;m>k.width&&(m-=q-g,q=g,t=null);var u=Oa,p=f,r=h,x=n===b.length-1,P=[[x?p:p-5,0],[p+q,0],[p+q,0+r],[x?p:p-5,0+r]],p=(0!==n&&P.splice(2,0,[p+q+5,0+r/2]),!x&&P.push([p,0+r/2]),P),t=new u({shape:{points:p},style:J(c.getItemStyle(),{lineJoin:"bevel",text:t,textFill:d.getTextColor(),textFont:d.getFont()}),z:10,onclick:C(e,l)});this.group.add(t);t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:a.componentIndex,seriesName:a.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:l&&l.dataIndex,name:l&&l.name},treePathInfo:l&&Rp(l,a)};f+=q+8}},remove:function(){this.group.removeAll()}};var Tp=F,Up=fa,jw=["label","normal"],lw=["label","emphasis"],iw=["upperLabel","normal"],kw=["upperLabel","emphasis"],mw=10,nw=1,ow=2,Pj=qe([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Vp=function(a){a=Pj(a);return a.stroke=a.fill=a.lineWidth=null,a};Na({type:"treemap",init:function(a,b){this._containerGroup;this._storage={nodeGroup:[],background:[],content:[]};this._oldTree;this._breadcrumb;this._controller;this._state="ready"},render:function(a,b,c,d){if(!(0>S(b.findComponents({mainType:"series",subType:"treemap",query:d}),a))){this.seriesModel=a;this.api=c;this.ecModel=b;b=Mj(d,a);var e=d&&d.type,f=a.layoutInfo,g=!this._oldTree,h=this._storage;d="treemapRootToNode"===e&&b&&h?{rootNodeGroup:h.nodeGroup[b.node.getRawIndex()],direction:d.direction}:null;f=this._giveContainerGroup(f);h=this._doRender(f,a,d);g||e&&"treemapZoomToNode"!==e&&"treemapRootToNode"!==e?h.renderFinally():this._doAnimation(f,h,a,d);this._resetController(c);this._renderBreadcrumb(a,c,b)}},_giveContainerGroup:function(a){var b=this._containerGroup;return b||(b=this._containerGroup=new Tp,this._initEvents(b),this.group.add(b)),b.attr("position",[a.x,a.y]),b},_doRender:function(a,b,c){function d(a,b,c,e,f){function g(a){return a.getId()}function h(g,h){var k=null!=g?a[g]:null,l=null!=h?b[h]:null,n=m(k,l,c,f);n&&d(k&&k.viewChildren||[],l&&l.viewChildren||[],n,e,f+1)}e?(b=a,r(a,function(a,b){!a.isRemoved()&&h(b,b)})):(new Ac(b,a,g,g)).add(h).update(h).remove(C(h,null)).execute()}var e=b.getData().tree,f=this._oldTree,g={nodeGroup:[],background:[],content:[]},h={nodeGroup:[],background:[],content:[]},k=this._storage,l=[],m=C(hw,b,h,k,c,g,l);d(e.root?[e.root]:[],f&&f.root?[f.root]:[],a,e===f||!f,0);var n=function(a){var b={nodeGroup:[],background:[],content:[]};return a&&r(a,function(a,c){var d=b[c];r(a,function(a){a&&(d.push(a),a.__tmWillDelete=1)})}),b}(k);return this._oldTree=e,this._storage=h,{lastsForAnimation:g,willDeleteEls:n,renderFinally:function(){r(n,function(a){r(a,function(a){a.parent&&a.parent.remove(a)})});r(l,function(a){a.invisible=!0;a.dirty()})}}},_doAnimation:function(a,b,c,d){if(c.get("animation")){var e=c.get("animationDurationUpdate"),f=c.get("animationEasing"),g=gw();r(b.willDeleteEls,function(a,b){r(a,function(a,c){if(!a.invisible){var h;h=a.parent;if(d&&"drillDown"===d.direction)h=h===d.rootNodeGroup?{shape:{x:0,y:0,width:h.__tmNodeWidth,height:h.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var k=0,l=0;h.__tmWillDelete||(k=h.__tmNodeWidth/2,l=h.__tmNodeHeight/2);h="nodeGroup"===b?{position:[k,l],style:{opacity:0}}:{shape:{x:k,y:l,width:0,height:0},style:{opacity:0}}}h&&g.add(a,h,e,f)}})});r(this._storage,function(a,c){r(a,function(a,d){var h=b.lastsForAnimation[c][d],k={};h&&("nodeGroup"===c?h.old&&(k.position=a.position.slice(),a.attr("position",h.old)):(h.old&&(k.shape=I({},a.shape),a.setShape(h.old)),h.fadein?(a.setStyle("opacity",0),k.style={opacity:1}):1!==a.style.opacity&&(k.style={opacity:1})),g.add(a,k,e,f))})},this);this._state="animating";g.done(z(function(){this._state="ready";b.renderFinally()},this)).start()}},_resetController:function(a){var b=this._controller;b||((b=this._controller=new gf(a.getZr())).enable(this.seriesModel.get("roam")),b.on("pan",z(this._onPan,this)),b.on("zoom",z(this._onZoom,this)));var c=new U(0,0,a.getWidth(),a.getHeight());b.setPointerChecker(function(a,b,f){return c.contain(b,f)})},_clearController:function(){var a=this._controller;a&&a.dispose()},_onPan:function(a,b){if("animating"!==this._state&&(3<Math.abs(a)||3<Math.abs(b))){var c=this.seriesModel.getData().tree.root;c&&(c=c.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x+a,y:c.y+b,width:c.width,height:c.height}})}},_onZoom:function(a,b,c){if("animating"!==this._state){var d=this.seriesModel.getData().tree.root;if(d&&(d=d.getLayout())){var d=new U(d.x,d.y,d.width,d.height),e=this.seriesModel.layoutInfo;b-=e.x;c-=e.y;e=Yb();Mb(e,e,[-b,-c]);Pf(e,e,[a,a]);Mb(e,e,[b,c]);d.applyTransform(e);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:d.x,y:d.y,width:d.width,height:d.height}})}}},_initEvents:function(a){a.on("click",function(a){if("ready"===this._state){var b=this.seriesModel.get("nodeClick",!0);if(b&&(a=this.findTarget(a.offsetX,a.offsetY))){var d=a.node;d.getLayout().isLeafRoot?this._rootToNode(a):"zoomToNode"===b?this._zoomToNode(a):"link"===b&&(a=d.hostTree.data.getItemModel(d.dataIndex),b=a.get("link",!0),a=a.get("target",!0)||"blank",b&&window.open(b,a))}}},this)},_renderBreadcrumb:function(a,b,c){c||(c=null!=a.get("leafDepth",!0)?{node:a.getViewRoot()}:this.findTarget(b.getWidth()/2,b.getHeight()/2))||(c={node:a.getData().tree.root});(this._breadcrumb||(this._breadcrumb=new Oj(this.group))).render(a,b,c.node,z(function(b){if("animating"!==this._state){var c=a.getViewRoot();0<=S(Nj(c),b)?this._rootToNode({node:b}):this._zoomToNode({node:b})}},this))},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage={nodeGroup:[],background:[],content:[]};this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(a){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},_rootToNode:function(a){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:a.node})},findTarget:function(a,b){var c;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(d){var e=this._storage.background[d.getRawIndex()];if(e){var f=e.transformCoordToLocal(a,b),e=e.shape;if(!(e.x<=f[0]&&f[0]<=e.x+e.width&&e.y<=f[1]&&f[1]<=e.y+e.height))return!1;c={node:d,offsetX:f[0],offsetY:f[1]}}},this),c}});for(var kt=["treemapZoomToNode","treemapRender","treemapMove"],Ul=0;Ul<kt.length;Ul++)X({type:kt[Ul],update:"updateView"},function(){});X({type:"treemapRootToNode",update:"updateView"},function(a,b){b.eachComponent({mainType:"series",subType:"treemap",query:a},function(b,d){var c=Mj(a,b);if(c){var f=b.getViewRoot();if(f){var g=c.node,f=0<=S(Nj(f),g);a.direction=f?"rollUp":"drillDown"}b.resetViewRoot(c.node)}})});var mf=r,lt=T,Gg=-1,R=function(a){var b=a.mappingMethod,c=a.type;a=this.option=G(a);this.type=c;this.mappingMethod=b;this._normalizeData=uA[b];c=Gf[c];this.applyVisual=c.applyVisual;this.getColorMapper=c.getColorMapper;this._doMap=c._doMap[b];"piecewise"===b?(Qj(a),pw(a)):"category"===b?a.categories?qw(a):Qj(a,!0):(kc("linear"!==b||a.dataExtent),Qj(a))};R.prototype={constructor:R,mapValueToVisual:function(a){var b=this._normalizeData(a);return this._doMap(b,a)},getNormalizer:function(){return z(this._normalizeData,this)}};var Gf=R.visualHandlers={color:{applyVisual:Sj("color"),getColorMapper:function(){var a=this.option;return z("category"===a.mappingMethod?function(a,c){return!c&&(a=this._normalizeData(a)),Ig.call(this,a)}:function(b,c,d){var e=!!d;return!c&&(b=this._normalizeData(b)),d=He(b,a.parsedVisual,d),e?d:Zb(d,"rgba")},this)},_doMap:{linear:function(a){return Zb(He(a,this.option.parsedVisual),"rgba")},category:Ig,piecewise:function(a,b){var c=Uj.call(this,b);return null==c&&(c=Zb(He(a,this.option.parsedVisual),"rgba")),c},fixed:Tj}},colorHue:Hg(function(a,b){return Md(a,b)}),colorSaturation:Hg(function(a,b){return Md(a,null,b)}),colorLightness:Hg(function(a,b){return Md(a,null,null,b)}),colorAlpha:Hg(function(a,b){return Tf(a,b)}),opacity:{applyVisual:Sj("opacity"),_doMap:Rj([0,1])},symbol:{applyVisual:function(a,b,c){a=this.mapValueToVisual(a);if(Da(a))c("symbol",a);else if(lt(a))for(var d in a)a.hasOwnProperty(d)&&c(d,a[d])},_doMap:{linear:Xp,category:Ig,piecewise:function(a,b){var c=Uj.call(this,b);return null==c&&(c=Xp.call(this,a)),c},fixed:Tj}},symbolSize:{applyVisual:Sj("symbolSize"),_doMap:Rj([0,1])}},uA={linear:function(a){return ba(a,this.option.dataExtent,[0,1],!0)},piecewise:function(a){var b=this.option.pieceList;a=R.findPieceIndex(a,b,!0);if(null!=a)return ba(a,[0,b.length-1],[0,1],!0)},category:function(a){a=this.option.categories?this.option.categoryMap[a]:a;return null==a?Gg:a},fixed:qa};R.listVisualTypes=function(){var a=[];return r(Gf,function(b,c){a.push(c)}),a};R.addVisualHandler=function(a,b){Gf[a]=b};R.isValidType=function(a){return Gf.hasOwnProperty(a)};R.eachVisual=function(a,b,c){T(a)?r(a,b,c):b.call(c,a)};R.mapVisual=function(a,b,c){var d,e=A(a)?[]:T(a)?{}:(d=!0,null);return R.eachVisual(a,function(a,g){var f=b.call(c,a,g);d?e=f:e[g]=f}),e};R.retrieveVisuals=function(a){var b,c={};return a&&mf(Gf,function(d,e){a.hasOwnProperty(e)&&(c[e]=a[e],b=!0)}),b?c:null};R.prepareVisualTypes=function(a){if(lt(a)){var b=[];mf(a,function(a,d){b.push(d)});a=b}else{if(!A(a))return[];a=a.slice()}return a.sort(function(a,b){return"color"===b&&"color"!==a&&0===a.indexOf("color")?1:-1}),a};R.dependsOn=function(a,b){return"color"===b?!(!a||0!==a.indexOf(b)):a===b};R.findPieceIndex=function(a,b,c){function d(b,c){var d=Math.abs(b-a);d<f&&(f=d,e=c)}for(var e,f=1/0,g=0,h=b.length;g<h;g++){var k=b[g].value;if(null!=k){if(k===a||"string"==typeof k&&k===a+"")return g;c&&d(k,g)}}g=0;for(h=b.length;g<h;g++){var l=b[g],k=l.interval,l=l.close;if(k){if(k[0]===-1/0){if(Jg(l[1],a,k[1]))return g}else if(k[1]===1/0){if(Jg(l[0],k[0],a))return g}else if(Jg(l[0],k[0],a)&&Jg(l[1],a,k[1]))return g;c&&d(k[0],g);c&&d(k[1],g)}}if(c)return a===1/0?b.length-1:a===-1/0?0:e};var uw=A,Vj="itemStyle.normal",nf=Math.max,Kg=Math.min,Yj=r,aq=["itemStyle","normal","borderWidth"],vw=["itemStyle","normal","gapWidth"],Cw=["upperLabel","normal","show"],Dw=["upperLabel","normal","height"];na(function(a,b,c){a.eachComponent({mainType:"series",subType:"treemap",query:c},function(a){var b=a.getData().tree,c=b.root,d=a.getModel(Vj);c.isRemoved()||Yp(c,{},w(b.levelModels,function(a){return a?a.get(Vj):null}),d,a.getViewRoot().getAncestors(),a)})});ta(function(a,b,c){a.eachComponent({mainType:"series",subType:"treemap",query:c},function(a){var d=b.getWidth(),f=b.getHeight(),g=a.option,h=ya(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()}),k=g.size||[],l=B(Ea(h.width,k[0]),d),m=B(Ea(h.height,k[1]),f),n=c&&c.type,k=Mj(c,a),p="treemapRender"===n||"treemapMove"===n?c.rootRect:null,q=a.getViewRoot(),t=Nj(q);if("treemapMove"!==n){l="treemapZoomToNode"===n?Aw(a,k,q,l,m):p?[p.width,p.height]:[l,m];(m=g.sort)&&"asc"!==m&&"desc"!==m&&(m="desc");g={squareRatio:g.squareRatio,sort:m,leafDepth:g.leafDepth};q.hostTree.clearLayouts();u={x:0,y:0,width:l[0],height:l[1],area:l[0]*l[1]};q.setLayout(u);$p(q,g,!1,0);var u=q.getLayout();Yj(t,function(a,b){var c=(t[b+1]||q).getValue();a.setLayout(I({dataExtent:[c,c],borderWidth:0,upperHeight:0},u))})}g=a.getData().tree.root;g.setLayout(Bw(h,p,k),!0);a.setLayoutInfo(h);dq(g,new U(-h.x,-h.y,d,f),t,q,0)})});var Hf=function(a){this._directed=a||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData},Qa=Hf.prototype;Qa.type="graph";Qa.isDirected=function(){return this._directed};Qa.addNode=function(a,b){a=a||""+b;var c=this._nodesMap;if(!c["_EC_"+a]){var d=new zb(a,b);return d.hostGraph=this,this.nodes.push(d),c["_EC_"+a]=d,d}};Qa.getNodeByIndex=function(a){a=this.data.getRawIndex(a);return this.nodes[a]};Qa.getNodeById=function(a){return this._nodesMap["_EC_"+a]};Qa.addEdge=function(a,b,c){var d=this._nodesMap,e=this._edgesMap;if("number"==typeof a&&(a=this.nodes[a]),"number"==typeof b&&(b=this.nodes[b]),a instanceof zb||(a=d["_EC_"+a]),b instanceof zb||(b=d["_EC_"+b]),a&&b)if(d=a.id+"-"+b.id,!e[d])return c=new Lg(a,b,c),c.hostGraph=this,this._directed&&(a.outEdges.push(c),b.inEdges.push(c)),a.edges.push(c),a!==b&&b.edges.push(c),this.edges.push(c),e[d]=c,c};Qa.getEdgeByIndex=function(a){a=this.edgeData.getRawIndex(a);return this.edges[a]};Qa.getEdge=function(a,b){a instanceof zb&&(a=a.id);b instanceof zb&&(b=b.id);var c=this._edgesMap;return this._directed?c[a+"-"+b]:c[a+"-"+b]||c[b+"-"+a]};Qa.eachNode=function(a,b){for(var c=this.nodes,d=c.length,e=0;e<d;e++)0<=c[e].dataIndex&&a.call(b,c[e],e)};Qa.eachEdge=function(a,b){for(var c=this.edges,d=c.length,e=0;e<d;e++)0<=c[e].dataIndex&&0<=c[e].node1.dataIndex&&0<=c[e].node2.dataIndex&&a.call(b,c[e],e)};Qa.breadthFirstTraverse=function(a,b,c,d){if(b instanceof zb||(b=this._nodesMap["_EC_"+b]),b){c="out"===c?"outEdges":"in"===c?"inEdges":"edges";for(var e=0;e<this.nodes.length;e++)this.nodes[e].__visited=!1;if(!a.call(d,b,null))for(b=[b];b.length;)for(var f=b.shift(),g=f[c],e=0;e<g.length;e++){var h=g[e],h=h.node1===f?h.node2:h.node1;if(!h.__visited){if(a.call(d,h,f))return;b.push(h);h.__visited=!0}}}};Qa.update=function(){for(var a=this.data,b=this.edgeData,c=this.nodes,d=this.edges,e=0,f=c.length;e<f;e++)c[e].dataIndex=-1;e=0;for(f=a.count();e<f;e++)c[a.getRawIndex(e)].dataIndex=e;b.filterSelf(function(a){a=d[b.getRawIndex(a)];return 0<=a.node1.dataIndex&&0<=a.node2.dataIndex});e=0;for(f=d.length;e<f;e++)d[e].dataIndex=-1;e=0;for(f=b.count();e<f;e++)d[b.getRawIndex(e)].dataIndex=e};Qa.clone=function(){for(var a=new Hf(this._directed),b=this.nodes,c=this.edges,d=0;d<b.length;d++)a.addNode(b[d].id,b[d].dataIndex);for(d=0;d<c.length;d++)b=c[d],a.addEdge(b.node1.id,b.node2.id,b.dataIndex);return a};zb.prototype={constructor:zb,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(a){if(!(0>this.dataIndex))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(a)}};Lg.prototype.getModel=function(a){if(!(0>this.dataIndex))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(a)};var mt=function(a,b){return{getValue:function(c){var d=this[a][b];return d.get(d.getDimension(c||"value"),this.dataIndex)},setVisual:function(c,d){0<=this.dataIndex&&this[a][b].setItemVisual(this.dataIndex,c,d)},getVisual:function(c,d){return this[a][b].getItemVisual(this.dataIndex,c,d)},setLayout:function(c,d){0<=this.dataIndex&&this[a][b].setItemLayout(this.dataIndex,c,d)},getLayout:function(){return this[a][b].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[a][b].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[a][b].getRawIndex(this.dataIndex)}}};M(zb,mt("hostGraph","data"));M(Lg,mt("hostGraph","edgeData"));Hf.Node=zb;Hf.Edge=Lg;var nt=function(a,b,c,d,e){d=new Hf(d);for(var f=0;f<a.length;f++)d.addNode(Ea(a[f].id,a[f].name,f),f);for(var g=[],h=[],k=0,f=0;f<b.length;f++){var l=b[f],m=l.source,n=l.target;d.addEdge(m,n,k)&&(h.push(l),g.push(Ea(l.id,m+" \x3e "+n)),k++)}b=c.get("coordinateSystem");"cartesian2d"===b||"polar"===b?b=Bc(a,c,c.ecModel):(b=fb.get(b),b=ab((b&&"view"!==b.type?b.dimensions||[]:[]).concat(["value"]),a),(b=new pa(b,c)).initData(a));a=new pa(["value"],c);return a.initData(h,g),e&&e(b,a),Kp({mainData:b,struct:d,structAttr:"graph",datas:{node:b,edge:a},datasAttr:{node:"data",edge:"edgeData"}}),d.update(),d},If=bf({type:"series.graph",init:function(a){If.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeOption:function(a){If.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(a.edges||a.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(a){If.superApply(this,"mergeDefaultAndTheme",arguments);ed(a.edgeLabel,["show"])},getInitialData:function(a,b){var c=a.edges||a.links||[],d=a.data||a.nodes||[],e=this;if(d&&c)return nt(d,c,this,!0,function(a,c){function d(a){return(a=this.parsePath(a))&&"label"===a[0]?g:this.parentModel}a.wrapMethod("getItemModel",function(a){var b=e._categoriesModels[a.getShallow("category")];return b&&(b.parentModel=a.parentModel,a.parentModel=b),a});var f=e.getModel("edgeLabel"),g=new W({label:f.option},f.parentModel,b);c.wrapMethod("getItemModel",function(a){return a.customizeGetParent(d),a})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(a,b,c){if("edge"===c){var d=this.getData(),e=this.getDataParams(a,c),f=d.graph.getEdgeByIndex(a),g=d.getName(f.node1.dataIndex),d=d.getName(f.node2.dataIndex),f=[];return null!=g&&f.push(g),null!=d&&f.push(d),f=ia(f.join(" \x3e ")),e.value&&(f+=" : "+ia(e.value)),f}return If.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var a=w(this.option.categories||[],function(a){return null!=a.value?a:I({value:0},a)}),b=new pa(["value"],this);b.initData(a);this._categoriesData=b;this._categoriesModels=b.mapArray(function(a){return b.getItemModel(a,!0)})},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a},isAnimationEnabled:function(){return If.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}}),ot=pb.prototype,Vl=Kj.prototype,Fw=ub({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,b){(ak(b)?ot:Vl).buildPath(a,b)},pointAt:function(a){return ak(this.shape)?ot.pointAt.call(this,a):Vl.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape;a=ak(b)?[b.x2-b.x1,b.y2-b.y1]:Vl.tangentAt.call(this,a);return Id(a,a)}}),Wl=["fromSymbol","toSymbol"],Pc=of.prototype;Pc.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,e=this.parent;e;)e.scale&&(d/=e.scale[0]),e=e.parent;var f=this.childOfName("line");if(this.__dirty||f.__dirty){var g=f.shape.percent,e=f.pointAt(0),h=f.pointAt(g),k=Vb([],h,e);if(Id(k,k),a&&(a.attr("position",e),l=f.tangentAt(0),a.attr("rotation",Math.PI/2-Math.atan2(l[1],l[0])),a.attr("scale",[d*g,d*g])),b){b.attr("position",h);var l=f.tangentAt(1);b.attr("rotation",-Math.PI/2-Math.atan2(l[1],l[0]));b.attr("scale",[d*g,d*g])}c.ignore||(c.attr("position",h),a=5*d,"end"===c.__position?(f=[k[0]*a+h[0],k[1]*a+h[1]],a=.8<k[0]?"left":-.8>k[0]?"right":"center",k=.8<k[1]?"top":-.8>k[1]?"bottom":"middle"):"middle"===c.__position?(b=g/2,k=[(l=f.tangentAt(b))[1],-l[0]],f=f.pointAt(b),0<k[1]&&(k[0]=-k[0],k[1]=-k[1]),f=[f[0]+k[0]*a,f[1]+k[1]*a],a="center",k="bottom",l=-Math.atan2(l[1],l[0]),h[0]<e[0]&&(l=Math.PI+l),c.attr("rotation",l)):(f=[-k[0]*a+e[0],-k[1]*a+e[1]],a=.8<k[0]?"right":-.8>k[0]?"left":"center",k=.8<k[1]?"bottom":-.8>k[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||k,textAlign:c.__textAlign||a},position:f,scale:[d,d]}))}}};Pc._createLine=function(a,b,c){var d=a.hostModel,e=Ew(a.getItemLayout(b));e.shape.percent=0;Ga(e,{shape:{percent:1}},d,b);this.add(e);d=new Q({name:"label"});this.add(d);r(Wl,function(c){var d=eq(c,a,b);this.add(d);this["_"+c+"Type"]=a.getItemVisual(b,c)},this);this._updateCommonStl(a,b,c)};Pc.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=a.getItemLayout(b),g={shape:{}};bk(g.shape,f);Z(e,g,d,b);r(Wl,function(c){var d=a.getItemVisual(b,c),e="_"+c+"Type";this[e]!==d&&(this.remove(this.childOfName(c)),c=eq(c,a,b),this.add(c));this[e]=d},this);this._updateCommonStl(a,b,c)};Pc._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),f=c&&c.lineStyle,g=c&&c.hoverLineStyle,h=c&&c.labelModel,k=c&&c.hoverLabelModel;if(!c||a.hasItemOption)k=a.getItemModel(b),f=k.getModel("lineStyle.normal").getLineStyle(),g=k.getModel("lineStyle.emphasis").getLineStyle(),h=k.getModel("label.normal"),k=k.getModel("label.emphasis");var l=a.getItemVisual(b,"color"),m=Vc(a.getItemVisual(b,"opacity"),f.opacity,1);e.useStyle(J({strokeNoScale:!0,fill:"none",stroke:l,opacity:m},f));e.hoverStyle=g;r(Wl,function(a){(a=this.childOfName(a))&&(a.setColor(l),a.setStyle({opacity:m}))},this);var n,p,q,e=h.getShallow("show"),f=k.getShallow("show"),g=this.childOfName("label");if(e||f)n=d.getRawValue(b),p=null==n?p=a.getName(b):isFinite(n)?ra(n):n,n=l||"#000",q=Ba(d.getFormattedLabel(b,"normal",a.dataType),p),p=Ba(d.getFormattedLabel(b,"emphasis",a.dataType),q);e?(a=la(g.style,h,{text:q},{autoColor:n}),g.__textAlign=a.textAlign,g.__verticalAlign=a.textVerticalAlign,g.__position=h.get("position")||"middle"):g.setStyle("text",null);g.hoverStyle=f?{text:p,textFill:k.getTextColor(!0),fontStyle:k.getShallow("fontStyle"),fontWeight:k.getShallow("fontWeight"),fontSize:k.getShallow("fontSize"),fontFamily:k.getShallow("fontFamily")}:{text:null};g.ignore=!e&&!f;ma(this)};Pc.highlight=function(){this.trigger("emphasis")};Pc.downplay=function(){this.trigger("normal")};Pc.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))};Pc.setLinePoints=function(a){var b=this.childOfName("line");bk(b.shape,a);b.dirty()};ka(of,F);var Xl=Mg.prototype;Xl.updateData=function(a){var b=this._lineData,c=this.group,d=this._ctor,e=a.hostModel,f={lineStyle:e.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:e.getModel("lineStyle.emphasis").getLineStyle(),labelModel:e.getModel("label.normal"),hoverLabelModel:e.getModel("label.emphasis")};a.diff(b).add(function(b){if(gq(a.getItemLayout(b))){var e=new d(a,b,f);a.setItemGraphicEl(b,e);c.add(e)}}).update(function(e,h){var g=b.getItemGraphicEl(h);gq(a.getItemLayout(e))?(g?g.updateData(a,e,f):g=new d(a,e,f),a.setItemGraphicEl(e,g),c.add(g)):c.remove(g)}).remove(function(a){c.remove(b.getItemGraphicEl(a))}).execute();this._lineData=a};Xl.updateLayout=function(){var a=this._lineData;a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)};Xl.remove=function(){this.group.removeAll()};var ck=[],ek=[],fk=[],de=xb,dk=tc,iq=Math.abs,Yl=function(a,b){function c(a){a=a.getVisual("symbolSize");return a instanceof Array&&(a=(a[0]+a[1])/2),a}var d=[],e=[[],[],[]],f=[[],[]],g=[];b/=2;a.eachEdge(function(a,k){var h=a.getLayout(),m=a.getVisual("fromSymbol"),n=a.getVisual("toSymbol");h.__original||(h.__original=[Ab(h[0]),Ab(h[1])],h[2]&&h.__original.push(Ab(h[2])));var p=h.__original;if(null!=h[2]){if(cb(e[0],p[0]),cb(e[1],p[2]),cb(e[2],p[1]),m&&"none"!=m)m=c(a.node1),m=hq(e,p[0],m*b),Od(e[0][0],e[1][0],e[2][0],m,d),e[0][0]=d[3],e[1][0]=d[4],Od(e[0][1],e[1][1],e[2][1],m,d),e[0][1]=d[3],e[1][1]=d[4];n&&"none"!=n&&(m=c(a.node2),m=hq(e,p[1],m*b),Od(e[0][0],e[1][0],e[2][0],m,d),e[1][0]=d[1],e[2][0]=d[2],Od(e[0][1],e[1][1],e[2][1],m,d),e[1][1]=d[1],e[2][1]=d[2]);cb(h[0],e[0]);cb(h[1],e[2]);cb(h[2],e[1])}else{if(cb(f[0],p[0]),cb(f[1],p[1]),Vb(g,f[1],f[0]),Id(g,g),m&&"none"!=m)m=c(a.node1),De(f[0],f[0],g,m*b);n&&"none"!=n&&(m=c(a.node2),De(f[1],f[1],g,-m*b));cb(h[0],f[0]);cb(h[1],f[1])}})},Bd=["itemStyle","normal","opacity"],Mh=["lineStyle","normal","opacity"];Na({type:"graph",init:function(a,b){var c=new Yd,d=new Mg,e=this.group;this._controller=new gf(b.getZr());this._controllerHost={target:e};e.add(c.group);e.add(d.group);this._symbolDraw=c;this._lineDraw=d;this._firstRender=!0},render:function(a,b,c){var d=a.coordinateSystem;this._model=a;this._nodeScaleRatio=a.get("nodeScaleRatio");var e=this._symbolDraw,f=this._lineDraw,g=this.group;"view"===d.type&&(d={position:d.position,scale:d.scale},this._firstRender?g.attr(d):Z(g,d,a));Yl(a.getGraph(),this._getNodeGlobalScale(a));var h=a.getData();e.updateData(h);e=a.getEdgeData();f.updateData(e);this._updateNodeAndLinkScale();this._updateController(a,b,c);clearTimeout(this._layoutTimeout);var k=a.forceLayout,l=a.get("force.layoutAnimation");k&&this._startForceLayoutIteration(k,l);h.eachItemGraphicEl(function(b,d){var e=h.getItemModel(d);b.off("drag").off("dragend");var f=h.getItemModel(d).get("draggable");f&&b.on("drag",function(){k&&(k.warmUp(),!this._layouting&&this._startForceLayoutIteration(k,l),k.setFixed(d),h.setItemLayout(d,b.position))},this).on("dragend",function(){k&&k.setUnfixed(d)},this);b.setDraggable(f&&k);b.off("mouseover",b.__focusNodeAdjacency);b.off("mouseout",b.__unfocusNodeAdjacency);e.get("focusNodeAdjacency")&&(b.on("mouseover",b.__focusNodeAdjacency=function(){c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,dataIndex:b.dataIndex})}),b.on("mouseout",b.__unfocusNodeAdjacency=function(){c.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))},this);h.graph.eachEdge(function(b){var d=b.getGraphicEl();d.off("mouseover",d.__focusNodeAdjacency);d.off("mouseout",d.__unfocusNodeAdjacency);b.getModel().get("focusNodeAdjacency")&&(d.on("mouseover",d.__focusNodeAdjacency=function(){c.dispatchAction({type:"focusNodeAdjacency",seriesId:a.id,edgeDataIndex:b.dataIndex})}),d.on("mouseout",d.__unfocusNodeAdjacency=function(){c.dispatchAction({type:"unfocusNodeAdjacency",seriesId:a.id})}))});var m="circular"===a.get("layout")&&a.get("circular.rotateLabel"),n=h.getLayout("cx"),p=h.getLayout("cy");h.eachItemGraphicEl(function(a,b){var c=a.getSymbolPath();if(m){var d=h.getItemLayout(b),e=Math.atan2(d[1]-p,d[0]-n);0>e&&(e=2*Math.PI+e);(d=d[0]<n)&&(e-=Math.PI);d=d?"left":"right";c.setStyle({textRotation:-e,textPosition:d,textOrigin:"center"});c.hoverStyle&&(c.hoverStyle.textPosition=d)}else c.setStyle({textRotation:0})});this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose();this._controllerHost={}},focusNodeAdjacency:function(a,b,c,d){a=this._model.getData().graph;b=d.edgeDataIndex;d=a.getNodeByIndex(d.dataIndex);b=a.getEdgeByIndex(b);(d||b)&&(a.eachNode(function(a){Ng(a,Bd,.1)}),a.eachEdge(function(a){Ng(a,Mh,.1)}),d&&(od(d,Bd),r(d.edges,function(a){0>a.dataIndex||(od(a,Mh),od(a.node1,Bd),od(a.node2,Bd))})),b&&(od(b,Mh),od(b.node1,Bd),od(b.node2,Bd)))},unfocusNodeAdjacency:function(a,b,c,d){a=this._model.getData().graph;a.eachNode(function(a){Ng(a,Bd)});a.eachEdge(function(a){Ng(a,Mh)})},_startForceLayoutIteration:function(a,b){var c=this;!function e(){a.step(function(a){c.updateLayout(c._model);(c._layouting=!a)&&(b?c._layoutTimeout=setTimeout(e,16):e())})}()},_updateController:function(a,b,c){b=this._controller;var d=this._controllerHost,e=this.group;b.setPointerChecker(function(b,d,h){var f=e.getBoundingRect();return f.applyTransform(e.transform),f.contain(d,h)&&!Gj(b,c,a)});"view"===a.coordinateSystem.type?(b.enable(a.get("roam")),d.zoomLimit=a.get("scaleLimit"),d.zoom=a.coordinateSystem.getZoom(),b.off("pan").off("zoom").on("pan",function(b,e){Fp(d,b,e);c.dispatchAction({seriesId:a.id,type:"graphRoam",dx:b,dy:e})}).on("zoom",function(b,e,h){Gp(d,b,e,h);c.dispatchAction({seriesId:a.id,type:"graphRoam",zoom:b,originX:e,originY:h});this._updateNodeAndLinkScale();Yl(a.getGraph(),this._getNodeGlobalScale(a));this._lineDraw.updateLayout()},this)):b.disable()},_updateNodeAndLinkScale:function(){var a=this._model,b=a.getData(),a=this._getNodeGlobalScale(a),c=[a,a];b.eachItemGraphicEl(function(a,b){a.attr("scale",c)})},_getNodeGlobalScale:function(a){a=a.coordinateSystem;if("view"!==a.type)return 1;var b=this._nodeScaleRatio,c=a.scale,c=c&&c[0]||1;return((a.getZoom()-1)*b+1)/c},updateLayout:function(a){Yl(a.getGraph(),this._getNodeGlobalScale(a));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}});X({type:"graphRoam",event:"graphRoam",update:"none"},function(a,b){b.eachComponent({mainType:"series",query:a},function(b){var c=Jp(b.coordinateSystem,a);b.setCenter&&b.setCenter(c.center);b.setZoom&&b.setZoom(c.zoom)})});X({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){});X({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var ee=De;Ua(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),e=a.getGraph().data,f=c.mapArray(c.getName);e.filterSelf(function(a){a=e.getItemModel(a).getShallow("category");if(null!=a){"number"==typeof a&&(a=f[a]);for(var c=0;c<b.length;c++)if(!b[c].isSelected(a))return!1}return!0})},this)});na(C(Ad,"graph","circle",null));na(function(a){var b={};a.eachSeriesByType("graph",function(a){var c=a.getCategoriesData(),e=a.getData(),f={};c.each(function(d){var e=c.getName(d);f["ec-"+e]=d;e=c.getItemModel(d).get("itemStyle.normal.color")||a.getColorFromPalette(e,b);c.setItemVisual(d,"color",e)});c.count()&&e.each(function(a){var b=e.getItemModel(a).getShallow("category");null!=b&&("string"==typeof b&&(b=f["ec-"+b]),e.getItemVisual(a,"color",!0)||e.setItemVisual(a,"color",c.getItemVisual(b,"color")))})})});na(function(a){a.eachSeriesByType("graph",function(a){var b=a.getGraph(),d=a.getEdgeData(),e=Og(a.get("edgeSymbol")),f=Og(a.get("edgeSymbolSize")),g=["lineStyle","normal","color"],h=["lineStyle","normal","opacity"];d.setVisual("fromSymbol",e&&e[0]);d.setVisual("toSymbol",e&&e[1]);d.setVisual("fromSymbolSize",f&&f[0]);d.setVisual("toSymbolSize",f&&f[1]);d.setVisual("color",a.get(g));d.setVisual("opacity",a.get(h));d.each(function(a){var c=d.getItemModel(a);a=b.getEdgeByIndex(a);var e=Og(c.getShallow("symbol",!0)),f=Og(c.getShallow("symbolSize",!0)),k=c.get(g),c=c.get(h);switch(k){case "source":k=a.node1.getVisual("color");break;case "target":k=a.node2.getVisual("color")}e[0]&&a.setVisual("fromSymbol",e[0]);e[1]&&a.setVisual("toSymbol",e[1]);f[0]&&a.setVisual("fromSymbolSize",f[0]);f[1]&&a.setVisual("toSymbolSize",f[1]);a.setVisual("color",k);a.setVisual("opacity",c)})})});ta(function(a,b){a.eachSeriesByType("graph",function(a){var b=a.get("layout"),c=a.coordinateSystem;if(c&&"view"!==c.type){var f=a.getData(),g=c.dimensions;f.each(g,function(){for(var a,b=arguments,d=[],e=0;e<g.length;e++)isNaN(b[e])||(a=!0),d.push(b[e]);b=b[b.length-1];a?f.setItemLayout(b,c.dataToPoint(d)):f.setItemLayout(b,[NaN,NaN])});lq(f.graph)}else b&&"none"!==b||kq(a)})});ta(function(a){a.eachSeriesByType("graph",function(a){"circular"===a.get("layout")&&mq(a)})});ta(function(a){a.eachSeriesByType("graph",function(a){var b=a.coordinateSystem;if(!b||"view"===b.type)if("force"===a.get("layout")){var d=a.preservedPoints||{},e=a.getGraph(),f=e.data,b=e.edgeData,g=a.getModel("force"),h=g.get("initLayout");a.preservedPoints?f.each(function(a){var b=f.getId(a);f.setItemLayout(a,d[b]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&mq(a):kq(a);var k=f.getDataExtent("value"),l=b.getDataExtent("value"),m=g.get("repulsion"),n=g.get("edgeLength");A(m)||(m=[m,m]);A(n)||(n=[n,n]);var n=[n[1],n[0]],p=f.mapArray("value",function(a,b){var c=f.getItemLayout(b),d=ba(a,k,m);return isNaN(d)&&(d=(m[0]+m[1])/2),{w:d,rep:d,fixed:f.getItemModel(b).get("fixed"),p:!c||isNaN(c[0])||isNaN(c[1])?null:c}}),h=b.mapArray("value",function(a,b){var c=e.getEdgeByIndex(b),d=ba(a,l,n);return isNaN(d)&&(d=(n[0]+n[1])/2),{n1:p[c.node1.dataIndex],n2:p[c.node2.dataIndex],d:d,curveness:c.getModel().get("lineStyle.normal.curveness")||0}}),q=(b=a.coordinateSystem).getBoundingRect(),g=Gw(p,h,{rect:q,gravity:g.get("gravity")}),t=g.step;g.step=function(a){for(var b=0,c=p.length;b<c;b++)p[b].fixed&&cb(p[b].p,e.getNodeByIndex(b).getLayout());t(function(b,c,g){for(var h=0,k=b.length;h<k;h++)b[h].fixed||e.getNodeByIndex(h).setLayout(b[h].p),d[f.getId(h)]=b[h].p;h=0;for(k=c.length;h<k;h++){b=c[h];var l=e.getEdgeByIndex(h),m=b.n1.p,n=b.n2.p,p=l.getLayout();(p=p?p.slice():[])[0]=p[0]||[];p[1]=p[1]||[];cb(p[0],m);cb(p[1],n);+b.curveness&&(p[2]=[(m[0]+n[0])/2-(m[1]-n[1])*b.curveness,(m[1]+n[1])/2-(n[0]-m[0])*b.curveness]);l.setLayout(p)}a&&a(g)})};a.forceLayout=g;a.preservedPoints=d;g.step()}else a.forceLayout=null})});qj("graphView",{create:function(a,b){var c=[];return a.eachSeriesByType("graph",function(a){var d=a.get("coordinateSystem");if(!d||"view"===d){var f=a.getData(),d=[],g=[];An(f.mapArray(function(a){a=f.getItemModel(a);return[+a.get("x"),+a.get("y")]}),d,g);0==g[0]-d[0]&&(g[0]+=1,--d[0]);0==g[1]-d[1]&&(g[1]+=1,--d[1]);var h=(g[0]-d[0])/(g[1]-d[1]),k=Hw(a,b,h);isNaN(h)&&(d=[k.x,k.y],g=[k.x+k.width,k.y+k.height]);var h=g[0]-d[0],g=g[1]-d[1],l=k.width,m=k.height,n=a.coordinateSystem=new nd;n.zoomLimit=a.get("scaleLimit");n.setBoundingRect(d[0],d[1],h,g);n.setViewRect(k.x,k.y,l,m);n.setCenter(a.get("center"));n.setZoom(a.get("zoom"));c.push(n)}}),c}});va.extend({type:"series.gauge",getInitialData:function(a,b){var c=new pa(["value"],this),d=a.data||[];return A(d)||(d=[d]),c.initData(d),c},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var vA=ea.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(a,b){var c=Math.cos,d=Math.sin,e=b.r,f=b.width,g=b.angle,h=b.x-c(g)*f*(f>=e/3?1:2),k=b.y-d(g)*f*(f>=e/3?1:2),g=b.angle-Math.PI/2;a.moveTo(h,k);a.lineTo(b.x+c(g)*f,b.y+d(g)*f);a.lineTo(b.x+c(b.angle)*e,b.y+d(b.angle)*e);a.lineTo(b.x-c(g)*f,b.y-d(g)*f);a.lineTo(h,k)}}),wA=2*Math.PI,pt=(Ta.extend({type:"gauge",render:function(a,b,c){this.group.removeAll();var d=a.get("axisLine.lineStyle.color"),e;e=a.get("center");var f=c.getWidth(),g=c.getHeight(),f=Math.min(f,g);e={cx:B(e[0],c.getWidth()),cy:B(e[1],c.getHeight()),r:B(a.get("radius"),f/2)};this._renderMain(a,b,c,d,e)},dispose:function(){},_renderMain:function(a,b,c,d,e){for(var f=this.group,g=a.getModel("axisLine").getModel("lineStyle"),h=a.get("clockwise"),k=-a.get("startAngle")/180*Math.PI,l=-a.get("endAngle")/180*Math.PI,m=(l-k)%wA,n=k,p=g.get("width"),q=0;q<d.length;q++)n=new Gc({shape:{startAngle:n,endAngle:l=k+m*Math.min(Math.max(d[q][0],0),1),cx:e.cx,cy:e.cy,clockwise:h,r0:e.r-p,r:e.r},silent:!0}),n.setStyle({fill:d[q][1]}),n.setStyle(g.getLineStyle(["color","borderWidth","borderColor"])),f.add(n),n=l;f=function(a){if(0>=a)return d[0][1];for(var b=0;b<d.length;b++)if(d[b][0]>=a&&(0===b?0:d[b-1][0])<a)return d[b][1];return d[b-1][1]};h||(l=k=l);this._renderTicks(a,b,c,f,e,k,l,h);this._renderPointer(a,b,c,f,e,k,l,h);this._renderTitle(a,b,c,f,e);this._renderDetail(a,b,c,f,e)},_renderTicks:function(a,b,c,d,e,f,g,h){b=this.group;c=e.cx;h=e.cy;e=e.r;var k=+a.get("min"),l=+a.get("max"),m=a.getModel("splitLine"),n=a.getModel("axisTick"),p=a.getModel("axisLabel");a=a.get("splitNumber");var q=n.get("splitNumber"),t=B(m.get("length"),e),u=B(n.get("length"),e),r=f;f=(g-f)/a;g=f/q;for(var x=m.getModel("lineStyle").getLineStyle(),w=n.getModel("lineStyle").getLineStyle(),y=0;y<=a;y++){var E=Math.cos(r),D=Math.sin(r);if(m.get("show")){var H=new pb({shape:{x1:E*e+c,y1:D*e+h,x2:E*(e-t)+c,y2:D*(e-t)+h},style:x,silent:!0});"auto"===x.stroke&&H.setStyle({stroke:d(y/a)});b.add(H)}if(p.get("show")){var H=nq(ra(y/a*(l-k)+k),p.get("formatter")),A=p.get("distance"),z=d(y/a);b.add(new Q({style:la({},p,{text:H,x:E*(e-t-A)+c,y:D*(e-t-A)+h,textVerticalAlign:-.4>D?"top":.4<D?"bottom":"middle",textAlign:-.4>E?"left":.4<E?"right":"center"},{autoColor:z}),silent:!0}))}if(n.get("show")&&y!==a){for(H=0;H<=q;H++)E=Math.cos(r),D=Math.sin(r),E=new pb({shape:{x1:E*e+c,y1:D*e+h,x2:E*(e-u)+c,y2:D*(e-u)+h},silent:!0,style:w}),"auto"===w.stroke&&E.setStyle({stroke:d((y+H/q)/a)}),b.add(E),r+=g;r-=g}else r+=f}},_renderPointer:function(a,b,c,d,e,f,g,h){var k=this.group,l=this._data;if(a.get("pointer.show")){var m=[+a.get("min"),+a.get("max")],n=[f,g],p=a.getData();p.diff(l).add(function(b){var c=new vA({shape:{angle:f}});Ga(c,{shape:{angle:ba(p.get("value",b),m,n,!0)}},a);k.add(c);p.setItemGraphicEl(b,c)}).update(function(b,c){var d=l.getItemGraphicEl(c);Z(d,{shape:{angle:ba(p.get("value",b),m,n,!0)}},a);k.add(d);p.setItemGraphicEl(b,d)}).remove(function(a){a=l.getItemGraphicEl(a);k.remove(a)}).execute();p.eachItemGraphicEl(function(a,b){var c=p.getItemModel(b),f=c.getModel("pointer");a.setShape({x:e.cx,y:e.cy,width:B(f.get("width"),e.r),r:B(f.get("length"),e.r)});a.useStyle(c.getModel("itemStyle.normal").getItemStyle());"auto"===a.style.fill&&a.setStyle("fill",d(ba(p.get("value",b),m,[0,1],!0)));ma(a,c.getModel("itemStyle.emphasis").getItemStyle())});this._data=p}else l&&l.eachItemGraphicEl(function(a){k.remove(a)})},_renderTitle:function(a,b,c,d,e){b=a.getModel("title");if(b.get("show")){var f=b.get("offsetCenter");c=e.cx+B(f[0],e.r);e=e.cy+B(f[1],e.r);var f=+a.get("min"),g=+a.get("max");d=d(ba(a.getData().get("value",0),[f,g],[0,1],!0));this.group.add(new Q({silent:!0,style:la({},b,{x:c,y:e,text:a.getData().getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}},_renderDetail:function(a,b,c,d,e){b=a.getModel("detail");var f=+a.get("min"),g=+a.get("max");if(b.get("show")){var h=b.get("offsetCenter");c=e.cx+B(h[0],e.r);var h=e.cy+B(h[1],e.r),k=B(b.get("width"),e.r);e=B(b.get("height"),e.r);a=a.getData().get("value",0);d=d(ba(a,[f,g],[0,1],!0));this.group.add(new Q({silent:!0,style:la({},b,{x:c,y:h,text:nq(a,b.get("formatter")),textWidth:isNaN(k)?null:k,textHeight:isNaN(e)?null:e,textAlign:"center",textVerticalAlign:"middle"},{autoColor:d,forceRich:!0})}))}}}),bf({type:"series.funnel",init:function(a){pt.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this._defaultLabelLine(a)},getInitialData:function(a,b){var c=ab(["value"],a.data),c=new pa(c,this);return c.initData(a.data),c},_defaultLabelLine:function(a){ed(a.labelLine,["show"]);var b=a.labelLine.normal,c=a.labelLine.emphasis;b.show=b.show&&a.label.normal.show;c.show=c.show&&a.label.emphasis.show},getDataParams:function(a){var b=this.getData(),c=pt.superCall(this,"getDataParams",a),d=b.getSum("value");return c.percent=d?+(b.get("value",a)/d*100).toFixed(2):0,c.$vars.push("percent"),c},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}})),qt=gk.prototype,xA=["itemStyle","normal","opacity"];qt.updateData=function(a,b,c){var d=this.childAt(0),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b),h=a.getItemModel(b).get(xA),h=null==h?1:h;d.useStyle({});c?(d.setShape({points:g.points}),d.setStyle({opacity:0}),Ga(d,{style:{opacity:h}},e,b)):Z(d,{style:{opacity:h},shape:{points:g.points}},e,b);c=f.getModel("itemStyle");e=a.getItemVisual(b,"color");d.setStyle(J({lineJoin:"round",fill:e},c.getModel("normal").getItemStyle(["opacity"])));d.hoverStyle=c.getModel("emphasis").getItemStyle();this._updateLabel(a,b);ma(this)};qt._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,f=a.getItemModel(b),g=a.getItemLayout(b).label;a.getItemVisual(b,"color");Z(c,{shape:{points:g.linePoints||g.linePoints}},e,b);Z(d,{style:{x:g.x,y:g.y}},e,b);d.attr({rotation:g.rotation,origin:[g.x,g.y],z2:10});var e=f.getModel("label.normal"),h=f.getModel("label.emphasis"),k=f.getModel("labelLine.normal"),l=f.getModel("labelLine.emphasis"),f=a.getItemVisual(b,"color");Cb(d.style,d.hoverStyle={},e,h,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:f,useInsideStyle:!!g.inside},{textAlign:g.textAlign,textVerticalAlign:g.verticalAlign});d.ignore=d.normalIgnore=!e.get("show");d.hoverIgnore=!h.get("show");c.ignore=c.normalIgnore=!k.get("show");c.hoverIgnore=!l.get("show");c.setStyle({stroke:f});c.setStyle(k.getModel("lineStyle").getLineStyle());c.hoverStyle=l.getModel("lineStyle").getLineStyle()};ka(gk,F);Ta.extend({type:"funnel",render:function(a,b,c){var d=a.getData(),e=this._data,f=this.group;d.diff(e).add(function(a){var b=new gk(d,a);d.setItemGraphicEl(a,b);f.add(b)}).update(function(a,b){var c=e.getItemGraphicEl(b);c.updateData(d,a);f.add(c);d.setItemGraphicEl(a,c)}).remove(function(a){a=e.getItemGraphicEl(a);f.remove(a)}).execute();this._data=d},remove:function(){this.group.removeAll();this._data=null},dispose:function(){}});na(C(Ol,"funnel"));ta(function(a,b,c){a.eachSeriesByType("funnel",function(a){var c=a.getData(),d=a.get("sort"),g=Iw(a,b),h=Jw(c,d),k=[B(a.get("minSize"),g.width),B(a.get("maxSize"),g.width)],l=c.getDataExtent("value"),m=a.get("min"),n=a.get("max");null==m&&(m=Math.min(l[0],0));null==n&&(n=l[1]);var p=a.get("funnelAlign");a=a.get("gap");var l=(g.height-a*(c.count()-1))/c.count(),q=g.y,t=function(a,b){var d,e=ba(c.get("value",a)||0,[m,n],k,!0);switch(p){case "left":d=g.x;break;case "center":d=g.x+(g.width-e)/2;break;case "right":d=g.x+g.width-e}return[[d,b],[d+e,b]]};"ascending"===d&&(l=-l,a=-a,q+=g.height,h=h.reverse());for(d=0;d<h.length;d++){var r=h[d],v=h[d+1],x=t(r,q),v=t(v,q+l),q=q+(l+a);c.setItemLayout(r,{points:x.concat(v.slice().reverse())})}Kw(c)})});Ua(C(Lh,"funnel"));var Nh=function(a,b,c,d,e){Aa.call(this,a,b,c);this.type=d||"value";this.axisIndex=e};Nh.prototype={constructor:Nh,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}};ka(Nh,Aa);var ve=function(a,b,c,d,e,f){b[0]=Pg(b[0],c);b[1]=Pg(b[1],c);a=a||0;var g=c[1]-c[0];null!=e&&(e=Pg(e,[0,g]));null!=f&&(f=Math.max(f,null!=e?e:0));"all"===d&&(e=f=Math.abs(b[1]-b[0]),d=0);g=hk(b,d);b[d]+=a;a=e||0;c=c.slice();0>g.sign?c[0]+=a:c[1]-=a;b[d]=Pg(b[d],c);c=hk(b,d);null!=e&&(c.sign!==g.sign||c.span<e)&&(b[1-d]=b[d]+g.sign*e);c=hk(b,d);return null!=f&&c.span>f&&(b[1-d]=b[d]+c.sign*f),b},oq=Math.min,pq=Math.max,rt=Math.floor,yA=Math.ceil,zA=Math.PI;ik.prototype={type:"parallel",constructor:ik,_init:function(a,b,c){var d=a.parallelAxisIndex;r(a.dimensions,function(a,c){var e=d[c],f=b.getComponent("parallelAxis",e),e=this._axesMap.set(a,new Nh(a,Wd(f),[0,0],f.get("type"),e));e.onBand="category"===e.type&&f.get("boundaryGap");e.inverse=f.get("inverse");f.axis=e;e.model=f;e.coordinateSystem=f.coordinateSystem=this},this)},update:function(a,b){this._updateAxesFromSeries(this._model,a)},containPoint:function(a){var b=this._makeLayoutInfo(),c=b.axisBase,d=b.layoutBase,e=b.pixelDimIndex,f=a[1-e];a=a[e];return f>=c&&f<=c+b.axisLength&&a>=d&&a<=d+b.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(a,b){b.eachSeries(function(c){if(a.contains(c,b)){var d=c.getData();r(this.dimensions,function(a){var b=this._axesMap.get(a);b.scale.unionExtentFromData(d,a);Cc(b.scale,b.model)},this)}},this)},resize:function(a,b){this._rect=ya(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var a,b=this._model,c=this._rect,d=["x","y"],e=["width","height"],f=b.get("layout"),g="horizontal"===f?0:1,h=c[e[g]],k=[0,h],l=this.dimensions.length,m=Qg(b.get("axisExpandWidth"),k),n=Qg(b.get("axisExpandCount")||0,[0,l]),p=b.get("axisExpandable")&&3<l&&l>n&&1<n&&0<m&&0<h,q=b.get("axisExpandWindow");q?(a=Qg(q[1]-q[0],k),q[1]=q[0]+a):(a=Qg(m*(n-1),k),(q=[m*(b.get("axisExpandCenter")||rt(l/2))-a/2])[1]=q[0]+a);a=(h-a)/(l-n);3>a&&(a=0);b=[rt(ra(q[0]/m,1))+1,yA(ra(q[1]/m,1))-1];return{layout:f,pixelDimIndex:g,layoutBase:c[d[g]],layoutLength:h,axisBase:c[d[1-g]],axisLength:c[e[1-g]],axisExpandable:p,axisExpandWidth:m,axisCollapseWidth:a,axisExpandWindow:q,axisCount:l,winInnerIndices:b,axisExpandWindow0Pos:a/m*q[0]}},_layoutAxes:function(){var a=this._rect,b=this._axesMap,c=this.dimensions,d=this._makeLayoutInfo(),e=d.layout;b.each(function(a){var b=[0,d.axisLength],c=a.inverse?1:0;a.setExtent(b[c],b[1-c])});r(c,function(c,g){var f=(d.axisExpandable?Ow:Nw)(g,d),k={horizontal:{x:f.position,y:d.axisLength},vertical:{x:0,y:f.position}},k=[k[e].x+a.x,k[e].y+a.y],l={horizontal:zA/2,vertical:0}[e],m=Yb();Xc(m,m,l);Mb(m,m,k);this._axesLayout[c]={position:k,rotation:l,transform:m,axisNameAvailableWidth:f.axisNameAvailableWidth,axisLabelShow:f.axisLabelShow,nameTruncateMaxWidth:f.nameTruncateMaxWidth,tickDirection:1,labelDirection:1,labelInterval:b.get(c).getLabelInterval()}},this)},getAxis:function(a){return this._axesMap.get(a)},dataToPoint:function(a,b){return this.axisCoordToPoint(this._axesMap.get(b).dataToCoord(a),b)},eachActiveState:function(a,b,c){for(var d=this.dimensions,e=this._axesMap,f=this.hasAxisBrushed(),g=0,h=a.count();g<h;g++){var k,l=a.getValues(d,g);if(f){k="active";for(var m=0,n=d.length;m<n;m++)if("inactive"===e.get(d[m]).model.getActiveState(l[m],m)){k="inactive";break}}else k="normal";b.call(c,k,g)}},hasAxisBrushed:function(){for(var a=this.dimensions,b=this._axesMap,c=!1,d=0,e=a.length;d<e;d++)"normal"!==b.get(a[d]).model.getActiveState()&&(c=!0);return c},axisCoordToPoint:function(a,b){return Za([a,0],this._axesLayout[b].transform)},getAxisLayout:function(a){return G(this._axesLayout[a])},getSlidedAxisExpandWindow:function(a){var b=this._makeLayoutInfo(),c=b.pixelDimIndex,d=b.axisExpandWindow.slice(),e=d[1]-d[0],f=[0,b.axisExpandWidth*(b.axisCount-1)];if(!this.containPoint(a))return{behavior:"none",axisExpandWindow:d};var g;a=a[c]-b.layoutBase-b.axisExpandWindow0Pos;var c="slide",h=b.axisCollapseWidth,k=this._model.get("axisExpandSlideTriggerArea"),l=null!=k[0];h?(l&&h&&a<e*k[0]?(c="jump",g=a-e*k[2]):l&&h&&a>e*(1-k[0])?(c="jump",g=a-e*(1-k[2])):0<=(g=a-e*k[1])&&0>=(g=a-e*(1-k[1]))&&(g=0),(g*=b.axisExpandWidth/h)?ve(g,d,f,"all"):c="none"):(e=d[1]-d[0],(d=[pq(0,f[1]*a/e-e/2)])[1]=oq(f[1],d[0]+e),d[0]=d[1]-e);return{axisExpandWindow:d,behavior:c}}};fb.register("parallel",{create:function(a,b){var c=[];return a.eachComponent("parallel",function(d,e){var f=new ik(d,a,b);f.name="parallel_"+e;f.resize(d,b);d.coordinateSystem=f;f.model=d;c.push(f)}),a.eachSeries(function(b){if("parallel"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"parallel",index:b.get("parallelIndex"),id:b.get("parallelId")})[0];b.coordinateSystem=c.coordinateSystem}}),c}});var st=V.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return qe([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(a){if(a=this.activeIntervals=G(a))for(var b=a.length-1;0<=b;b--)Nb(a[b])},getActiveState:function(a){var b=this.activeIntervals;if(!b.length)return"normal";if(null==a)return"inactive";for(var c=0,d=b.length;c<d;c++)if(b[c][0]<=a&&a<=b[c][1])return"active";return"inactive"}});L(st.prototype,zd);te("parallel",st,function(a,b){return b.type||(b.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10});V.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){V.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(a){var b=this.option;a&&L(b,a,!0);this._initDimensions()},contains:function(a,b){var c=a.get("parallelIndex");return null!=c&&b.getComponent("parallel",c)===this},setAxisExpand:function(a){r(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(b){a.hasOwnProperty(b)&&(this.option[b]=a[b])},this)},_initDimensions:function(){var a=this.dimensions=[],b=this.parallelAxisIndex=[];r(Ca(this.dependentModels.parallelAxis,function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(c){a.push("dim"+c.get("dim"));b.push(c.componentIndex)})}});X({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(a,b){b.eachComponent({mainType:"parallelAxis",query:a},function(b){b.axis.model.setActiveIntervals(a.intervals)})});X("parallelAxisExpand",function(a,b){b.eachComponent({mainType:"parallel",query:a},function(b){b.setAxisExpand(a)})});var Jc=C,Kb=r,Uw=w,pf=Math.min,ge=Math.max,$w=Math.pow,Tw=1E4,ax=6,Vw=6,qq="globalPan",Yw={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Ww={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},rq={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Pw=0;fe.prototype={constructor:fe,enableBrush:function(a){return this._brushType&&Sw(this),a.brushType&&Rw(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels={};r(a,function(a){b[a.panelId]=G(a)})}else this._panels=null;return this},mount:function(a){a=a||{};this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){Kb(this._covers,a,b)},updateCovers:function(a){function b(a,b){return(null!=a.id?a.id:d+b)+"-"+a.brushType}function c(b,c){var d=a[b];null!=c&&e[c]===h?f[b]=e[c]:(d=f[b]=null!=c?(e[c].__brushOption=d,e[c]):uq(g,sq(g,d)),jk(g,d))}a=w(a,function(a){return L(G(rq),a,!0)});var d="\x00-brush-index-",e=this._covers,f=this._covers=[],g=this,h=this._creatingCover;return(new Ac(e,a,function(a,c){return b(a.__brushOption,c)},b)).add(c).update(c).remove(function(a){e[a]!==h&&g.group.remove(e[a])}).execute(),this},unmount:function(){return this.enableBrush(!1),lk(this),this._zr.remove(this.group),this},dispose:function(){this.unmount();this.off()}};M(fe,mb);var Qw={mousedown:function(a){if(this._dragging)Dq.call(this,a);else if(!a.target||!a.target.draggable){qk(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;(this._creatingPanel=kk(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a:if(this._brushType){var c=this._zr,d=this._covers,e=kk(this,a,b);if(!this._dragging)for(var f=0;f<d.length;f++){var g=d[f].__brushOption;if(e&&(!0===e||g.panelId===e.panelId)&&pd[g.brushType].contain(d[f],b[0],b[1]))break a}e&&c.setCursorStyle("crosshair")}this._dragging&&(qk(a),(a=Cq(this,a,b,!1))&&qd(this,a))},mouseup:Dq},pd={lineX:Eq(0),lineY:Eq(1),rect:{createCover:function(a,b){return xq(Jc(Aq,function(a){return a},function(a){return a}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=wq(a);return zq(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){yq(a,b,c,d)},updateCommon:nk,contain:rk},polygon:{createCover:function(a,b){var c=new F;return c.add(new wb({name:"main",style:mk(b),silent:!0})),c},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));b.add(new Oa({name:"main",draggable:!0,drift:Jc(Zw,a,b),ondragend:Jc(qd,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:pk(a,b,c)})},updateCommon:nk,contain:rk}},AA=["axisLine","axisTickLabel","axisName"],BA=ua({type:"parallelAxis",init:function(a,b){BA.superApply(this,"init",arguments);(this._brushController=new fe(b.getZr())).on("brush",z(this._onBrush,this))},render:function(a,b,c,d){if(!d||"axisAreaSelect"!==d.type||b.findComponents({mainType:"parallelAxis",query:d})[0]!==a){this.axisModel=a;this.api=c;this.group.removeAll();var e=this._axisGroup;if(this._axisGroup=new F,this.group.add(this._axisGroup),a.get("show")){b=b.getComponent("parallel",a.get("parallelIndex"));var f=b.coordinateSystem,g=a.getAreaSelectStyle(),h=g.width,f=I({strokeContainThreshold:h},f.getAxisLayout(a.axis.dim)),k=new Ia(a,f);r(AA,k.add,k);this._axisGroup.add(k.getGroup());this._refreshBrushController(f,g,a,b,h,c);Zi(e,this._axisGroup,d&&!1===d.animation?null:a)}}},updateVisual:function(a,b,c,d){this._brushController&&this._brushController.updateCovers(Iq(a))},_refreshBrushController:function(a,b,c,d,e,f){var g=c.axis.getExtent(),h=g[1]-g[0],k=Math.min(30,.1*Math.abs(h));e=U.create({x:g[0],y:-e/2,width:h,height:e});e.x-=k;e.width+=2*k;this._brushController.mount({enableGlobalPan:!0,rotation:a.rotation,position:a.position}).setPanels([{panelId:"pl",clipPath:Fq(e),isTargetByCursor:Hq(e,f,d),getLinearBrushOtherExtent:Gq(e,0)}]).enableBrush({brushType:"lineX",brushStyle:b,removeOnClick:!0}).updateCovers(Iq(c))},_onBrush:function(a,b){var c=this.axisModel,d=c.axis,e=w(a,function(a){return[d.coordToData(a.range[0],!0),d.coordToData(a.range[1],!0)]});(!c.option.realtime===b.isEnd||b.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:c.id,intervals:e})},dispose:function(){this._brushController.dispose()}});ua({type:"parallel",render:function(a,b,c){this._model=a;this._api=c;this._handlers||(this._handlers={},r(CA,function(a,b){c.getZr().on(b,this._handlers[b]=z(a,this))},this));Ye(this,"_throttledDispatchExpand",a.get("axisExpandRate"),"fixRate")},dispose:function(a,b){r(this._handlers,function(a,d){b.getZr().off(d,a)});this._handlers=null},_throttledDispatchExpand:function(a){this._dispatchExpand(a)},_dispatchExpand:function(a){a&&this._api.dispatchAction(I({type:"parallelAxisExpand"},a))}});var CA={mousedown:function(a){sk(this,"click")&&(this._mouseDownPoint=[a.offsetX,a.offsetY])},mouseup:function(a){var b=this._mouseDownPoint;if(sk(this,"click")&&b){var c=[a.offsetX,a.offsetY];if(5<Math.pow(b[0]-c[0],2)+Math.pow(b[1]-c[1],2))return;a=this._model.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);"none"!==a.behavior&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(a){if(!this._mouseDownPoint&&sk(this,"mousemove")){var b=this._model;a=b.coordinateSystem.getSlidedAxisExpandWindow([a.offsetX,a.offsetY]);var c=a.behavior;"jump"===c&&this._throttledDispatchExpand.debounceNextCall(b.get("axisExpandDebounce"));this._throttledDispatchExpand("none"===c?null:{axisExpandWindow:a.axisExpandWindow,animation:"jump"===c&&null})}}};oa(function(a){Lw(a);Mw(a)});va.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.normal.color",getInitialData:function(a,b){var c=b.getComponent("parallel",this.get("parallelIndex")),d=c.parallelAxisIndex,e=a.data,f=c.dimensions,c=w(cx(f,e),function(a,c){var g=S(f,a),h=0<=g&&b.getComponent("parallelAxis",d[g]);return h&&"category"===h.get("type")?(bx(h,a,e),{name:a,type:"ordinal"}):0>g&&ab.guessOrdinal(e,c)?{name:a,type:"ordinal"}:a}),c=new pa(c,this);return c.initData(e),this.option.progressive&&(this.option.animation=!1),c},getRawIndicesByActiveState:function(a){var b=this.coordinateSystem,c=this.getData(),d=[];return b.eachActiveState(c,function(b,f){a===b&&d.push(c.getRawIndex(f))}),d},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}});Ta.extend({type:"parallel",init:function(){this._dataGroup=new F;this.group.add(this._dataGroup);this._data},render:function(a,b,c,d){this._renderForNormal(a,d)},dispose:function(){},_renderForNormal:function(a,b){var c=this._dataGroup,d=a.getData(),e=this._data,f=a.coordinateSystem,g=f.dimensions,h=a.option.smooth?.3:null;(d.diff(e).add(function(a){var b=Jq(d,a,g,f),b=new wb({shape:{points:b},silent:!0,z2:10});c.add(b);d.setItemGraphicEl(a,b)}).update(function(c,h){var k=e.getItemGraphicEl(h),l=Jq(d,c,g,f);d.setItemGraphicEl(c,k);Z(k,{shape:{points:l}},b&&!1===b.animation?null:a,c)}).remove(function(a){a=e.getItemGraphicEl(a);c.remove(a)}).execute(),ex(d,h),this._data)||(h=dx(f,a,function(){setTimeout(function(){c.removeClipPath()})}),c.setClipPath(h));this._data=d},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});var DA=["lineStyle","normal","opacity"];na(function(a){a.eachSeriesByType("parallel",function(b){var c=b.getModel("itemStyle.normal"),d=b.getModel("lineStyle.normal"),e=a.get("color"),c=d.get("color")||c.get("color")||e[b.seriesIndex%e.length],d=b.get("inactiveOpacity"),e=b.get("activeOpacity"),f=b.getModel("lineStyle.normal").getLineStyle(),g=b.coordinateSystem,h=b.getData(),k={normal:f.opacity,active:e,inactive:d};g.eachActiveState(h,function(a,b){var c=h.getItemModel(b),d=k[a];"normal"===a&&(c=c.get(DA,!0),null!=c&&(d=c));h.setItemVisual(b,"opacity",d)});h.setVisual("color",c)})});var EA=va.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(a){var b=a.edges||a.links;if((a=a.data||a.nodes)&&b)return nt(a,b,this,!0).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(a,b,c){return"edge"===c?(a=this.getDataParams(a,c),b=a.data,b=b.source+" -- "+b.target,a.value&&(b+=" : "+a.value),ia(b)):EA.superCall(this,"formatTooltip",a,b)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",color:"#000",fontSize:12},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1E3}}),FA=ub({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(a,b){var c=b.extent/2;a.moveTo(b.x1,b.y1-c);a.bezierCurveTo(b.cpx1,b.cpy1-c,b.cpx2,b.cpy2-c,b.x2,b.y2-c);a.lineTo(b.x2,b.y2+c);a.bezierCurveTo(b.cpx2,b.cpy2+c,b.cpx1,b.cpy1+c,b.x1,b.y1+c);a.closePath()}});Na({type:"sankey",_model:null,render:function(a,b,c){b=a.getGraph();var d=this.group;c=a.layoutInfo;var e=a.getData(),f=a.getData("edge");this._model=a;d.removeAll();d.attr("position",[c.x,c.y]);b.eachEdge(function(b){var c=new FA;c.dataIndex=b.dataIndex;c.seriesIndex=a.seriesIndex;c.dataType="edge";var e=b.getModel("lineStyle.normal"),g=e.get("curveness"),m=b.node1.getLayout(),n=b.node2.getLayout(),p=b.getLayout();c.shape.extent=Math.max(1,p.dy);var q=m.x+m.dx,m=m.y+p.sy+p.dy/2,t=n.x,n=n.y+p.ty+p.dy/2;switch(c.setShape({x1:q,y1:m,x2:t,y2:n,cpx1:q*(1-g)+t*g,cpy1:m,cpx2:q*g+t*(1-g),cpy2:n}),c.setStyle(e.getItemStyle()),c.style.fill){case "source":c.style.fill=b.node1.getVisual("color");break;case "target":c.style.fill=b.node2.getVisual("color")}ma(c,b.getModel("lineStyle.emphasis").getItemStyle());d.add(c);f.setItemGraphicEl(b.dataIndex,c)});b.eachNode(function(b){var c=b.getLayout(),f=b.getModel(),g=f.getModel("label.normal"),m=f.getModel("label.emphasis"),c=new fa({shape:{x:c.x,y:c.y,width:b.getLayout().dx,height:b.getLayout().dy},style:f.getModel("itemStyle.normal").getItemStyle()}),f=b.getModel("itemStyle.emphasis").getItemStyle();Cb(c.style,f,g,m,{labelFetcher:a,labelDataIndex:b.dataIndex,defaultText:b.id,isRectText:!0});c.setStyle("fill",b.getVisual("color"));ma(c,f);d.add(c);e.setItemGraphicEl(b.dataIndex,c);c.dataType="node"});!this._data&&a.get("animation")&&d.setClipPath(fx(d.getBoundingRect(),a,function(){d.removeClipPath()}));this._data=a.getData()},dispose:function(){}});ta(function(a,b,c){a.eachSeriesByType("sankey",function(a){var c=a.get("nodeWidth"),d=a.get("nodeGap"),g=gx(a,b);a.layoutInfo=g;var h=g.width,g=g.height,k=a.getGraph(),l=k.nodes,k=k.edges;mx(l);hx(l,k,c,d,h,g,0!==Ca(l,function(a){return 0===a.getLayout().value}).length?0:a.get("layoutIterations"))})});na(function(a,b){a.eachSeriesByType("sankey",function(a){var b=a.getGraph().nodes;b.sort(function(a,b){return a.getLayout().value-b.getLayout().value});var c=b[0].getLayout().value,f=b[b.length-1].getLayout().value;r(b,function(b){var d=(new R({type:"color",mappingMethod:"linear",dataExtent:[c,f],visual:a.get("color")})).mapValueToVisual(b.getLayout().value);b.setVisual("color",d);d=b.getModel().get("itemStyle.normal.color");null!=d&&b.setVisual("color",d)})})});var GA=ea.extend({type:"whiskerInBox",shape:{},buildPath:function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&0===c.indexOf("ends")){var d=b[c];a.moveTo(d[0][0],d[0][1]);a.lineTo(d[1][0],d[1][1])}}}),tt=Tg.prototype;tt._createContent=function(a,b,c){var d=a.getItemLayout(b),e="horizontal"===d.chartLayout?1:0;a=0;this.add(new Oa({shape:{points:c?Kq(d.bodyEnds,e,d):d.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=a++;b=w(d.whiskerEnds,function(a){return c?Kq(a,e,d):a});this.add(new GA({shape:Lq(b),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=a++};tt.updateData=function(a,b,c){var d=this._seriesModel=a.hostModel,e=a.getItemLayout(b);c=Pa[c?"initProps":"updateProps"];c(this.childAt(this.bodyIndex),{shape:{points:e.bodyEnds}},d,b);c(this.childAt(this.whiskerIndex),{shape:Lq(e.whiskerEnds)},d,b);this.styleUpdater.call(null,this,a,b)};ka(Tg,F);var ut=Mq.prototype;ut.updateData=function(a){var b=this.group,c=this._data,d=this.styleUpdater;a.diff(c).add(function(c){if(a.hasValue(c)){var e=new Tg(a,c,d,!0);a.setItemGraphicEl(c,e);b.add(e)}}).update(function(e,f){var g=c.getItemGraphicEl(f);a.hasValue(e)?(g?g.updateData(a,e):g=new Tg(a,e,d),b.add(g),a.setItemGraphicEl(e,g)):b.remove(g)}).remove(function(a){(a=c.getItemGraphicEl(a))&&b.remove(a)}).execute();this._data=a};ut.remove=function(){var a=this.group,b=this._data;this._data=null;b&&b.eachItemGraphicEl(function(b){b&&a.remove(b)})};var vt={_baseAxisDim:null,getInitialData:function(a,b){var c,d,e=b.getComponent("xAxis",this.get("xAxisIndex")),f=b.getComponent("yAxis",this.get("yAxisIndex")),g=e.get("type"),h=f.get("type");"category"===g?(a.layout="horizontal",c=e.getCategories(),d=!0):"category"===h?(a.layout="vertical",c=f.getCategories(),d=!0):a.layout=a.layout||"horizontal";f=["x","y"];g="horizontal"===a.layout?0:1;e=this._baseAxisDim=f[g];g=f[1-g];f=a.data;d&&r(f,function(a,b){a.value&&A(a.value)?a.value.unshift(b):A(a)&&a.unshift(b)});d=this.defaultValueDimensions;e=[{name:e,otherDims:{tooltip:!1},dimsDef:["base"]},{name:g,dimsDef:d.slice()}];e=ab(e,f,{encodeDef:this.get("encode"),dimsDef:this.get("dimensions"),dimCount:d.length+1});d=new pa(e,this);return d.initData(f,c?c.slice():null),d},getBaseAxis:function(){var a=this._baseAxisDim;return this.ecModel.getComponent(a+"Axis",this.get(a+"AxisIndex")).axis}},wt={init:function(){var a=this._whiskerBoxDraw=new Mq(this.getStyleUpdater());this.group.add(a.group)},render:function(a,b,c){this._whiskerBoxDraw.updateData(a.getData())},remove:function(a){this._whiskerBoxDraw.remove()}};M(va.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),vt,!0);M(Ta.extend({type:"boxplot",getStyleUpdater:function(){return wx},dispose:qa}),wt,!0);var xx=["itemStyle","normal"],yx=["itemStyle","emphasis"],xt=["itemStyle","normal","borderColor"],qf=r;na(function(a,b){var c=a.get("color");a.eachRawSeriesByType("boxplot",function(b){var d=c[b.seriesIndex%c.length],f=b.getData();f.setVisual({legendSymbol:"roundRect",color:b.get(xt)||d});a.isSeriesFiltered(b)||f.each(function(a){var b=f.getItemModel(a);f.setItemVisual(a,{color:b.get(xt,!0)})})})});ta(function(a){a=zx(a);qf(a,function(a){var b=a.seriesModels;b.length&&(Ax(a),qf(b,function(b,c){Bx(b,a.boxOffsetList[c],a.boxWidthList[c])}))})});M(va.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(a,b,c){a=b.getItemLayout(a);return c.rect(a.brushRect)}}),vt,!0);M(Ta.extend({type:"candlestick",getStyleUpdater:function(){return Cx},dispose:qa}),wt,!0);var Dx=["itemStyle","normal"],Ex=["itemStyle","emphasis"],HA=["itemStyle","normal","borderColor"],IA=["itemStyle","normal","borderColor0"],JA=["itemStyle","normal","color"],KA=["itemStyle","normal","color0"],Nq=Ba;oa(function(a){a&&A(a.series)&&r(a.series,function(a){T(a)&&"k"===a.type&&(a.type="candlestick")})});na(function(a,b){a.eachRawSeriesByType("candlestick",function(b){var c=b.getData();c.setVisual({legendSymbol:"roundRect"});a.isSeriesFiltered(b)||c.each(function(a){var b=c.getItemModel(a),d=c.getItemLayout(a).sign;c.setItemVisual(a,{color:b.get(0<d?JA:KA),borderColor:b.get(0<d?HA:IA)})})})});ta(function(a){a.eachSeriesByType("candlestick",function(a){var b,d=a.coordinateSystem,e=a.getData(),f=Fx(a,e),g=a.get("layout"),h="horizontal"===g?0:1,k=1-h,l=["x","y"],m=[];if(r(e.dimensions,function(a){var c=e.getDimensionInfo(a).coordDim;c===l[k]?m.push(a):c===l[h]&&(b=a)}),!(null==b||4>m.length)){var n=0;e.each([b].concat(m),function(){function a(a){var b=[];return b[h]=r,b[k]=a,isNaN(r)||isNaN(a)?[NaN,NaN]:d.dataToPoint(b)}function b(a,b){var c=a.slice(),d=a.slice();c[h]=Bb(c[h]+f/2,1,!1);d[h]=Bb(d[h]-f/2,1,!0);b?z.push(c,d):z.push(d,c)}function c(a){return a[h]=Bb(a[h],1),a}var l=arguments,r=l[0],x=l[m.length+1],w=l[1],y=l[2],E=l[3],D=l[4],H=Math.max(w,y),l=a(Math.min(w,y)),H=a(H),A=a(E),A=[[c(a(D)),c(H)],[c(A),c(l)]],z=[];b(H,0);b(l,1);var B;B=w>y?-1:w<y?1:0<n?e.getItemModel(n-1).get()[2]<=y?1:-1:1;e.setItemLayout(x,{chartLayout:g,sign:B,initBaseline:w>y?H[k]:l[k],bodyEnds:z,whiskerEnds:A,brushRect:function(){var b=a(Math.min(w,y,E,D)),c=a(Math.max(w,y,E,D));return b[h]-=f/2,c[h]-=f/2,{x:b[0],y:b[1],width:k?f:c[0]-b[0],height:k?c[1]-b[1]:f}}()});++n},!0)}})});va.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(a,b){return Bc(a.data,this,b)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var Cd=vk.prototype;Cd.stopEffectAnimation=function(){this.childAt(1).removeAll()};Cd.startEffectAnimation=function(a){for(var b=a.symbolType,c=a.color,d=this.childAt(1),e=0;3>e;e++){var f=nb(b,-1,-1,2,2,c);f.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var g=-e/3*a.period+a.effectOffset;f.animate("",!0).when(a.period,{scale:[a.rippleScale/2,a.rippleScale/2]}).delay(g).start();f.animateStyle(!0).when(a.period,{opacity:0}).delay(g).start();d.add(f)}Oq(d,a)};Cd.updateEffectAnimation=function(a){for(var b=this._effectCfg,c=this.childAt(1),d=["symbolType","period","rippleScale"],e=0;e<d.length;e++){var f=d[e];if(b[f]!==a[f])return this.stopEffectAnimation(),void this.startEffectAnimation(a)}Oq(c,a)};Cd.highlight=function(){this.trigger("emphasis")};Cd.downplay=function(){this.trigger("normal")};Cd.updateData=function(a,b){var c=a.hostModel;this.childAt(0).updateData(a,b);var d=this.childAt(1),e=a.getItemModel(b),f=a.getItemVisual(b,"symbol"),g=Gx(a.getItemVisual(b,"symbolSize")),h=a.getItemVisual(b,"color");d.attr("scale",g);d.traverse(function(a){a.attr({fill:h})});var k=e.getShallow("symbolOffset");if(k){var l=d.position;l[0]=B(k[0],g[0]);l[1]=B(k[1],g[1])}d.rotation=(e.getShallow("symbolRotate")||0)*Math.PI/180||0;var m={};if(m.showEffectOn=c.get("showEffectOn"),m.rippleScale=e.get("rippleEffect.scale"),m.brushType=e.get("rippleEffect.brushType"),m.period=1E3*e.get("rippleEffect.period"),m.effectOffset=b/a.count(),m.z=e.getShallow("z")||0,m.zlevel=e.getShallow("zlevel")||0,m.symbolType=f,m.color=h,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===m.showEffectOn)this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m;else{this._effectCfg=null;this.stopEffectAnimation();var n=this.childAt(0),c=function(){n.highlight();"render"!==m.showEffectOn&&this.startEffectAnimation(m)},d=function(){n.downplay();"render"!==m.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",c,this).on("mouseout",d,this).on("emphasis",c,this).on("normal",d,this)}this._effectCfg=m};Cd.fadeOut=function(a){this.off("mouseover").off("mouseout").off("emphasis").off("normal");a&&a()};ka(vk,F);Na({type:"effectScatter",init:function(){this._symbolDraw=new Yd(vk)},render:function(a,b,c){a=a.getData();b=this._symbolDraw;b.updateData(a);this.group.add(b.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(b)},dispose:function(){}});na(C(Ad,"effectScatter","circle",null));ta(C(Ll,"effectScatter"));var yt=va.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(a){Pq(a);yt.superApply(this,"init",arguments)},mergeOption:function(a){Pq(a);yt.superApply(this,"mergeOption",arguments)},getInitialData:function(a,b){var c=new pa(["value"],this);return c.hasItemOption=!1,c.initData(a.data,[],function(a,b,f,g){if(a instanceof Array)return NaN;c.hasItemOption=!0;a=a.value;return null!=a?a instanceof Array?a[g]:a:void 0}),c},formatTooltip:function(a){var b=this.getData().getItemModel(a);if(a=b.get("name"))return a;a=b.get("fromName");var b=b.get("toName"),c=[];return null!=a&&c.push(a),null!=b&&c.push(b),ia(c.join(" \x3e "))},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2E3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}}),Qc=rf.prototype;Qc.createLine=function(a,b,c){return new of(a,b,c)};Qc._updateEffectSymbol=function(a,b){var c=a.getItemModel(b).getModel("effect"),d=c.get("symbolSize"),e=c.get("symbol");A(d)||(d=[d,d]);var f=c.get("color")||a.getItemVisual(b,"color"),g=this.childAt(1);this._symbolType!==e&&(this.remove(g),(g=nb(e,-.5,-.5,1,1,f)).z2=100,g.culling=!0,this.add(g));g&&(g.setStyle("shadowColor",f),g.setStyle(c.getItemStyle(["color"])),g.attr("scale",d),g.setColor(f),g.attr("scale",d),this._symbolType=e,this._updateEffectAnimation(a,c,b))};Qc._updateEffectAnimation=function(a,b,c){var d=this.childAt(1);if(d){var e=this,f=a.getItemLayout(c),g=1E3*b.get("period"),h=b.get("loop"),k=b.get("constantSpeed");b=Ea(b.get("delay"),function(b){return b/a.count()*g/3});var l="function"==typeof b;if(d.ignore=!0,this.updateAnimationPoints(d,f),0<k&&(g=this.getLineLength(d)/k*1E3),g!==this._period||h!==this._loop)d.stopAnimation(),f=b,l&&(f=b(c)),0<d.__t&&(f=-g*d.__t),d.__t=0,c=d.animate("",h).when(g,{__t:1}).delay(f).during(function(){e.updateSymbolPosition(d)}),h||c.done(function(){e.remove(d)}),c.start();this._period=g;this._loop=h}};Qc.getLineLength=function(a){return md(a.__p1,a.__cp1)+md(a.__cp1,a.__p2)};Qc.updateAnimationPoints=function(a,b){a.__p1=b[0];a.__p2=b[1];a.__cp1=b[2]||[(b[0][0]+b[1][0])/2,(b[0][1]+b[1][1])/2]};Qc.updateData=function(a,b,c){this.childAt(0).updateData(a,b,c);this._updateEffectSymbol(a,b)};Qc.updateSymbolPosition=function(a){var b=a.__p1,c=a.__p2,d=a.__cp1,e=a.__t,f=a.position;f[0]=xb(b[0],d[0],c[0],e);f[1]=xb(b[1],d[1],c[1],e);f=ag(b[0],d[0],c[0],e);b=ag(b[1],d[1],c[1],e);a.rotation=-Math.atan2(b,f)-Math.PI/2;a.ignore=!1};Qc.updateLayout=function(a,b){this.childAt(0).updateLayout(a,b);var c=a.getItemModel(b).getModel("effect");this._updateEffectAnimation(a,c,b)};ka(rf,F);var Oh=Ug.prototype;Oh._createPolyline=function(a,b,c){var d=a.getItemLayout(b),d=new wb({shape:{points:d}});this.add(d);this._updateCommonStl(a,b,c)};Oh.updateData=function(a,b,c){var d=a.hostModel;Z(this.childAt(0),{shape:{points:a.getItemLayout(b)}},d,b);this._updateCommonStl(a,b,c)};Oh._updateCommonStl=function(a,b,c){var d=this.childAt(0),e=a.getItemModel(b);b=a.getItemVisual(b,"color");var f=c&&c.lineStyle,g=c&&c.hoverLineStyle;c&&!a.hasItemOption||(f=e.getModel("lineStyle.normal").getLineStyle(),g=e.getModel("lineStyle.emphasis").getLineStyle());d.useStyle(J({strokeNoScale:!0,fill:"none",stroke:b},f));d.hoverStyle=g;ma(this)};Oh.updateLayout=function(a,b){this.childAt(0).setShape("points",a.getItemLayout(b))};ka(Ug,F);var Ph=wk.prototype;Ph.createLine=function(a,b,c){return new Ug(a,b,c)};Ph.updateAnimationPoints=function(a,b){this._points=b;for(var c=[0],d=0,e=1;e<b.length;e++)d+=md(b[e-1],b[e]),c.push(d);if(0!==d){for(e=0;e<c.length;e++)c[e]/=d;this._offsets=c;this._length=d}};Ph.getLineLength=function(a){return this._length};Ph.updateSymbolPosition=function(a){var b=a.__t,c=this._points,d=this._offsets,e=c.length;if(d){var f=this._lastFrame;if(b<this._lastFramePercent){for(f=Math.min(f+1,e-1);0<=f&&!(d[f]<=b);f--);f=Math.min(f,e-2)}else{for(;f<e&&!(d[f]>b);f++);f=Math.min(f-1,e-2)}Bm(a.position,c[f],c[f+1],(b-d[f])/(d[f+1]-d[f]));a.rotation=-Math.atan2(c[f+1][1]-c[f][1],c[f+1][0]-c[f][0])-Math.PI/2;this._lastFrame=f;this._lastFramePercent=b;a.ignore=!1}};ka(wk,rf);var Hx=ub({shape:{polyline:!1,segs:[]},buildPath:function(a,b){for(var c=b.segs,d=b.polyline,e=0;e<c.length;e++){var f=c[e];if(d){a.moveTo(f[0][0],f[0][1]);for(var g=1;g<f.length;g++)a.lineTo(f[g][0],f[g][1])}else a.moveTo(f[0][0],f[0][1]),2<f.length?a.quadraticCurveTo(f[2][0],f[2][1],f[1][0],f[1][1]):a.lineTo(f[1][0],f[1][1])}},findDataIndex:function(a,b){for(var c=this.shape,d=c.segs,c=c.polyline,e=Math.max(this.style.lineWidth,1),f=0;f<d.length;f++){var g=d[f];if(c)for(var h=1;h<g.length;h++){if(sc(g[h-1][0],g[h-1][1],g[h][0],g[h][1],e,a,b))return f}else if(2<g.length){if(Bn(g[0][0],g[0][1],g[2][0],g[2][1],g[1][0],g[1][1],e,a,b))return f}else if(sc(g[0][0],g[0][1],g[1][0],g[1][1],e,a,b))return f}return-1}}),Zl=Qq.prototype;Zl.updateData=function(a){this.group.removeAll();var b=this._lineEl,c=a.hostModel;b.setShape({segs:a.mapArray(a.getItemLayout),polyline:c.get("polyline")});b.useStyle(c.getModel("lineStyle.normal").getLineStyle());(a=a.getVisual("color"))&&b.setStyle("stroke",a);b.setStyle("fill");b.seriesIndex=c.seriesIndex;b.on("mousemove",function(a){b.dataIndex=null;a=b.findDataIndex(a.offsetX,a.offsetY);0<a&&(b.dataIndex=a)});this.group.add(b)};Zl.updateLayout=function(a){a=a.getData();this._lineEl.setShape({segs:a.mapArray(a.getItemLayout)})};Zl.remove=function(){this.group.removeAll()};Na({type:"lines",init:function(){},render:function(a,b,c){b=a.getData();var d=this._lineDraw,e=a.get("effect.show"),f=a.get("polyline"),g=a.get("large")&&b.count()>=a.get("largeThreshold");e===this._hasEffet&&f===this._isPolyline&&g===this._isLarge||(d&&d.remove(),d=this._lineDraw=g?new Qq:new Mg(f?e?wk:Ug:e?rf:of),this._hasEffet=e,this._isPolyline=f,this._isLarge=g);f=a.get("zlevel");a=a.get("effect.trailLength");c=c.getZr();(g="svg"===c.painter.getType())||c.painter.getLayer(f).clear(!0);null==this._lastZlevel||g||c.configLayer(this._lastZlevel,{motionBlur:!1});e&&a&&(g||c.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)}));this.group.add(d.group);d.updateData(b);this._lastZlevel=f},updateLayout:function(a,b,c){this._lineDraw.updateLayout(a);a=c.getZr();"svg"===a.painter.getType()||a.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(a,b){this._lineDraw&&this._lineDraw.remove(b,!0);var c=b.getZr();"svg"===c.painter.getType()||c.painter.getLayer(this._lastZlevel).clear(!0)},dispose:function(){}});ta(function(a){a.eachSeriesByType("lines",function(a){var b=a.coordinateSystem,d=a.getData();d.each(function(c){var e=d.getItemModel(c),g=e.option instanceof Array?e.option:e.get("coords"),h=[];if(a.get("polyline"))for(e=0;e<g.length;e++)h.push(b.dataToPoint(g[e]));else h[0]=b.dataToPoint(g[0]),h[1]=b.dataToPoint(g[1]),g=e.get("lineStyle.normal.curveness"),+g&&(h[2]=[(h[0][0]+h[1][0])/2-(h[0][1]-h[1][1])*g,(h[0][1]+h[1][1])/2-(h[1][0]-h[0][0])*g]);d.setItemLayout(c,h)})})});na(function(a){a.eachSeriesByType("lines",function(a){var b=a.getData(),d=Vg(a.get("symbol")),e=Vg(a.get("symbolSize")),f=["lineStyle","normal","opacity"];b.setVisual("fromSymbol",d&&d[0]);b.setVisual("toSymbol",d&&d[1]);b.setVisual("fromSymbolSize",e&&e[0]);b.setVisual("toSymbolSize",e&&e[1]);b.setVisual("opacity",a.get(f));b.each(function(a){var c=b.getItemModel(a),d=Vg(c.getShallow("symbol",!0)),e=Vg(c.getShallow("symbolSize",!0)),c=c.get(f);d[0]&&b.setItemVisual(a,"fromSymbol",d[0]);d[1]&&b.setItemVisual(a,"toSymbol",d[1]);e[0]&&b.setItemVisual(a,"fromSymbolSize",e[0]);e[1]&&b.setItemVisual(a,"toSymbolSize",e[1]);b.setItemVisual(a,"opacity",c)})})});va.extend({type:"series.heatmap",getInitialData:function(a,b){return Bc(a.data,this,b)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});Rq.prototype={update:function(a,b,c,d,e,f){var g=this._getBrush(),h=this._getGradient(a,e,"inRange");e=this._getGradient(a,e,"outOfRange");var k=this.pointSize+this.blurSize,l=this.canvas,m=l.getContext("2d"),n=a.length;l.width=b;l.height=c;for(c=0;c<n;++c){b=a[c];var p=b[0],q=b[1];b=d(b[2]);m.globalAlpha=b;m.drawImage(g,p-k,q-k)}if(!l.width||!l.height)return l;a=m.getImageData(0,0,l.width,l.height);d=a.data;g=0;k=d.length;n=this.minOpacity;for(c=this.maxOpacity-n;g<k;)b=d[g+3]/256,p=4*Math.floor(255*b),0<b?(q=f(b)?h:e,0<b&&(b=b*c+n),d[g++]=q[p],d[g++]=q[p+1],d[g++]=q[p+2],d[g++]=q[p+3]*b*256):g+=4;return m.putImageData(a,0,0),l},_getBrush:function(){var a=this._brushCanvas||(this._brushCanvas=Gd()),b=this.pointSize+this.blurSize,c=2*b;a.width=c;a.height=c;var d=a.getContext("2d");return d.clearRect(0,0,c,c),d.shadowOffsetX=c,d.shadowBlur=this.blurSize,d.shadowColor="#000",d.beginPath(),d.arc(-b,b,this.pointSize,0,2*Math.PI,!0),d.closePath(),d.fill(),a},_getGradient:function(a,b,c){a=this._gradientPixels;a=a[c]||(a[c]=new Uint8ClampedArray(1024));for(var d=[0,0,0,0],e=0,f=0;256>f;f++)b[c](f/255,!0,d),a[e++]=d[0],a[e++]=d[1],a[e++]=d[2],a[e++]=d[3];return a}};Na({type:"heatmap",render:function(a,b,c){var d;b.eachComponent("visualMap",function(b){b.eachTargetSeries(function(c){c===a&&(d=b)})});this.group.removeAll();b=a.coordinateSystem;"cartesian2d"===b.type||"calendar"===b.type?this._renderOnCartesianAndCalendar(b,a,c):Kx(b)&&this._renderOnGeo(b,a,d,c)},dispose:function(){},_renderOnCartesianAndCalendar:function(a,b,c){if("cartesian2d"===a.type){c=a.getAxis("x");var d=a.getAxis("y"),e=c.getBandWidth(),f=d.getBandWidth()}var g=this.group,h=b.getData(),k=b.getModel("itemStyle.normal").getItemStyle(["color"]),l=b.getModel("itemStyle.emphasis").getItemStyle(),m=b.getModel("label.normal"),n=b.getModel("label.emphasis"),p=a.type,q="cartesian2d"===p?[b.coordDimToDataDim("x")[0],b.coordDimToDataDim("y")[0],b.coordDimToDataDim("value")[0]]:[b.coordDimToDataDim("time")[0],b.coordDimToDataDim("value")[0]];h.each(function(c){var d;if("cartesian2d"===p){if(isNaN(h.get(q[2],c)))return;d=a.dataToPoint([h.get(q[0],c),h.get(q[1],c)]);d=new fa({shape:{x:d[0]-e/2,y:d[1]-f/2,width:e,height:f},style:{fill:h.getItemVisual(c,"color"),opacity:h.getItemVisual(c,"opacity")}})}else{if(isNaN(h.get(q[1],c)))return;d=new fa({z2:1,shape:a.dataToRect([h.get(q[0],c)]).contentShape,style:{fill:h.getItemVisual(c,"color"),opacity:h.getItemVisual(c,"opacity")}})}var t=h.getItemModel(c);h.hasItemOption&&(k=t.getModel("itemStyle.normal").getItemStyle(["color"]),l=t.getModel("itemStyle.emphasis").getItemStyle(),m=t.getModel("label.normal"),n=t.getModel("label.emphasis"));var t=b.getRawValue(c),r="-";t&&null!=t[2]&&(r=t[2]);Cb(k,l,m,n,{labelFetcher:b,labelDataIndex:c,defaultText:r,isRectText:!0});d.setStyle(k);ma(d,h.hasItemOption?l:I({},l));g.add(d);h.setItemGraphicEl(c,d)})},_renderOnGeo:function(a,b,c,d){var e=c.targetVisuals.inRange,f=c.targetVisuals.outOfRange,g=b.getData(),h=this._hmLayer||this._hmLayer||new Rq;h.blurSize=b.get("blurSize");h.pointSize=b.get("pointSize");h.minOpacity=b.get("minOpacity");h.maxOpacity=b.get("maxOpacity");b=a.getViewRect().clone();var k=a.getRoamTransform().transform;b.applyTransform(k);var l=Math.max(b.x,0),m=Math.max(b.y,0),k=Math.min(b.width+b.x,d.getWidth());b=Math.min(b.height+b.y,d.getHeight());d=k-l;b-=m;g=g.mapArray(["lng","lat","value"],function(b,c,d){b=a.dataToPoint([b,c]);return b[0]-=l,b[1]-=m,b.push(d),b});k=c.getExtent();c="visualMap.continuous"===c.type?Jx(k,c.option.range):Ix(k,c.getPieceList(),c.option.selected);h.update(g,d,b,e.color.getNormalizer(),{inRange:e.color.getColorMapper(),outOfRange:f.color.getColorMapper()},c);e=new db({style:{width:d,height:b,x:l,y:m,image:h.canvas},silent:!0});this.group.add(e)}});var LA=dt.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(a){return a.stack=null,LA.superApply(this,"getInitialData",arguments)}}),Lx=["itemStyle","normal","borderWidth"],zt=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],xk=new yd;Na({type:"pictorialBar",render:function(a,b,c){var d=this.group,e=a.getData(),f=this._data;b=a.coordinateSystem;var g=!!b.getBaseAxis().isHorizontal(),h=b.grid.getRect(),k={ecSize:{width:c.getWidth(),height:c.getHeight()},seriesModel:a,coordSys:b,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:g,valueDim:zt[+g],categoryDim:zt[1-g]};return e.diff(f).add(function(a){if(e.hasValue(a)){var b=Zq(e,a),b=Sq(e,a,b,k),c=$q(e,k,b);e.setItemGraphicEl(a,c);d.add(c);cr(c,k,b)}}).update(function(a,b){var c=f.getItemGraphicEl(b);if(e.hasValue(a)){var g=Zq(e,a),g=Sq(e,a,g,k),h=ar(e,g);c&&h!==c.__pictorialShapeStr&&(d.remove(c),e.setItemGraphicEl(a,null),c=null);if(c){var h=c,l=g.animationModel,m=g.dataIndex;Z(h.__pictorialBundle,{position:g.bundlePosition.slice()},l,m);g.symbolRepeat?Vq(h,k,g,!0):Wq(h,k,g,!0);Xq(h,g,!0);Yq(h,k,g,!0)}else c=$q(e,k,g,!0);e.setItemGraphicEl(a,c);c.__pictorialSymbolMeta=g;d.add(c);cr(c,k,g)}else d.remove(c)}).remove(function(a){var b=f.getItemGraphicEl(a);b&&br(f,a,b.__pictorialSymbolMeta.animationModel,b)}).execute(),this._data=e,this.group},dispose:qa,remove:function(a,b){var c=this.group,d=this._data;a.get("animation")?d&&d.eachItemGraphicEl(function(b){br(d,b.dataIndex,a,b)}):c.removeAll()}});ta(C(Cg,"pictorialBar"));na(C(Ad,"pictorialBar","roundRect",null));var Qh=function(a,b,c,d,e){Aa.call(this,a,b,c);this.type=d||"value";this.position=e||"bottom";this._labelInterval=this.orient=null};Qh.prototype={constructor:Qh,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},pointToData:function(a,b){return this.coordinateSystem.pointToData(a,b)[0]},toGlobalCoord:null,toLocalCoord:null};ka(Qh,Aa);Wg.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:Wg,_init:function(a,b,c){b=new Qh(this.dimension,Wd(a),[0,0],a.get("type"),a.get("position"));b.onBand="category"===b.type&&a.get("boundaryGap");b.inverse=a.get("inverse");b.orient=a.get("orient");a.axis=b;b.model=a;b.coordinateSystem=this;this._axis=b},update:function(a,b){a.eachSeries(function(a){if(a.coordinateSystem===this){var b=a.getData();this._axis.scale.unionExtentFromData(b,a.coordDimToDataDim(this.dimension));Cc(this._axis.scale,this._axis.model)}},this)},resize:function(a,b){this._rect=ya({left:a.get("left"),top:a.get("top"),right:a.get("right"),bottom:a.get("bottom"),width:a.get("width"),height:a.get("height")},{width:b.getWidth(),height:b.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var a=this._rect,b=this._axis,c=b.isHorizontal(),d=c?[0,a.width]:[0,a.height],e=b.reverse?1:0;b.setExtent(d[e],d[1-e]);this._updateAxisTransform(b,c?a.x:a.y)},_updateAxisTransform:function(a,b){var c=a.getExtent(),d=c[0]+c[1],c=a.isHorizontal();a.toGlobalCoord=c?function(a){return a+b}:function(a){return d-a+b};a.toLocalCoord=c?function(a){return a-b}:function(a){return d-a+b}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(a){var b=this.getRect(),c=this.getAxis();return"horizontal"===c.orient?c.contain(c.toLocalCoord(a[0]))&&a[1]>=b.y&&a[1]<=b.y+b.height:c.contain(c.toLocalCoord(a[1]))&&a[0]>=b.y&&a[0]<=b.y+b.height},pointToData:function(a){var b=this.getAxis();return[b.coordToData(b.toLocalCoord(a["horizontal"===b.orient?0:1]))]},dataToPoint:function(a){var b=this.getAxis(),c=this.getRect(),d=[],e="horizontal"===b.orient?0:1;return a instanceof Array&&(a=a[0]),d[e]=b.toGlobalCoord(b.dataToCoord(+a)),d[1-e]=0===e?c.y+c.height/2:c.x+c.width/2,d}};fb.register("single",{create:function(a,b){var c=[];return a.eachComponent("singleAxis",function(d,e){var f=new Wg(d,a,b);f.name="single_"+e;f.resize(d,b);d.coordinateSystem=f;c.push(f)}),a.eachSeries(function(b){if("singleAxis"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"singleAxis",index:b.get("singleAxisIndex"),id:b.get("singleAxisId")})[0];b.coordinateSystem=c&&c.coordinateSystem}}),c},dimensions:Wg.prototype.dimensions});var MA=Ia.getInterval,NA=Ia.ifIgnoreOnTick,OA=["axisLine","axisTickLabel","axisName"],PA=vb.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(a,b,c,d){var e=this.group;e.removeAll();var f=zk(a),g=new Ia(a,f);r(OA,g.add,g);e.add(g.getGroup());a.get("splitLine.show")&&this._splitLine(a,f.labelInterval);PA.superCall(this,"render",a,b,c,d)},_splitLine:function(a,b){var c=a.axis;if(!c.scale.isBlank()){for(var d=a.getModel("splitLine"),e=d.getModel("lineStyle"),f=e.get("width"),g=e.get("color"),d=MA(d,b),g=g instanceof Array?g:[g],h=a.coordinateSystem.getRect(),k=c.isHorizontal(),l=[],m=0,n=c.getTicksCoords(),p=[],q=[],t=a.get("axisLabel.showMinLabel"),r=a.get("axisLabel.showMaxLabel"),v=0;v<n.length;++v)if(!NA(c,v,d,n.length,t,r)){var x=c.toGlobalCoord(n[v]);k?(p[0]=x,p[1]=h.y,q[0]=x,q[1]=h.y+h.height):(p[0]=h.x,p[1]=x,q[0]=h.x+h.width,q[1]=x);x=m++%g.length;l[x]=l[x]||[];l[x].push(new pb(cd({shape:{x1:p[0],y1:p[1],x2:q[0],y2:q[1]},style:{lineWidth:f},silent:!0})))}for(v=0;v<l.length;++v)this.group.add(ic(l[v],{style:{stroke:g[v%g.length],lineDash:e.getLineDash(f),lineWidth:f},silent:!0}))}}}),At=V.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});L(At.prototype,zd);te("single",At,function(a,b){return b.type||(b.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});var Bt=function(a,b){var c,d=[],e=a.seriesIndex;if(null==e||!(c=b.getSeriesByIndex(e)))return{point:[]};var f=c.getData(),g=lg(f,a);if(null==g||A(g))return{point:[]};var e=f.getItemGraphicEl(g),h=c.coordinateSystem;c.getTooltipPosition?d=c.getTooltipPosition(g)||[]:h&&h.dataToPoint?d=h.dataToPoint(f.getValues(w(h.dimensions,function(a){return c.coordDimToDataDim(a)[0]}),g,!0))||[]:e&&(d=e.getBoundingRect().clone(),d.applyTransform(e.transform),d=[d.x+d.width/2,d.y+d.height/2]);return{point:d,el:e}},Fb=r,er=wl(),gc=(gb({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),wl()),Wx=r,Ct=ua({type:"axisPointer",render:function(a,b,c){b=b.getComponent("tooltip");var d=a.get("triggerOn")||b&&b.get("triggerOn")||"mousemove|click";gr("axisPointer",c,function(a,b,c){"none"!==d&&("leave"===a||0<=d.indexOf(a))&&c({type:"updateAxisPointer",currTrigger:a,x:b&&b.offsetX,y:b&&b.offsetY})})},remove:function(a,b){Ak(b.getZr(),"axisPointer");Ct.superApply(this._model,"remove",arguments)},dispose:function(a,b){Ak("axisPointer",b);Ct.superApply(this._model,"dispose",arguments)}}),rd=wl();(je.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,b,c,d){var e=b.get("value"),f=b.get("status");if(this._axisModel=a,this._axisPointerModel=b,this._api=c,d||this._lastValue!==e||this._lastStatus!==f){this._lastValue=e;this._lastStatus=f;d=this._group;var g=this._handle;if(!f||"hide"===f)return d&&d.hide(),void(g&&g.hide());d&&d.show();g&&g.show();f={};this.makeElOption(f,e,a,b,c);g=f.graphicKey;g!==this._lastGraphicKey&&this.clear(c);this._lastGraphicKey=g;g=this._moveAnimation=this.determineAnimation(a,b);d?(a=C(ir,b,g),this.updatePointerEl(d,f,a,b),this.updateLabelEl(d,f,a,b)):(d=this._group=new F,this.createPointerEl(d,f,a,b),this.createLabelEl(d,f,a,b),c.getZr().add(d));lr(d,b,!0);this._renderHandle(e)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type,f=b.get("snap");return f||e?"auto"===c||null==c?(c=this.animationThreshold,e&&d.getBandWidth()>c?!0:f?(e=Bj(a).seriesDataCount,d=d.getExtent(),Math.abs(d[0]-d[1])/e>c):!1):!0===c:!1},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,c,d){if(c=b.pointer)b=rd(a).pointerEl=new Pa[c.type](G(b.pointer)),a.add(b)},createLabelEl:function(a,b,c,d){b.label&&(b=rd(a).labelEl=new fa(G(b.label)),a.add(b),kr(b,d))},updatePointerEl:function(a,b,c){(a=rd(a).pointerEl)&&(a.setStyle(b.pointer.style),c(a,{shape:b.pointer.shape}))},updateLabelEl:function(a,b,c,d){(a=rd(a).labelEl)&&(a.setStyle(b.label.style),c(a,{shape:b.label.shape,position:b.label.position}),kr(a,d))},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,c=this._api.getZr(),d=this._handle,e=b.getModel("handle"),f=b.get("status");if(!e.get("show")||!f||"hide"===f)return d&&c.remove(d),void(this._handle=null);var g;this._handle||(g=!0,d=this._handle=Ve(e.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){ec(a.event)},onmousedown:z(this._onHandleDragMove,this,0,0),drift:z(this._onHandleDragMove,this),ondragend:z(this._onHandleDragEnd,this)}),c.add(d));lr(d,b,!1);d.setStyle(e.getItemStyle(null,"color borderColor borderWidth opacity shadowColor shadowBlur shadowOffsetX shadowOffsetY".split(" ")));b=e.get("size");A(b)||(b=[b,b]);d.attr("scale",[b[0]/2,b[1]/2]);Ye(this,"_doDispatchAxisPointer",e.get("throttle")||0,"fixRate");this._moveHandleToValue(a,g)}},_moveHandleToValue:function(a,b){ir(this._axisPointerModel,!b&&this._moveAnimation,this._handle,Bk(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=this._handle;if(c){this._dragging=!0;var d=this.updateHandleTransform(Bk(c),[a,b],this._axisModel,this._axisPointerModel);this._payloadInfo=d;c.stopAnimation();c.attr(Bk(d));rd(c).lastProp=null;this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var a=this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){if(this._dragging=!1,this._handle)a=this._axisPointerModel.get("value"),this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastStatus=this._lastValue=null;a=a.getZr();var b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}}).constructor=je;Re(je);var RA=je.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.grid,h=d.get("type"),k=qr(g,f).getOtherAxis(f).getGlobalExtent(),l=f.toGlobalCoord(f.dataToCoord(b,!0));if(h&&"none"!==h){var m=Ck(d),f=QA[h](f,l,k,m);f.style=m;a.graphicKey=f.type;a.pointer=f}or(b,a,Cj(g.model,c),c,d,e)},getHandleTransform:function(a,b,c){var d=Cj(b.axis.grid.model,b,{labelInside:!1});return d.labelMargin=c.get("handle.margin"),{position:Dk(b.axis,a,d),rotation:d.rotation+(0>d.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,b,c,d){d=c.axis;var e=d.grid;c=d.getGlobalExtent(!0);var f=qr(e,d).getOtherAxis(d).getGlobalExtent();d="x"===d.dim?0:1;e=a.position;e[d]+=b[d];e[d]=Math.min(c[1],e[d]);e[d]=Math.max(c[0],e[d]);b=(f[1]+f[0])/2;b=[b,b];b[d]=e[d];return{position:e,rotation:a.rotation,cursorPoint:b,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}}),QA={line:function(a,b,c,d){a=Ek([b,c[0]],[b,c[1]],"x"===a.dim?0:1);return cd({shape:a,style:d}),{type:"Line",shape:a}},shadow:function(a,b,c,d){d=a.getBandWidth();return{type:"Rect",shape:pr([b-d/2,c[0]],[d,c[1]-c[0]],"x"===a.dim?0:1)}}};vb.registerAxisPointerClass("CartesianAxisPointer",RA);oa(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var b=a.axisPointer.link;b&&!A(b)&&(a.axisPointer.link=[b])}});Ua(se.PROCESSOR.STATISTIC,function(a,b){var c=a.getComponent("axisPointer"),d;d={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};d=(Fv(d,a,b),d.seriesInvolved&&Hv(d,a),d);c.coordSysAxesInfo=d});X({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(a,b,c){var d=a.currTrigger,e=[a.x,a.y],f=a.dispatchAction||z(c.dispatchAction,c),g=b.getComponent("axisPointer").coordSysAxesInfo;if(g){Xg(e)&&(e=Bt({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},b).point);var h=Xg(e),k=a.axesInfo,l=g.axesInfo,m="leave"===d||Xg(e),n={},p={};b={list:[],map:{}};var q={showPointer:C(Px,p),showTooltip:C(Qx,b)};Fb(g.coordSysMap,function(a,b){var c=h||a.containPoint(e);Fb(g.coordSysAxesInfo[b],function(a,b){var d=a.axis,f;a:{for(f=0;f<(k||[]).length;f++){var g=k[f];if(a.axis.dim===g.axisDim&&a.axis.model.componentIndex===g.axisIndex){f=g;break a}}f=void 0}m||!c||k&&!f||(f=f&&f.value,null!=f||h||(f=d.pointToData(e)),null!=f&&dr(a,f,q,!1,n))})});var t={};return Fb(l,function(a,b){var c=a.linkGroup;c&&!p[b]&&Fb(c.axesInfo,function(b,d){var e=p[d];b!==a&&e&&(e=e.value,c.mapper&&(e=a.axis.scale.parse(c.mapper(e,fr(b),fr(a)))),t[a.key]=e)})}),Fb(t,function(a,b){dr(l[b],a,q,!0,n)}),Rx(p,l,n),Sx(b,e,a,f),Tx(l,0,c),n}});var rr=["x","y"],Zx=["width","height"],TA=je.extend({makeElOption:function(a,b,c,d,e){var f=c.axis,g=f.coordinateSystem,h=Fk(g,1-(f.isHorizontal()?0:1)),k=g.dataToPoint(b)[0],l=d.get("type");l&&"none"!==l&&(g=Ck(d),f=SA[l](f,k,h,g),f.style=g,a.graphicKey=f.type,a.pointer=f);or(b,a,zk(c),c,d,e)},getHandleTransform:function(a,b,c){var d=zk(b,{labelInside:!1});return d.labelMargin=c.get("handle.margin"),{position:Dk(b.axis,a,d),rotation:d.rotation+(0>d.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,b,c,d){c=c.axis;var e=c.coordinateSystem;c=c.isHorizontal()?0:1;var f=Fk(e,c);d=a.position;d[c]+=b[c];d[c]=Math.min(f[1],d[c]);d[c]=Math.max(f[0],d[c]);b=Fk(e,1-c);b=(b[1]+b[0])/2;b=[b,b];return b[c]=d[c],{position:d,rotation:a.rotation,cursorPoint:b,tooltipOption:{verticalAlign:"middle"}}}}),SA={line:function(a,b,c,d){a=Ek([b,c[0]],[b,c[1]],a.isHorizontal()?0:1);return cd({shape:a,style:d}),{type:"Line",shape:a}},shadow:function(a,b,c,d){d=a.getBandWidth();return{type:"Rect",shape:pr([b-d/2,c[0]],[d,c[1]-c[0]],a.isHorizontal()?0:1)}}};vb.registerAxisPointerClass("SingleAxisPointer",TA);ua({type:"single"});var UA=va.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(a){UA.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()}},fixData:function(a){for(var b=a.length,c=w(tk().key(function(a){return a[2]}).entries(a),function(a){return{name:a.key,dataList:a.values}}),d=c.length,e=-1,f=-1,g=0;g<d;++g){var h=c[g].dataList.length;h>e&&(e=h,f=g)}for(g=0;g<d;++g)if(g!==f)for(var h=c[g].name,k=0;k<e;++k){for(var l=c[f].dataList[k][0],m=c[g].dataList.length,n=-1,p=0;p<m;++p)if(c[g].dataList[p][0]===l){n=p;break}-1===n&&(a[b]=[],a[b][0]=l,a[b][1]=0,a[b][2]=h,b++)}return a},getInitialData:function(a,b){for(var c=[],c=b.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),c=[{name:"time",type:"category"===c?"ordinal":"time"===c?"time":"float"},{name:"value",type:"float"},{name:"name",type:"ordinal"}],d=Ca(a.data,function(a){return void 0!==a[2]}),d=this.fixData(d||[]),e=[],f=this.nameMap=xa(),g=0,h=0;h<d.length;++h)e.push(d[h][2]),f.get(d[h][2])||(f.set(d[h][2],g),g++);c=ab(c,d);c=new pa(c,this);return c.initData(d,e),c},coordDimToDataDim:function(a){return["time"]},getLayerSeries:function(){for(var a=this.getData(),b=a.count(),c=[],d=0;d<b;++d)c[d]=d;b=w(tk().key(function(b){return a.get("name",b)}).entries(c),function(a){return{name:a.key,indices:a.values}});for(c=0;c<b.length;++c)b[c].indices.sort(function(b,c){return a.get("time",b)-a.get("time",c)});return b},getAxisTooltipData:function(a,b,c){A(a)||(a=a?[a]:[]);var d;c=this.getData();for(var e=this.getLayerSeries(),f=[],g=e.length,h=0;h<g;++h){for(var k=Number.MAX_VALUE,l=-1,m=e[h].indices.length,n=0;n<m;++n){var p=c.get(a[0],e[h].indices[n]),q=Math.abs(p-b);q<=k&&(d=p,k=q,l=e[h].indices[n])}f.push(l)}return{dataIndices:f,nestestValue:d}},formatTooltip:function(a){var b=this.getData(),c=b.get("name",a);a=b.get("value",a);return(isNaN(a)||null==a)&&(a="-"),ia(c+" : "+a)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{normal:{margin:4,textAlign:"right",show:!0,position:"left",color:"#000",fontSize:11},emphasis:{show:!0}}}});Na({type:"themeRiver",init:function(){this._layers=[]},render:function(a,b,c){function d(a){return a.name}function e(b,c,d){var e=this._layers;if("remove"!==b){for(var l,m=[],n=[],r=h[c].indices,x=0;x<r.length;x++){var w=f.getItemLayout(r[x]);l=w.x;var y=w.y0,w=w.y;m.push([l,y]);n.push([l,y+w]);l=f.getItemVisual(r[x],"color")}var E,D=f.getItemLayout(r[0]),w=f.getItemModel(r[x-1]),y=w.getModel("label.normal"),H=y.get("margin");"add"===b?(d=k[c]=new F,E=new Xs({shape:{points:m,stackedOnPoints:n,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),b=new Q({style:{x:D.x-H,y:D.y0+D.y/2}}),d.add(E),d.add(b),g.add(d),E.setClipPath($x(E.getBoundingRect(),a,function(){E.removeClipPath()}))):(d=e[d],E=d.childAt(0),b=d.childAt(1),g.add(d),k[c]=d,Z(E,{shape:{points:m,stackedOnPoints:n}},a),Z(b,{style:{x:D.x-H,y:D.y0+D.y/2}},a));c=w.getModel("itemStyle.emphasis");m=w.getModel("itemStyle.normal");la(b.style,y,{text:y.get("show")?a.getFormattedLabel(r[x-1],"normal")||f.getName(r[x-1]):null,textVerticalAlign:"middle"});E.setStyle(I({fill:l},m.getItemStyle(["color"])));ma(E,c.getItemStyle())}else g.remove(e[c])}var f=a.getData(),g=this.group,h=a.getLayerSeries();b=f.getLayout("layoutInfo");g.attr("position",[0,b.rect.y+b.boundaryGap[0]]);var k={};(new Ac(this._layersSeries||[],h,d,d)).add(z(e,this,"add")).update(z(e,this,"update")).remove(z(e,this,"remove")).execute();this._layersSeries=h;this._layers=k},dispose:function(){}});ta(function(a,b){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),c=a.coordinateSystem,f={},g=c.getRect();f.rect=g;var h=a.get("boundaryGap"),c=c.getAxis();f.boundaryGap=h;"horizontal"===c.orient?(h[0]=B(h[0],g.height),h[1]=B(h[1],g.height),sr(b,a,g.height-h[0]-h[1])):(h[0]=B(h[0],g.width),h[1]=B(h[1],g.width),sr(b,a,g.width-h[0]-h[1]));b.setLayout("layoutInfo",f)})});na(function(a){a.eachSeriesByType("themeRiver",function(a){var b=a.getData(),d=a.getRawData(),e=a.get("color"),f=xa();b.each(function(a){f.set(b.getRawIndex(a),a)});d.each(function(c){var g=d.getName(c),g=e[(a.nameMap.get(g)-1)%e.length];d.setItemVisual(c,"color",g);c=f.get(c);null!=c&&b.setItemVisual(c,"color",g)})})});Ua(C(Lh,"themeRiver"));var ky=["itemStyle","normal"],ly=["itemStyle","emphasis"],hy=["label","normal"],iy=["label","emphasis"],oy="e\x00\x00",jy={cartesian2d:function(a){var b=a.grid.getRect();return{coordSys:{type:"cartesian2d",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:z(a.dataToPoint,a),size:z(by,a)}}},geo:function(a){var b=a.getBoundingRect();return{coordSys:{type:"geo",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:z(a.dataToPoint,a),size:z(cy,a)}}},singleAxis:function(a){var b=a.getRect();return{coordSys:{type:"singleAxis",x:b.x,y:b.y,width:b.width,height:b.height},api:{coord:z(a.dataToPoint,a),size:z(dy,a)}}},polar:function(a){var b=a.getRadiusAxis(),c=a.getAngleAxis(),d=b.getExtent();return d[0]>d[1]&&d.reverse(),{coordSys:{type:"polar",cx:a.cx,cy:a.cy,r:d[1],r0:d[0]},api:{coord:z(function(d){var e=b.dataToRadius(d[0]);d=c.dataToAngle(d[1]);var g=a.coordToPoint([e,d]);return g.push(e,d*Math.PI/180),g}),size:z(ey,a)}}},calendar:function(a){var b=a.getRect(),c=a.getRangeInfo();return{coordSys:{type:"calendar",x:b.x,y:b.y,width:b.width,height:b.height,cellWidth:a.getCellWidth(),cellHeight:a.getCellHeight(),rangeInfo:{start:c.start,end:c.end,weeks:c.weeks,dayCount:c.allDay}},api:{coord:z(a.dataToPoint,a)}}}};bf({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(a,b){return Bc(a.data,this,b)}});Na({type:"custom",_data:null,render:function(a,b,c){var d=this._data,e=a.getData(),f=this.group,g=gy(a,e,b,c);e.diff(d).add(function(b){if(e.hasValue(b)){var c=null,d=g(b);(c=Yg(c,b,d,a,f,e))&&e.setItemGraphicEl(b,c)}}).update(function(b,c){var h=d.getItemGraphicEl(c);if(e.hasValue(b)){var k=g(b);(h=Yg(h,b,k,a,f,e))&&e.setItemGraphicEl(b,h)}else h&&f.remove(h)}).remove(function(a){(a=d.getItemGraphicEl(a))&&f.remove(a)}).execute();this._data=e},dispose:qa});oa(function(a){var b=a.graphic;A(b)?b[0]&&b[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var VA=gb({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null;VA.superApply(this,"mergeOption",arguments);this.option.elements=b},optionUpdated:function(a,b){var c=this.option,d=(b?c:a).elements,e=c.elements=b?[]:c.elements,c=[];this._flatten(d,c);d=cj(e,c);co(d);var f=this._elOptionsToUpdate=[];r(d,function(a,b){var c=a.option;if(c){f.push(c);var d=a.exist;if(c.id=a.keyInfo.id,!c.type&&d&&(c.type=d.type),null==c.parentId){var g=c.parentOption;g?c.parentId=g.id:d&&(c.parentId=d.parentId)}c.parentOption=null;var d=I({},c),g=e[b],h=c.$action||"merge";"merge"===h?g?(L(g,d,!0),xc(g,d,{ignoreSize:!0}),hd(c,g)):e[b]=d:"replace"===h?e[b]=d:"remove"===h&&g&&(e[b]=null);(d=e[b])&&(d.hv=c.hv=[wr(c,["left","right"]),wr(c,["top","bottom"])],"group"===d.type&&(null==d.width&&(d.width=c.width=0),null==d.height&&(d.height=c.height=0)))}},this);for(d=e.length-1;0<=d;d--)null==e[d]?e.splice(d,1):delete e[d].$action},_flatten:function(a,b,c){r(a,function(a){if(a){c&&(a.parentOption=c);b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a);delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});ua({type:"graphic",init:function(a,b){this._elMap=xa();this._lastGraphicModel},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=a;this._updateElements(a,c);this._relocate(a,c)},_updateElements:function(a,b){var c=a.useElOptionsToUpdate();if(c){var d=this._elMap,e=this.group;r(c,function(a){var b=a.$action,c=a.id,f=d.get(c),l=a.parentId,l=null!=l?d.get(l):e;if("text"===a.type){var m=a.style;a.hv&&a.hv[1]&&(m.textVerticalAlign=m.textBaseline=null);!m.hasOwnProperty("textFill")&&m.fill&&(m.textFill=m.fill);!m.hasOwnProperty("textStroke")&&m.stroke&&(m.textStroke=m.stroke)}m=py(a);b&&"merge"!==b?"replace"===b?(Zg(f,d),vr(c,l,m,d)):"remove"===b&&Zg(f,d):f?f.attr(m):vr(c,l,m,d);(b=d.get(c))&&(b.__ecGraphicWidth=a.width,b.__ecGraphicHeight=a.height)})}},_relocate:function(a,b){for(var c=a.option.elements,d=this.group,e=this._elMap,f=c.length-1;0<=f;f--){var g=c[f],h=e.get(g.id);if(h){var k=h.parent;mg(h,g,k===d?{width:b.getWidth(),height:b.getHeight()}:{width:k.__ecGraphicWidth||0,height:k.__ecGraphicHeight||0},null,{hv:g.hv,boundingMode:g.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){Zg(b,a)});this._elMap=xa()},dispose:function(){this._clear()}});var Dt=gb({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(a,b,c){this.mergeDefaultAndTheme(a,c);a.selected=a.selected||{}},mergeOption:function(a){Dt.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d);b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){this._data=w(this.get("data")||[],function(a){return"string"!=typeof a&&"number"!=typeof a||(a={name:a}),new W(a,this,this.ecModel)},this);var b=w(a.getSeries(),function(a){return a.name});a.eachSeries(function(a){a.legendDataProvider&&(a=a.legendDataProvider(),b=b.concat(a.mapArray(a.getName)))});this._availableNames=b},getData:function(){return this._data},select:function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&r(this._data,function(a){b[a.get("name")]=!1});b[a]=!0},unSelect:function(a){"single"!==this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0);this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&0<=S(this._availableNames,a)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});X("legendToggleSelect","legendselectchanged",C(Gk,"toggleSelected"));X("legendSelect","legendselected",C(Gk,"select"));X("legendUnSelect","legendunselected",C(Gk,"unSelect"));var $l=F,WA=ua({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new $l);this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(a,b,c){if(this.resetInner(),a.get("show",!0)){var d=a.get("align");d&&"auto"!==d||(d="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");this.renderInner(d,a,b,c);b=a.getBoxLayoutParams();c={width:c.getWidth(),height:c.getHeight()};var e=a.get("padding"),f=ya(b,c,e),d=this.layoutInner(a,d,f);b=ya(J({width:d.width,height:d.height},b),c,e);this.group.attr("position",[b.x-d.x,b.y-d.y]);this.group.add(this._backgroundEl=xr(d,a))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(a,b,c,d){var e=this.getContentGroup(),f=xa(),g=b.get("selectedMode");r(b.getData(),function(h,k){var l=h.get("name");if(this.newlineDisabled||""!==l&&"\n"!==l){var m=c.getSeriesByName(l)[0];if(!f.get(l))if(m){var n=m.getData(),p=n.getVisual("color");"function"==typeof p&&(p=p(m.getDataParams(0)));var q=n.getVisual("legendSymbol")||"roundRect",n=n.getVisual("symbol");this._createItem(l,k,h,b,q,n,a,p,g).on("click",C(yr,l,d)).on("mouseover",C(zr,m,null,d)).on("mouseout",C(Ar,m,null,d));f.set(l,!0)}else c.eachRawSeries(function(c){if(!f.get(l)&&c.legendDataProvider){var e=c.legendDataProvider(),m=e.indexOfName(l);0>m||(e=e.getItemVisual(m,"color"),this._createItem(l,k,h,b,"roundRect",null,a,e,g).on("click",C(yr,l,d)).on("mouseover",C(zr,c,l,d)).on("mouseout",C(Ar,c,l,d)),f.set(l,!0))}},this)}else e.add(new $l({newline:!0}))},this)},_createItem:function(a,b,c,d,e,f,g,h,k){var l=d.get("itemWidth"),m=d.get("itemHeight"),n=d.get("inactiveColor"),p=d.isSelected(a),q=new $l,t=c.getModel("textStyle"),r=c.get("icon");c=c.getModel("tooltip");var v=c.parentModel;(e=r||e,q.add(nb(e,0,0,l,m,p?h:n,!0)),r||!f||f===e&&"none"!=f)||(e=.8*m,"none"===f&&(f="circle"),q.add(nb(f,(l-e)/2,(m-e)/2,e,e,p?h:n)));f="left"===g?l+5:-5;h=d.get("formatter");l=a;"string"==typeof h&&h?l=h.replace("{name}",null!=a?a:""):"function"==typeof h&&(l=h(a));q.add(new Q({style:la({},t,{text:l,x:f,y:m/2,textFill:p?t.getTextColor():n,textAlign:g,textVerticalAlign:"middle"})}));d=new fa({shape:q.getBoundingRect(),invisible:!0,tooltip:c.get("show")?I({content:a,formatter:v.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});return q.add(d),q.eachChild(function(a){a.silent=!0}),d.silent=!k,this.getContentGroup().add(q),ma(q),q.__legendDataIndex=b,q},layoutInner:function(a,b,c){b=this.getContentGroup();tf(a.get("orient"),b,a.get("itemGap"),c.width,c.height);a=b.getBoundingRect();return b.attr("position",[-a.x,-a.y]),this.group.getBoundingRect()}});Ua(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})});V.registerSubTypeDefaulter("legend",function(){return"plain"});var Et=Dt.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=hd({},a);Et.superCall(this,"init",a,b,c,d);Br(this,a,e)},mergeOption:function(a,b){Et.superCall(this,"mergeOption",a,b);Br(this,this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),Ft=F,Rh=["width","height"],Gt=["x","y"],am=WA.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){am.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new Ft);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new Ft);this._showController},resetInner:function(){am.superCall(this,"resetInner");this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(a,b,c,d){function e(a,c){var e=a+"DataIndex",e=Ve(b.get("pageIcons",!0)[b.getOrient().name][c],{onclick:z(f._pageGo,f,e,b,d)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});e.name=a;g.add(e)}var f=this;am.superCall(this,"renderInner",a,b,c,d);var g=this._controllerGroup,h=b.get("pageIconSize",!0);A(h)||(h=[h,h]);e("pagePrev",0);a=b.getModel("pageTextStyle");g.add(new Q({name:"pageText",style:{textFill:a.getTextColor(),font:a.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));e("pageNext",1)},layoutInner:function(a,b,c){b=this.getContentGroup();var d=this._containerGroup,e=this._controllerGroup,f=a.getOrient().index,g=Rh[f],h=Rh[1-f],k=Gt[1-f];tf(a.get("orient"),b,a.get("itemGap"),f?c.width:null,f?null:c.height);tf("horizontal",e,a.get("pageButtonItemGap",!0));var l=b.getBoundingRect(),m=e.getBoundingRect(),n=this._showController=l[g]>c[g],p=[-l.x,-l.y];p[f]=b.position[f];var q=[0,0],t=[-m.x,-m.y],r=Ba(a.get("pageButtonGap",!0),a.get("itemGap",!0));n&&("end"===a.get("pageButtonPosition",!0)?t[f]+=c[g]-m[g]:q[f]+=m[g]+r);t[1-f]+=l[h]/2-m[h]/2;b.attr("position",p);d.attr("position",q);e.attr("position",t);p=this.group.getBoundingRect();((p={x:0,y:0})[g]=n?c[g]:l[g],p[h]=Math.max(l[h],m[h]),p[k]=Math.min(0,m[k]+t[1-f]),d.__rectSize=c[g],n)?(e={x:0,y:0},e[g]=Math.max(c[g]-m[g]-r,0),e[h]=p[h],d.setClipPath(new fa({shape:e})),d.__rectSize=e[g]):e.eachChild(function(a){a.attr({invisible:!0,silent:!0})});c=this._getPageInfo(a);return null!=c.pageIndex&&Z(b,{position:c.contentPosition},!!n&&a),this._updatePageInfoView(a,c),p},_pageGo:function(a,b,c){a=this._getPageInfo(b)[a];null!=a&&c.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:b.id})},_updatePageInfoView:function(a,b){var c=this._controllerGroup;r(["pagePrev","pageNext"],function(d){var e=null!=b[d+"DataIndex"];(d=c.childOfName(d))&&(d.setStyle("fill",e?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),d.cursor=e?"pointer":"default")});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),f=b.pageIndex,f=null!=f?f+1:0,g=b.pageCount;d&&e&&d.setStyle("text",Da(e)?e.replace("{current}",f).replace("{total}",g):e({current:f,total:g}))},_getPageInfo:function(a){function b(a){var b=a.getBoundingRect().clone();return b[q]+=a.position[m],b}var c,d,e,f,g=a.get("scrollDataIndex",!0),h=this.getContentGroup(),k=h.getBoundingRect(),l=this._containerGroup.__rectSize,m=a.getOrient().index,n=Rh[m],p=Rh[1-m],q=Gt[m];a=h.position.slice();this._showController?h.eachChild(function(a){a.__legendDataIndex===g&&(f=a)}):f=h.childAt(0);var t=l?Math.ceil(k[n]/l):0;if(f){c=f.getBoundingRect();var r=f.position[m]+c[q];a[m]=-r-k[q];c=Math.floor(t*(r+c[q]+l/2)/k[n]);c=k[n]&&t?Math.max(0,Math.min(t-1,c)):-1;var v={x:0,y:0};v[n]=l;v[p]=k[p];v[q]=-a[m]-k[q];var x,w=h.children();if(h.eachChild(function(a,c){var d=b(a);d.intersect(v)&&(null==x&&(x=c),e=a.__legendDataIndex);c===w.length-1&&d[q]+d[n]<=v[q]+v[n]&&(e=null)}),null!=x)if(d=b(w[x]),v[q]=d[q]+d[n]-v[n],0>=x&&d[q]>=v[q])d=null;else{for(;0<x&&b(w[x-1]).intersect(v);)x--;d=w[x].__legendDataIndex}}return{contentPosition:a,pageIndex:c,pageCount:t,pagePrevDataIndex:d,pageNextDataIndex:e}}});X("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})});gb({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Cr=r,vy=tn,sy=["","-webkit-","-moz-","-o-"];Hk.prototype={constructor:Hk,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a),a=a.style;"absolute"!==a.position&&"absolute"!==b.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+uy(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c,d=this._zr;d&&d.painter&&(c=d.painter.getViewportRootOffset())&&(a+=c.offsetLeft,b+=c.offsetTop);c=this.el.style;c.left=a+"px";c.top=b+"px";this._x=a;this._y=b},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(z(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};var Sh=new fa({shape:{x:-1,y:-1,width:2,height:2}});ua({type:"tooltip",init:function(a,b){ca.node||(this._tooltipContent=new Hk(b.getDom(),b))},render:function(a,b,c){ca.node||(this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent"),b=this._tooltipContent,b.update(),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");gr("itemTooltip",this._api,z(function(b,c,d){"none"!==a&&(0<=a.indexOf(b)?this._tryShow(c,d):"leave"===b&&this._hide(d))},this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,d){if(d.from!==this.uid&&!ca.node){var e=d.dispatchAction||z(c.dispatchAction,c);this._ticket="";var f=d.dataByCoordSys;d.tooltip&&null!=d.x&&null!=d.y?(Sh.position=[d.x,d.y],Sh.update(),Sh.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:Sh},e)):f?this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,event:{},dataByCoordSys:d.dataByCoordSys,tooltipOption:d.tooltipOption},e):null!=d.seriesIndex?this._manuallyAxisShowTip(a,b,c,d)||(a=Bt(d,b),b=a.point[0],c=a.point[1],null!=b&&null!=c&&this._tryShow({offsetX:b,offsetY:c,position:d.position,target:a.el,event:{}},e)):null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target,event:{}},e))}},manuallyHideTip:function(a,b,c,d){a=this._tooltipContent;this._alwaysShowContent||a.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;d.from!==this.uid&&this._hide(d.dispatchAction||z(c.dispatchAction,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,f=d.dataIndex,g=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=f&&null!=g&&(b=b.getSeriesByIndex(e))&&"axis"===Ik([b.getData().getItemModel(f),b,(b.coordinateSystem||{}).model,a]).get("trigger"))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:f,position:d.position}),!0},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX;this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){var c=a.get("showDelay");b=z(b,this);clearTimeout(this._showTimout);0<c?this._showTimout=setTimeout(b,c):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=[b.offsetX,b.offsetY],e=[],f=[],g=Ik([b.tooltipOption,this._tooltipModel]);r(a,function(a){r(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),d=a.value,g=[];if(b&&null!=d){var h=nr(d,b.axis,c,a.seriesDataIndices,a.valueLabelOpt);r(a.seriesDataIndices,function(e){var k=c.getSeriesByIndex(e.seriesIndex);e=e.dataIndexInside;var l=k&&k.getDataParams(e);l.axisDim=a.axisDim;l.axisIndex=a.axisIndex;l.axisType=a.axisType;l.axisId=a.axisId;l.axisValue=vj(b.axis,d);l.axisValueLabel=h;l&&(f.push(l),g.push(k.formatTooltip(e,!0)))});e.push((h?ia(h)+"\x3cbr /\x3e":"")+g.join("\x3cbr /\x3e"))}})},this);e.reverse();var e=e.join("\x3cbr /\x3e\x3cbr /\x3e"),h=b.position;this._showOrMove(g,function(){this._updateContentNotChangedOnAxis(a)?this._updatePosition(g,h,d[0],d[1],this._tooltipContent,f):this._showTooltipContent(g,e,f,Math.random(),d[0],d[1],h)})},_showSeriesItemTooltip:function(a,b,c){var d=b.seriesIndex,e=this._ecModel.getSeriesByIndex(d),f=b.dataModel||e,g=b.dataIndex;b=b.dataType;var h=f.getData(),k=Ik([h.getItemModel(g),f,e&&(e.coordinateSystem||{}).model,this._tooltipModel]),e=k.get("trigger");if(null==e||"item"===e){var l=f.getDataParams(g,b),m=f.formatTooltip(g,!1,b),n="item_"+f.name+"_"+g;this._showOrMove(k,function(){this._showTooltipContent(k,m,l,n,a.offsetX,a.offsetY,a.position,a.target)});c({type:"showTip",dataIndexInside:g,dataIndex:h.getRawIndex(g),seriesIndex:d,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var d=b.tooltip;"string"==typeof d&&(d={content:d,formatter:d});var e=new W(d,this._tooltipModel,this._ecModel),f=e.get("content"),g=Math.random();this._showOrMove(e,function(){this._showTooltipContent(e,f,e.get("formatterParams")||{},g,a.offsetX,a.offsetY,a.position,b)});c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,b,c,d,e,f,g,h){if(this._ticket="",a.get("showContent")&&a.get("show")){var k=this._tooltipContent,l=a.get("formatter");g=g||a.get("position");l&&"string"==typeof l?b=Qi(l,c,!0):"function"==typeof l&&(b=z(function(b,d){b===this._ticket&&(k.setContent(d),this._updatePosition(a,g,e,f,k,c,h))},this),this._ticket=d,b=l(c,d,b));k.setContent(b);k.show(a);this._updatePosition(a,g,e,f,k,c,h)}},_updatePosition:function(a,b,c,d,e,f,g){var h=this._api.getWidth(),k=this._api.getHeight();b=b||a.get("position");var l=e.getSize(),m=a.get("align"),n=a.get("verticalAlign"),p=g&&g.getBoundingRect().clone();if(g&&p.applyTransform(g.transform),"function"==typeof b&&(b=b([c,d],f,e.el,p,{viewSize:[h,k],contentSize:l.slice()})),A(b))c=B(b[0],h),d=B(b[1],k);else if(T(b))b.width=l[0],b.height=l[1],m=ya(b,{width:h,height:k}),c=m.x,d=m.y,n=m=null;else{if("string"==typeof b&&g){c=l[0];d=l[1];g=f=0;var q=p.width,t=p.height;switch(b){case "inside":f=p.x+q/2-c/2;g=p.y+t/2-d/2;break;case "top":f=p.x+q/2-c/2;g=p.y-d-5;break;case "bottom":f=p.x+q/2-c/2;g=p.y+t+5;break;case "left":f=p.x-c-5;g=p.y+t/2-d/2;break;case "right":f=p.x+q+5,g=p.y+t/2-d/2}c=(d=[f,g])[0]}else b=c,p=d,c=m?null:20,d=n?null:20,g=Dr(e.el),f=g.width,g=g.height,c=(d=(null!=c&&(b+f+c>h?b-=f+c:b+=c),null!=d&&(p+g+d>k?p-=g+d:p+=d),[b,p]))[0];d=d[1]}if(m&&(c-="center"===m||"middle"===m?l[0]/2:"right"===m?l[0]:0),n&&(d-="center"===n||"middle"===n?l[1]/2:"bottom"===n?l[1]:0),a.get("confine"))a=c,l=d,n=Dr(e.el),m=n.width,n=n.height,d=(a=Math.min(a+m,h)-m,l=Math.min(l+n,k)-n,a=Math.max(a,0),l=Math.max(l,0),[a,l]),c=d[0],d=d[1];e.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;return c&&r(b,function(b,e){var d=b.dataByAxis||{},g=(a[e]||{}).dataByAxis||[];(c&=d.length===g.length)&&r(d,function(a,b){var d=g[b]||{},e=a.seriesDataIndices||[],f=d.seriesDataIndices||[];(c&=a.value===d.value&&a.axisType===d.axisType&&a.axisId===d.axisId&&e.length===f.length)&&r(e,function(a,b){var d=f[b];c&=a.seriesIndex===d.seriesIndex&&a.dataIndex===d.dataIndex})})}),this._lastDataByCoordSys=a,!!c},_hide:function(a){this._lastDataByCoordSys=null;a({type:"hideTip",from:this.uid})},dispose:function(a,b){ca.node||(this._tooltipContent.hide(),Ak("itemTooltip",b))}});X({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});X({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});$g.prototype={constructor:$g,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToRadius:Aa.prototype.dataToCoord,radiusToData:Aa.prototype.coordToData};ka($g,Aa);ah.prototype={constructor:ah,pointToData:function(a,b){return this.polar.pointToData(a,b)["radius"===this.dim?0:1]},dataToAngle:Aa.prototype.dataToCoord,angleToData:Aa.prototype.coordToData};ka(ah,Aa);var Th=function(a){this.name=a||"";this.cy=this.cx=0;this._radiusAxis=new $g;this._angleAxis=new ah;this._radiusAxis.polar=this._angleAxis.polar=this};Th.prototype={type:"polar",axisPointerEnabled:!0,constructor:Th,dimensions:["radius","angle"],model:null,containPoint:function(a){a=this.pointToCoord(a);return this._radiusAxis.contain(a[0])&&this._angleAxis.contain(a[1])},containData:function(a){return this._radiusAxis.containData(a[0])&&this._angleAxis.containData(a[1])},getAxis:function(a){return this["_"+a+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(a){var b=[],c=this._angleAxis,d=this._radiusAxis;return c.scale.type===a&&b.push(c),d.scale.type===a&&b.push(d),b},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(a){var b=this._angleAxis;return a===b?this._radiusAxis:b},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(a){a=null!=a&&"auto"!==a?this.getAxis(a):this.getBaseAxis();return{baseAxes:[a],otherAxes:[this.getOtherAxis(a)]}},dataToPoint:function(a,b){return this.coordToPoint([this._radiusAxis.dataToRadius(a[0],b),this._angleAxis.dataToAngle(a[1],b)])},pointToData:function(a,b){var c=this.pointToCoord(a);return[this._radiusAxis.radiusToData(c[0],b),this._angleAxis.angleToData(c[1],b)]},pointToCoord:function(a){var b=a[0]-this.cx,c=a[1]-this.cy,d=this.getAngleAxis(),e=d.getExtent();a=Math.min(e[0],e[1]);e=Math.max(e[0],e[1]);d.inverse?a=e-360:e=a+360;d=Math.sqrt(b*b+c*c);b=Math.atan2(-(c/d),b/d)/Math.PI*180;for(c=b<a?1:-1;b<a||b>e;)b+=360*c;return[d,b]},coordToPoint:function(a){var b=a[0];a=a[1]/180*Math.PI;return[Math.cos(a)*b+this.cx,-Math.sin(a)*b+this.cy]}};var bm=V.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});L(bm.prototype,zd);te("angle",bm,Fr,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}});te("radius",bm,Fr,{splitNumber:5});gb({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(a){var b;return this.ecModel.eachComponent(a,function(a){a.getCoordSysModel()===this&&(b=a)},this),b},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});fb.register("polar",{dimensions:Th.prototype.dimensions,create:function(a,b){var c=[];return a.eachComponent("polar",function(a,e){var d=new Th(e);d.update=xy;var g=d.getRadiusAxis(),h=d.getAngleAxis(),k=a.findAxisModel("radiusAxis"),l=a.findAxisModel("angleAxis");Gr(g,k);Gr(h,l);g=a.get("center");h=b.getWidth();k=b.getHeight();d.cx=B(g[0],h);d.cy=B(g[1],k);g=d.getRadiusAxis();h=Math.min(h,k)/2;h=B(a.get("radius"),h);g.inverse?g.setExtent(h,0):g.setExtent(0,h);c.push(d);a.coordinateSystem=d;d.model=a}),a.eachSeries(function(b){if("polar"===b.get("coordinateSystem")){var c=a.queryComponents({mainType:"polar",index:b.get("polarIndex"),id:b.get("polarId")})[0];b.coordinateSystem=c.coordinateSystem}}),c}});var XA=["axisLine","axisLabel","axisTick","splitLine","splitArea"];vb.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(a,b){if(this.group.removeAll(),a.get("show")){var c=a.axis,d=c.polar,e=d.getRadiusAxis().getExtent(),f=c.getTicksCoords();"category"!==c.type&&f.pop();r(XA,function(b){!a.get(b+".show")||c.scale.isBlank()&&"axisLine"!==b||this["_"+b](a,d,f,e)},this)}},_axisLine:function(a,b,c,d){a=a.getModel("axisLine.lineStyle");b=new yd({shape:{cx:b.cx,cy:b.cy,r:d[b.getRadiusAxis().inverse?0:1]},style:a.getLineStyle(),z2:1,silent:!0});b.style.fill=null;this.group.add(b)},_axisTick:function(a,b,c,d){var e=a.getModel("axisTick"),f=(e.get("inside")?-1:1)*e.get("length"),g=d[b.getRadiusAxis().inverse?0:1];c=w(c,function(a){return new pb({shape:Hr(b,[g,g+f],a)})});this.group.add(ic(c,{style:J(e.getModel("lineStyle").getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")})}))},_axisLabel:function(a,b,c,d){for(var e=a.axis,f=a.get("data"),g=a.getModel("axisLabel"),h=a.getFormattedLabels(),k=g.get("margin"),e=e.getLabelsCoords(),l=0;l<c.length;l++){var m=d[b.getRadiusAxis().inverse?0:1],n=b.coordToPoint([m+k,e[l]]),p=b.cx,q=b.cy,p=.3>Math.abs(n[0]-p)/m?"center":n[0]>p?"left":"right",m=.3>Math.abs(n[1]-q)/m?"middle":n[1]>q?"top":"bottom";f&&f[l]&&f[l].textStyle&&(g=new W(f[l].textStyle,g,g.ecModel));q=new Q({silent:!0});this.group.add(q);la(q.style,g,{x:n[0],y:n[1],textFill:g.getTextColor()||a.get("axisLine.lineStyle.color"),text:h[l],textAlign:p,textVerticalAlign:m})}},_splitLine:function(a,b,c,d){for(var e=a.getModel("splitLine").getModel("lineStyle"),f=e.get("color"),g=0,f=f instanceof Array?f:[f],h=[],k=0;k<c.length;k++){var l=g++%f.length;h[l]=h[l]||[];h[l].push(new pb({shape:Hr(b,d,c[k])}))}for(k=0;k<h.length;k++)this.group.add(ic(h[k],{style:J({stroke:f[k%f.length]},e.getLineStyle()),silent:!0,z:a.get("z")}))},_splitArea:function(a,b,c,d){var e=a.getModel("splitArea").getModel("areaStyle"),f=e.get("color"),g=0,f=f instanceof Array?f:[f],h=[],k=Math.PI/180,l=-c[0]*k,m=Math.min(d[0],d[1]);d=Math.max(d[0],d[1]);a=a.get("clockwise");for(var n=1;n<c.length;n++){var p=g++%f.length;h[p]=h[p]||[];h[p].push(new Gc({shape:{cx:b.cx,cy:b.cy,r0:m,r:d,startAngle:l,endAngle:-c[n]*k,clockwise:a},silent:!0}));l=-c[n]*k}for(n=0;n<h.length;n++)this.group.add(ic(h[n],{style:J({fill:f[n%f.length]},e.getAreaStyle()),silent:!0}))}});var YA=["axisLine","axisTickLabel","axisName"],ZA=["splitLine","splitArea"];vb.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(a,b){if(this.group.removeAll(),a.get("show")){var c=a.axis,d=c.polar,e=d.getAngleAxis(),f=c.getTicksCoords(),g=e.getExtent()[0],h=c.getExtent(),e={position:[d.cx,d.cy],rotation:g/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:a.getModel("axisLabel").get("rotate"),z2:1},e=new Ia(a,e);r(YA,e.add,e);this.group.add(e.getGroup());r(ZA,function(b){a.get(b+".show")&&!c.scale.isBlank()&&this["_"+b](a,d,g,h,f)},this)}},_splitLine:function(a,b,c,d,e){a=a.getModel("splitLine").getModel("lineStyle");c=a.get("color");d=0;c=c instanceof Array?c:[c];for(var f=[],g=0;g<e.length;g++){var h=d++%c.length;f[h]=f[h]||[];f[h].push(new yd({shape:{cx:b.cx,cy:b.cy,r:e[g]},silent:!0}))}for(g=0;g<f.length;g++)this.group.add(ic(f[g],{style:J({stroke:c[g%c.length],fill:null},a.getLineStyle()),silent:!0}))},_splitArea:function(a,b,c,d,e){a=a.getModel("splitArea").getModel("areaStyle");c=a.get("color");d=0;c=c instanceof Array?c:[c];for(var f=[],g=e[0],h=1;h<e.length;h++){var k=d++%c.length;f[k]=f[k]||[];f[k].push(new Gc({shape:{cx:b.cx,cy:b.cy,r0:g,r:e[h],startAngle:0,endAngle:2*Math.PI},silent:!0}));g=e[h]}for(h=0;h<f.length;h++)this.group.add(ic(f[h],{style:J({fill:c[h%c.length]},a.getAreaStyle()),silent:!0}))}});var aB=je.extend({makeElOption:function(a,b,c,d,e){var f=c.axis;"angle"===f.dim&&(this.animationThreshold=Math.PI/18);var g,h=f.polar,k=h.getOtherAxis(f).getExtent();g=f["dataTo"+Zf(f.dim)](b);var l=d.get("type");if(l&&"none"!==l){var m=Ck(d),f=$A[l](f,h,g,k,m);f.style=m;a.graphicKey=f.type;a.pointer=f}m=d.get("label.margin");g=c.axis;b=g.dataToCoord(b);f=h.getAngleAxis().getExtent()[0];f=f/180*Math.PI;k=h.getRadiusAxis().getExtent();"radius"===g.dim?(g=Yb(),Xc(g,g,f),Mb(g,g,[h.cx,h.cy]),b=Za([b,-m],g),h=c.getModel("axisLabel").get("rotate")||0,m=Ia.innerTextLayout(f,h*Math.PI/180,-1),h=m.textAlign,m=m.textVerticalAlign):(f=k[1],b=h.coordToPoint([f+m,b]),m=h.cx,g=h.cy,h=.3>Math.abs(b[0]-m)/f?"center":b[0]>m?"left":"right",m=.3>Math.abs(b[1]-g)/f?"middle":b[1]>g?"top":"bottom");mr(a,c,d,e,{position:b,align:h,verticalAlign:m})}}),$A={line:function(a,b,c,d,e){return"angle"===a.dim?{type:"Line",shape:Ek(b.coordToPoint([d[0],c]),b.coordToPoint([d[1],c]))}:{type:"Circle",shape:{cx:b.cx,cy:b.cy,r:c}}},shadow:function(a,b,c,d,e){e=a.getBandWidth();var f=Math.PI/180;return"angle"===a.dim?{type:"Sector",shape:{cx:b.cx,cy:b.cy,r0:d[0],r:d[1],startAngle:(-c-e/2)*f,endAngle:(e/2-c)*f,clockwise:!0}}:{type:"Sector",shape:{cx:b.cx,cy:b.cy,r0:c-e/2,r:c+e/2,startAngle:0,endAngle:2*Math.PI,clockwise:!0}}}};vb.registerAxisPointerClass("PolarAxisPointer",aB);ta(C(function(a,b,c){var d=c.getWidth(),e=c.getHeight(),f={},g={},h=wy(Ca(b.getSeriesByType(a),function(a){return!b.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));b.eachSeriesByType(a,function(a){if("polar"===a.coordinateSystem.type){var b=a.getData(),c=a.coordinateSystem,k=c.getAngleAxis(),p=c.getBaseAxis(),q=Er(a),t=h[p.dim][q],r=t.offset,v=t.width,x=c.getOtherAxis(p),p=a.get("center")||["50%","50%"],w=B(p[0],d),y=B(p[1],e),E=a.get("barMinHeight")||0,D=a.get("barMinAngle")||0,H=x.getExtent()[0],A=x.model.get("max"),z=x.model.get("min"),p=[a.coordDimToDataDim("radius")[0],a.coordDimToDataDim("angle")[0]],C=b.mapArray(p,function(a,b){return c.dataToPoint([a,b])},!0);f[q]=f[q]||[];g[q]=g[q]||[];b.each(a.coordDimToDataDim(x.dim)[0],function(a,d){if(!isNaN(a)){f[q][d]||(f[q][d]={p:H,n:H},g[q][d]={p:H,n:H});var e,h,l,m,n=0<=a?"p":"n";m=c.pointToCoord(C[d]);l=g[q][d][n];if("radius"===x.dim)e=l,h=m[0],m=(l=(-m[1]+r)*Math.PI/180)+v*Math.PI/180,Math.abs(h)<E&&(h=e+(0>h?-1:1)*E),g[q][d][n]=h;else{h=(e=m[0]+r)+v;null!=A&&(a=Math.min(a,A));null!=z&&(a=Math.max(a,z));var p=k.dataToAngle(a);Math.abs(p-l)<D&&(p=l-(0>a?-1:1)*D);l=-l*Math.PI/180;m=-p*Math.PI/180;var t=k.getExtent();p===t[0]&&0<a?p=t[1]:p===t[1]&&0>a&&(p=t[0]);g[q][d][n]=p}b.setItemLayout(d,{cx:w,cy:y,r0:e,r:h,startAngle:l,endAngle:m})}},!0)}},this)},"bar"));ua({type:"polar"});M(V.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(a){V.prototype.init.apply(this,arguments);ed(a.label,["show"])},optionUpdated:function(){var a=this.option,b=this;a.regions=Rl.getFilledRegions(a.regions,a.map,a.nameMap);this._optionModelMap=Hd(a.regions||[],function(a,d){return d.name&&a.set(d.name,new W(d,b)),a},xa());this.updateSelectedMap(a.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,color:"#000"},emphasis:{show:!0,color:"rgb(100,0,0)"}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(a){return this._optionModelMap.get(a)||new W(null,this,this.ecModel)},getFormattedLabel:function(a,b){var c=this.getRegionModel(a).get("label."+b+".formatter"),d={name:a};return"function"==typeof c?(d.status=b,c(d)):"string"==typeof c?c.replace("{a}",null!=a?a:""):void 0},setZoom:function(a){this.option.zoom=a},setCenter:function(a){this.option.center=a}}),Nl);ua({type:"geo",init:function(a,b){var c=new Eg(b,!0);this._mapDraw=c;this.group.add(c.group)},render:function(a,b,c,d){if(!d||"geoToggleSelect"!==d.type||d.from!==this.uid){var e=this._mapDraw;a.get("show")?e.draw(a,b,c,this,d):this._mapDraw.group.removeAll();this.group.silent=a.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}});Jk("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});Jk("select",{type:"geoSelect",event:"geoselected"});Jk("unSelect",{type:"geoUnSelect",event:"geounselected"});var bB=["rect","polygon","keep","clear"],Jr=r,Ok={lineX:Mr(0),lineY:Mr(1),rect:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])},rect:function(a,b,c){return a&&c.boundingRect.intersect(a)}},polygon:{point:function(a,b,c){return a&&c.boundingRect.contain(a[0],a[1])&&ld(c.range,a[0],a[1])},rect:function(a,b,c){b=c.range;if(!a||1>=b.length)return!1;c=a.x;var d=a.y,e=a.width,f=a.height,g=b[0];return!!(ld(b,c,d)||ld(b,c+e,d)||ld(b,c,d+f)||ld(b,c+e,d+f)||U.create(a).contain(g[0],g[1])||bh(c,d,c+e,d,b)||bh(c,d,c,d+f,b)||bh(c+e,d,c+e,d+f,b)||bh(c,d+f,c+e,d+f,b))||void 0}}},Kc=r,dh=S,cm=["dataToPoint","pointToData"],Nr="grid xAxis yAxis geo graph polar radiusAxis angleAxis bmap".split(" "),we=ch.prototype;we.setOutputRanges=function(a,b){this.matchOutputRanges(a,b,function(a,b,e){((a.coordRanges||(a.coordRanges=[])).push(b),a.coordRange)||(a.coordRange=b,b=dm[a.brushType](0,e,b),a.__rangeOffset={offset:Ht[a.brushType](b.values,a.range,[1,1]),xyMinMax:b.xyMinMax})})};we.matchOutputRanges=function(a,b,c){Kc(a,function(a){var d=this.findTargetInfo(a,b);d&&!0!==d&&r(d.coordSyses,function(d){var e=dm[a.brushType](1,d,a.range);c(a,e.values,d,b)})},this)};we.setInputRanges=function(a,b){Kc(a,function(a){var c=this.findTargetInfo(a,b);if(a.range=a.range||[],c&&!0!==c){a.panelId=c.panelId;var c=dm[a.brushType](0,c.coordSys,a.coordRange),e=a.__rangeOffset;a.range=e?Ht[a.brushType](c.values,e.offset,Ay(c.xyMinMax,e.xyMinMax)):c.values}},this)};we.makePanelOpts=function(a,b){return w(this._targetInfoList,function(c){var d=c.getPanelRect();return{panelId:c.panelId,defaultBrushType:b&&b(c),clipPath:Fq(d),isTargetByCursor:Hq(d,a,c.coordSysModel),getLinearBrushOtherExtent:Gq(d)}})};we.controlSeries=function(a,b,c){a=this.findTargetInfo(a,c);return!0===a||a&&0<=dh(a.coordSyses,b.coordinateSystem)};we.findTargetInfo=function(a,b){for(var c=this._targetInfoList,d=Xe(b,a,{includeMainTypes:Nr}),e=0;e<c.length;e++){var f=c[e],g=a.panelId;if(g){if(f.panelId===g)return f}else for(e=0;e<It.length;e++)if(It[e](d,f))return f}return!0};var zy={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels,e=a.gridModels,f=xa(),g={},h={};(c||d||e)&&(Kc(c,function(a){a=a.axis.grid.model;f.set(a.id,a);g[a.id]=!0}),Kc(d,function(a){a=a.axis.grid.model;f.set(a.id,a);h[a.id]=!0}),Kc(e,function(a){f.set(a.id,a);g[a.id]=!0;h[a.id]=!0}),f.each(function(a){var e=[];Kc(a.coordinateSystem.getCartesians(),function(a,b){(0<=dh(c,a.getAxis("x").model)||0<=dh(d,a.getAxis("y").model))&&e.push(a)});b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:e[0],coordSyses:e,getPanelRect:Jt.grid,xAxisDeclared:g[a.id],yAxisDeclared:h[a.id]})}))},geo:function(a,b){Kc(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:Jt.geo})})}},It=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel,e=a.gridModel;return!e&&c&&(e=c.axis.grid.model),!e&&d&&(e=d.axis.grid.model),e&&e===b.gridModel},function(a,b){var c=a.geoModel;return c&&c===b.geoModel}],Jt={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(dd(a)),b}},dm={lineX:C(Or,0),lineY:C(Or,1),rect:function(a,b,c){var d=b[cm[a]]([c[0][0],c[1][0]]);a=b[cm[a]]([c[0][1],c[1][1]]);d=[Lk([d[0],a[0]]),Lk([d[1],a[1]])];return{values:d,xyMinMax:d}},polygon:function(a,b,c){var d=[[1/0,-1/0],[1/0,-1/0]];return{values:w(c,function(c){c=b[cm[a]](c);return d[0][0]=Math.min(d[0][0],c[0]),d[1][0]=Math.min(d[1][0],c[1]),d[0][1]=Math.max(d[0][1],c[0]),d[1][1]=Math.max(d[1][1],c[1]),c}),xyMinMax:d}}},Ht={lineX:C(Pr,0),lineY:C(Pr,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},polygon:function(a,b,c){return w(a,function(a,e){return[a[0]-c[0]*b[e][0],a[1]-c[1]*b[e][1]]})}},Kt=["inBrush","outOfBrush"],Nk="__ecBrushSelect",Mk="__ecInBrushSelectEvent",Lt=se.VISUAL.BRUSH;ta(Lt,function(a,b,c){a.eachComponent({mainType:"brush"},function(b){c&&"takeGlobalCursor"===c.type&&b.setBrushOption("brush"===c.key?c.brushOption:{brushType:!1});(b.brushTargetManager=new ch(b.option,a)).setInputRanges(b.areas,a)})});na(Lt,function(a,b,c){var d,e,f=[];a.eachComponent({mainType:"brush"},function(b,c){function g(a){return"all"===q||t[a]}function h(a,b){var c=a.coordinateSystem;x|=c.hasAxisBrushed();g(b)&&c.eachActiveState(a.getData(),function(a,b){"active"===a&&(u[b]=1)})}function m(c,d,e){var f=Sr(c);if(f&&!Dy(b,d)&&(r(z,function(d){f[d.brushType]&&b.brushTargetManager.controlSeries(d,c,a)&&e.push(d);x|=!!e.length}),g(d)&&e.length)){var h=c.getData();h.each(function(a){Rr(f,e,h,a)&&(u[a]=1)})}}var n={brushId:b.id,brushIndex:c,brushName:b.name,areas:G(b.areas),selected:[]};f.push(n);var p=b.option,q=p.brushLink,t=[],u=[],v=[],x=0;c||(d=p.throttleType,e=p.throttleDelay);var z=w(b.areas,function(a){return Ey(J({boundingRect:cB[a.brushType](a)},a))}),y=Kk(b.option,Kt,function(a){a.mappingMethod="fixed"});A(q)&&r(q,function(a){t[a]=1});a.eachSeries(function(a,b){var c=v[b]=[];"parallel"===a.subType?h(a,b):m(a,b,c)});a.eachSeries(function(a,b){var c={seriesId:a.id,seriesIndex:b,seriesName:a.name,dataIndex:[]};n.selected.push(c);var d=Sr(a),e=v[b],f=a.getData(),h=g(b)?function(a){return u[a]?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"}:function(a){return Rr(d,e,f,a)?(c.dataIndex.push(f.getRawIndex(a)),"inBrush"):"outOfBrush"};(g(b)?x:e.length)&&Lr(Kt,y,f,h)})});By(b,d,e,f,c)});var cB={lineX:qa,lineY:qa,rect:function(a){return Tr(a.range)},polygon:function(a){var b;a=a.range;for(var c=0,d=a.length;c<d;c++){b=b||[[1/0,-1/0],[1/0,-1/0]];var e=a[c];e[0]<b[0][0]&&(b[0][0]=e[0]);e[0]>b[0][1]&&(b[0][1]=e[0]);e[1]<b[1][0]&&(b[1][0]=e[1]);e[1]>b[1][1]&&(b[1][1]=e[1])}return b&&Tr(b)}},dB=["#ddd"];gb({type:"brush",dependencies:"geo grid xAxis yAxis parallel series".split(" "),defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1E4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(a,b){var c=this.option;!b&&Kr(c,a,["inBrush","outOfBrush"]);c.inBrush=c.inBrush||{};c.outOfBrush=c.outOfBrush||{color:dB}},setAreas:function(a){a&&(this.areas=w(a,function(a){return Ur(this.option,a)},this))},setBrushOption:function(a){this.brushOption=Ur(this.option,a);this.brushType=this.brushOption.brushType}});ua({type:"brush",init:function(a,b){this.ecModel=a;this.api=b;this.model;(this._brushController=new fe(b.getZr())).on("brush",z(this._onBrush,this)).mount()},render:function(a){return this.model=a,eh.apply(this,arguments)},updateView:eh,updateLayout:eh,updateVisual:eh,dispose:function(){this._brushController.dispose()},_onBrush:function(a,b){var c=this.model.id;this.model.brushTargetManager.setOutputRanges(a,this.ecModel);b.isEnd&&!b.removeOnClick||this.api.dispatchAction({type:"brush",brushId:c,areas:G(a),$from:c})}});X({type:"brush",event:"brush",update:"updateView"},function(a,b){b.eachComponent({mainType:"brush",query:a},function(b){b.setAreas(a.areas)})});X({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var Rc={};Pk.defaultOption={show:!0,type:"rect polygon lineX lineY keep clear".split(" "),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:G({rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"})};var Jf=Pk.prototype;Jf.render=Jf.updateView=Jf.updateLayout=function(a,b,c){var d,e,f;b.eachComponent({mainType:"brush"},
function(a){d=a.brushType;e=a.brushOption.brushMode||"single";f|=a.areas.length});this._brushType=d;this._brushMode=e;r(a.get("type",!0),function(b){a.setIconStatus(b,("keep"===b?"multiple"===e:"clear"===b?f:b===d)?"emphasis":"normal")})};Jf.getIcons=function(){var a=this.model,b=a.get("icon",!0),c={};return r(a.get("type",!0),function(a){b[a]&&(c[a]=b[a])}),c};Jf.onclick=function(a,b,c){a=this._brushType;var d=this._brushMode;"clear"===c?(b.dispatchAction({type:"axisAreaSelect",intervals:[]}),b.dispatchAction({type:"brush",command:"clear",areas:[]})):b.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===c?a:a!==c&&c,brushMode:"keep"===c?"multiple"===d?"single":"multiple":d}})};Rc.brush=Pk;oa(function(a,b){var c=a&&a.brush;if(A(c)||(c=c?[c]:[]),c.length){var d=[];r(c,function(a){a=a.hasOwnProperty("toolbox")?a.toolbox:[];a instanceof Array&&(d=d.concat(a))});c=a&&a.toolbox;A(c)&&(c=c[0]);c||(c={feature:{}},a.toolbox=[c]);c=c.feature||(c.feature={});c=c.brush||(c.brush={});c=c.type||(c.type=[]);c.push.apply(c,d);yy(c);b&&!c.length&&c.push.apply(c,bB)}});hc.prototype={constructor:hc,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"}]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(a){var b=(a=Oe(a)).getFullYear(),c=a.getMonth()+1,c=10>c?"0"+c:c,d=a.getDate(),d=10>d?"0"+d:d,e=a.getDay();return e=Math.abs((e+7-this.getFirstDayOfWeek())%7),{y:b,m:c,d:d,day:e,time:a.getTime(),formatedDate:b+"-"+c+"-"+d,date:a}},getNextNDay:function(a,b){return 0===(b=b||0)?this.getDateInfo(a):((a=new Date(this.getDateInfo(a).time)).setDate(a.getDate()+b),this.getDateInfo(a))},update:function(a,b){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay");this._orient=this._model.get("orient");this._lineWidth=this._model.getModel("itemStyle.normal").getItemStyle().lineWidth||0;this._rangeInfo=this._getRangeInfo(this._initRangeOption());var c=this._rangeInfo.weeks||1,d=["width","height"],e=this._model.get("cellSize").slice(),f=this._model.getBoxLayoutParams(),g="horizontal"===this._orient?[c,7]:[7,c];r([0,1],function(a){null!=e[a]&&"auto"!==e[a]&&(f[d[a]]=e[a]*g[a])});var c={width:b.getWidth(),height:b.getHeight()},h=this._rect=ya(f,c);r([0,1],function(a){null!=e[a]&&"auto"!==e[a]||(e[a]=h[d[a]]/g[a])});this._sw=e[0];this._sh=e[1]},dataToPoint:function(a,b){A(a)&&(a=a[0]);null==b&&(b=!0);var c=this.getDateInfo(a),d=this._rangeInfo;if(b&&!(c.time>=d.start.time&&c.time<=d.end.time))return[NaN,NaN];var e=c.day,c=this._getRangeInfo([d.start.time,c.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+e*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+e*this._sh+this._sh/2]},pointToData:function(a){return(a=this.pointToDate(a))&&a.time},dataToRect:function(a,b){var c=this.dataToPoint(a,b);return{contentShape:{x:c[0]-(this._sw-this._lineWidth)/2,y:c[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:c,tl:[c[0]-this._sw/2,c[1]-this._sh/2],tr:[c[0]+this._sw/2,c[1]-this._sh/2],br:[c[0]+this._sw/2,c[1]+this._sh/2],bl:[c[0]-this._sw/2,c[1]+this._sh/2]}},pointToDate:function(a){var b=Math.floor((a[0]-this._rect.x)/this._sw)+1;a=Math.floor((a[1]-this._rect.y)/this._sh)+1;var c=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(a,b-1,c):this._getDateByWeeksAndDay(b,a-1,c)},convertToPixel:C(Vr,"dataToPoint"),convertFromPixel:C(Vr,"pointToData"),_initRangeOption:function(){var a=this._model.get("range"),b=a;if(A(b)&&1===b.length&&(b=b[0]),/^\d{4}$/.test(b)&&(a=[b+"-01-01",b+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(b)){var a=this.getDateInfo(b),c=a.date;c.setMonth(c.getMonth()+1);c=this.getNextNDay(c,-1);a=[a.formatedDate,c.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(b)&&(a=[b,b]);b=this._getRangeInfo(a);return b.start.time>b.end.time&&a.reverse(),a},_getRangeInfo:function(a){var b;(a=[this.getDateInfo(a[0]),this.getDateInfo(a[1])])[0].time>a[1].time&&(b=!0,a.reverse());var c=Math.floor(a[1].time/864E5)-Math.floor(a[0].time/864E5)+1,d=new Date(a[0].time),e=d.getDate(),f=a[1].date.getDate();if(d.setDate(e+c-1),d.getDate()!==f)for(var g=0<d.getTime()-a[1].time?1:-1;d.getDate()!==f&&0<(d.getTime()-a[1].time)*g;)c-=g,d.setDate(e+c-1);d=Math.floor((c+a[0].day+6)/7);e=b?1-d:d-1;return b&&a.reverse(),{range:[a[0].formatedDate,a[1].formatedDate],start:a[0],end:a[1],allDay:c,weeks:d,nthWeek:e,fweek:a[0].day,lweek:a[1].day}},_getDateByWeeksAndDay:function(a,b,c){c=this._getRangeInfo(c);if(a>c.weeks||0===a&&b<c.fweek||a===c.weeks&&b>c.lweek)return!1;var d=new Date(c.start.time);return d.setDate(c.start.d+(7*(a-1)-c.fweek+b)),this.getDateInfo(d)}};hc.dimensions=hc.prototype.dimensions;hc.getDimensionsInfo=hc.prototype.getDimensionsInfo;hc.create=function(a,b){var c=[];return a.eachComponent("calendar",function(d){var e=new hc(d,a,b);c.push(e);d.coordinateSystem=e}),a.eachSeries(function(a){"calendar"===a.get("coordinateSystem")&&(a.coordinateSystem=c[a.get("calendarIndex")||0])}),c};fb.register("calendar",hc);var Mt=V.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{normal:{color:"#fff",borderWidth:1,borderColor:"#ccc"}},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(a,b,c,d){var e=hd({},a);Mt.superApply(this,"init",arguments);Wr(a,e)},mergeOption:function(a,b){Mt.superApply(this,"mergeOption",arguments);Wr(this.option,a)}}),eB={EN:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),CN:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" ")},fB={EN:"SMTWTFS".split(""),CN:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split("")};ua({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(a,b,c){b=this.group;b.removeAll();var d=a.coordinateSystem;c=d.getRangeInfo();d=d.getOrient();this._renderDayRect(a,c,b);this._renderLines(a,c,d,b);this._renderYearText(a,c,d,b);this._renderMonthText(a,d,b);this._renderWeekText(a,c,d,b)},_renderDayRect:function(a,b,c){var d=a.coordinateSystem;a=a.getModel("itemStyle.normal").getItemStyle();for(var e=d.getCellWidth(),f=d.getCellHeight(),g=b.start.time;g<=b.end.time;g=d.getNextNDay(g,1).time){var h=d.dataToRect([g],!1).tl,h=new fa({shape:{x:h[0],y:h[1],width:e,height:f},cursor:"default",style:a});c.add(h)}},_renderLines:function(a,b,c,d){function e(b){f._firstDayOfMonth.push(g.getDateInfo(b));f._firstDayPoints.push(g.dataToRect([b],!1).tl);b=f._getLinePointsOfOneWeek(a,b,c);f._tlpoints.push(b[0]);f._blpoints.push(b[b.length-1]);k&&f._drawSplitline(b,h,d)}var f=this,g=a.coordinateSystem,h=a.getModel("splitLine.lineStyle").getLineStyle(),k=a.get("splitLine.show"),l=h.lineWidth;this._tlpoints=[];this._blpoints=[];this._firstDayOfMonth=[];this._firstDayPoints=[];for(var m=b.start,n=0;m.time<=b.end.time;n++)e(m.formatedDate),0===n&&(m=g.getDateInfo(b.start.y+"-"+b.start.m)),m=m.date,m.setMonth(m.getMonth()+1),m=g.getDateInfo(m);e(g.getNextNDay(b.end.time,1).formatedDate);k&&this._drawSplitline(f._getEdgesPoints(f._tlpoints,l,c),h,d);k&&this._drawSplitline(f._getEdgesPoints(f._blpoints,l,c),h,d)},_getEdgesPoints:function(a,b,c){a=[a[0].slice(),a[a.length-1].slice()];c="horizontal"===c?0:1;return a[0][c]-=b/2,a[1][c]+=b/2,a},_drawSplitline:function(a,b,c){a=new wb({z2:20,shape:{points:a},style:b});c.add(a)},_getLinePointsOfOneWeek:function(a,b,c){a=a.coordinateSystem;b=a.getDateInfo(b);for(var d=[],e=0;7>e;e++){var f=a.getNextNDay(b.time,e),g=a.dataToRect([f.time],!1);d[2*f.day]=g.tl;d[2*f.day+1]=g["horizontal"===c?"bl":"tr"]}return d},_formatterLabel:function(a,b){return"string"==typeof a&&a?vn(a,b):"function"==typeof a?a(b):b.nameMap},_yearTextPositionControl:function(a,b,c,d,e){b=b.slice();a=["center","bottom"];"bottom"===d?(b[1]+=e,a=["center","top"]):"left"===d?b[0]-=e:"right"===d?(b[0]+=e,a=["center","top"]):b[1]-=e;e=0;return"left"!==d&&"right"!==d||(e=Math.PI/2),{rotation:e,position:b,style:{textAlign:a[0],textVerticalAlign:a[1]}}},_renderYearText:function(a,b,c,d){a=a.getModel("yearLabel");if(a.get("show")){var e=a.get("margin"),f=a.get("position");f||(f="horizontal"!==c?"top":"left");var g=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],h=(g[0][0]+g[1][0])/2,k=(g[0][1]+g[1][1])/2,l="horizontal"===c?0:1,g={top:[h,g[l][1]],bottom:[h,g[1-l][1]],left:[g[1-l][0],k],right:[g[l][0],k]},h=b.start.y;+b.end.y>+b.start.y&&(h=h+"-"+b.end.y);k=a.get("formatter");b=this._formatterLabel(k,{start:b.start.y,end:b.end.y,nameMap:h});h=new Q({z2:30});la(h.style,a,{text:b});h.attr(this._yearTextPositionControl(h,g[f],c,f,e));d.add(h)}},_monthTextPositionControl:function(a,b,c,d,e){var f="left",g="top",h=a[0];a=a[1];return"horizontal"===c?(a+=e,b&&(f="center"),"start"===d&&(g="bottom")):(h+=e,b&&(g="middle"),"start"===d&&(f="right")),{x:h,y:a,textAlign:f,textVerticalAlign:g}},_renderMonthText:function(a,b,c){a=a.getModel("monthLabel");if(a.get("show")){var d=a.get("nameMap"),e=a.get("margin"),f=a.get("position"),g=a.get("align"),h=[this._tlpoints,this._blpoints];Da(d)&&(d=eB[d.toUpperCase()]||[]);for(var k="start"===f?0:1,l="horizontal"===b?0:1,e="start"===f?-e:e,g="center"===g,m=0;m<h[k].length-1;m++){var n=h[k][m].slice(),p=this._firstDayOfMonth[m];g&&(n[l]=(this._firstDayPoints[m][l]+h[0][m+1][l])/2);var q=a.get("formatter"),t=d[+p.m-1],p={yyyy:p.y,yy:(p.y+"").slice(2),MM:p.m,M:+p.m,nameMap:t},q=this._formatterLabel(q,p),p=new Q({z2:30});I(la(p.style,a,{text:q}),this._monthTextPositionControl(n,g,b,f,e));c.add(p)}}},_weekTextPositionControl:function(a,b,c,d,e){var f="center",g="middle",h=a[0];a=a[1];c="start"===c;return"horizontal"===b?(h=h+d+(c?1:-1)*e[0]/2,f=c?"right":"left"):(a=a+d+(c?1:-1)*e[1]/2,g=c?"bottom":"top"),{x:h,y:a,textAlign:f,textVerticalAlign:g}},_renderWeekText:function(a,b,c,d){var e=a.getModel("dayLabel");if(e.get("show")){a=a.coordinateSystem;var f=e.get("position"),g=e.get("nameMap"),h=e.get("margin"),k=a.getFirstDayOfWeek();Da(g)&&(g=fB[g.toUpperCase()]||[]);var l=a.getNextNDay(b.end.time,7-b.lweek).time,m=[a.getCellWidth(),a.getCellHeight()],h=B(h,m["horizontal"===c?0:1]);"start"===f&&(l=a.getNextNDay(b.start.time,-(7+b.fweek)).time,h=-h);for(b=0;7>b;b++){var n=a.getNextNDay(l,b),n=a.dataToRect([n.time],!1).center,p;p=Math.abs((b+k)%7);var q=new Q({z2:30});I(la(q.style,e,{text:g[p]}),this._weekTextPositionControl(n,c,f,h,m));d.add(q)}}}});gb({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});ua({type:"title",render:function(a,b,c){if(this.group.removeAll(),a.get("show")){b=this.group;var d=a.getModel("textStyle"),e=a.getModel("subtextStyle"),f=a.get("textAlign"),g=a.get("textBaseline"),d=new Q({style:la({},d,{text:a.get("text"),textFill:d.getTextColor()},{disableBox:!0}),z2:10}),h=d.getBoundingRect(),k=a.get("subtext"),e=new Q({style:la({},e,{text:k,textFill:e.getTextColor(),y:h.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),l=a.get("link"),m=a.get("sublink");d.silent=!l;e.silent=!m;l&&d.on("click",function(){window.open(l,"_"+a.get("target"))});m&&e.on("click",function(){window.open(m,"_"+a.get("subtarget"))});b.add(d);k&&b.add(e);k=b.getBoundingRect();h=a.getBoxLayoutParams();h.width=k.width;h.height=k.height;c=ya(h,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));f||("middle"===(f=a.get("left")||a.get("right"))&&(f="center"),"right"===f?c.x+=c.width:"center"===f&&(c.x+=c.width/2));g||("center"===(g=a.get("top")||a.get("bottom"))&&(g="middle"),"bottom"===g?c.y+=c.height:"middle"===g&&(c.y+=c.height/2),g=g||"top");b.attr("position",[c.x,c.y]);f={textAlign:f,textVerticalAlign:g};d.setStyle(f);e.setStyle(f);k=b.getBoundingRect();c=c.margin;f=a.getItemStyle(["color","opacity"]);f.fill=a.get("backgroundColor");c=new fa({shape:{x:k.x-c[3],y:k.y-c[0],width:k.width+c[1]+c[3],height:k.height+c[0]+c[2],r:a.get("borderRadius")},style:f,silent:!0});Wi(c);b.add(c)}}});V.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var gB=["cartesian2d","polar","singleAxis"],Sc=function(a,b){var c=w(a=a.slice(),Zf),d=w(b=(b||[]).slice(),Zf);return function(e,f){r(a,function(a,h){for(var g={name:a,capital:c[h]},l=0;l<b.length;l++)g[b[l]]=a+d[l];e.call(f,g)})}}("x y z radius angle single".split(" "),["axisIndex","axis","index","id"]),sd=r,em=function(a,b,c,d){this._dimName=a;this._axisIndex=b;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=d;this._dataZoomModel=c};em.prototype={constructor:em,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=[],b=this.ecModel;return b.eachSeries(function(c){if(0<=S(gB,c.get("coordinateSystem"))){var d=this._dimName,d=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(d&&d.componentIndex)&&a.push(c)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a,b,c=this._dimName,d=this.ecModel,e=this.getAxisModel();"x"===c||"y"===c?(b="gridIndex",a="x"===c?"y":"x"):(b="polarIndex",a="angle"===c?"radius":"angle");var f;return d.eachComponent(a+"Axis",function(a){(a.get(b)||0)===(e.get(b)||0)&&(f=a)}),f},getMinMaxSpan:function(){return G(this._minMaxSpan)},calculateDataWindow:function(a){var b=this._dataExtent,c=this.getAxisModel().axis.scale,d=this._dataZoomModel.getRangePropMode(),e=[0,100],f=[a.start,a.end],g=[];return sd(["startValue","endValue"],function(b){g.push(null!=a[b]?c.parse(a[b]):null)}),sd([0,1],function(a){var h=g[a],l=f[a];"percent"===d[a]?(null==l&&(l=e[a]),h=c.parse(ba(l,e,b,!0))):l=ba(h,b,e,!0);g[a]=h;f[a]=l}),{valueWindow:Nb(g),percentWindow:Nb(f)}},reset:function(a){a===this._dataZoomModel&&(this._dataExtent=Gy(this,this._dimName,this.getTargetSeriesModels()),a=this.calculateDataWindow(a.option),this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,Iy(this),Xr(this))},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Xr(this,!0))},filterData:function(a){function b(a){return a>=f[0]&&a<=f[1]}if(a===this._dataZoomModel){var c=this._dimName,d=this.getTargetSeriesModels(),e=a.get("filterMode"),f=this._valueWindow;if("none"!==e){var g=this.getOtherAxisModel();a.get("$fromToolbox")&&g&&"category"===g.get("type")&&(e="empty");sd(d,function(a){var d=a.getData(),g=a.coordDimToDataDim(c);"weakFilter"===e?d&&d.filterSelf(function(a){for(var b,c,e,h=0;h<g.length;h++){var k=d.get(g[h],a),l=!isNaN(k),m=k<f[0],k=k>f[1];if(l&&!m&&!k)return!0;l&&(e=!0);m&&(b=!0);k&&(c=!0)}return e&&b&&c}):d&&sd(g,function(c){"empty"===e?a.setData(d.map(c,function(a){return b(a)?a:NaN})):d.filterSelf(c,b)})})}}}};var ke=r,fm=gb({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis singleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=["percent","percent"];b=Yr(a);this.mergeDefaultAndTheme(a,c);this.doInit(b)},mergeOption:function(a){var b=Yr(a);L(this.option,a,!0);this.doInit(b)},doInit:function(a){var b=this.option;ca.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);Zr(this,a);ke([["start","startValue"],["end","endValue"]],function(a,d){"value"===this._rangePropMode[d]&&(b[a[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(b,c,d,e){d=this.dependentModels[b.axis][c];e=d.__dzAxisProxy||(d.__dzAxisProxy=new em(b.name,c,this,e));a[b.name+"_"+c]=e},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();Sc(function(b){b=b.axisIndex;a[b]=kb(a[b])},this);"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;Sc(function(c){null!=a[c.axisIndex]&&(b=!0)},this);var c=a.orient;return null==c&&b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e="vertical"===b?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):ke(d.singleAxis,function(d){a&&d.get("orient",!0)===b&&(c.singleAxisIndex=[d.componentIndex],a=!1)})}a&&Sc(function(b){if(a){var d=[],e=this.dependentModels[b.axis];if(e.length&&!d.length)for(var f=0,l=e.length;f<l;f++)"category"===e[f].get("type")&&d.push(f);c[b.axisIndex]=d;d.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&Sc(function(b){var d=c[b.axisIndex],e=a.get(b.axisIndex),f=a.get(b.axisId);0>S(d,e=a.ecModel.queryComponents({mainType:b.axis,index:e,id:f})[0].componentIndex)&&d.push(e)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return Sc(function(d){var e=a.get(d.axisIndex);(d=this.dependentModels[d.axis][e])&&d.get("type")===b||(c=!1)},this),c},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle)a=this.ecModel.option,this.option.throttle=a.animation&&0<a.animationDurationUpdate?100:20},getFirstTargetAxisModel:function(){var a;return Sc(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;Sc(function(d){ke(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){var c=this.getAxisProxy(a,b);return c&&c.getAxisModel()},setRawRange:function(a,b){var c=this.option;ke([["start","startValue"],["end","endValue"]],function(b){null==a[b[0]]&&null==a[b[1]]||(c[b[0]]=a[b[0]],c[b[1]]=a[b[1]])},this);!b&&Zr(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},getValueRange:function(a,b){if(null!=a||null!=b)return this.getAxisProxy(a,b).getDataValueWindow();var c=this.findRepresentativeAxisProxy();return c?c.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}}),gm=dc.extend({type:"dataZoom",render:function(a,b,c,d){this.dataZoomModel=a;this.ecModel=b;this.api=c},getTargetCoordInfo:function(){var a=this.ecModel,b={};return this.dataZoomModel.eachTargetAxis(function(c,d){var e=a.getComponent(c.axis,d);if(e){var f=e.getCoordSysModel();if(f){for(var g=b[f.mainType]||(b[f.mainType]=[]),h,k=0;k<g.length;k++)if(g[k].model===f){h=g[k];break}h||g.push(h={model:f,axisModels:[],coordIndex:f.componentIndex});h.axisModels.push(e)}}},this),b}}),Uh=(fm.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),fa),hB=["line","bar","candlestick","scatter"],hm=gm.extend({type:"dataZoom.slider",init:function(a,b){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=b},render:function(a,b,c,d){hm.superApply(this,"render",arguments);Ye(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1!==this.dataZoomModel.get("show")?(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){hm.superApply(this,"remove",arguments);po(this,"_dispatchZoomAction")},dispose:function(){hm.superApply(this,"dispose",arguments);po(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new F;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect(),b={width:b.getWidth(),height:b.getHeight()},d="horizontal"===this._orient?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},e=hd({},a.option);r(["right","top","width","height"],function(a){"ph"===e[a]&&(e[a]=d[a])});a=ya(e,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel(),d=d&&d.get("inverse"),e=this._displayables.barGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==c||d?"horizontal"===c&&d?{scale:f?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:f?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:f?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:f?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size,b=this._displayables.barGroup;b.add(new Uh({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}));b.add(new Uh({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:z(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData(),a=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=a){var e=d.getDataExtent(a),c=.3*(e[1]-e[0]),e=[e[0]-c,e[1]+c],f,g=[0,b[1]],h=[[b[0],0],[0,0]],k=[],l=b[0]/(d.count()-1),m=0,n=Math.round(d.count()/b[0]);d.each([a],function(a,b){if(0<n&&b%n)m+=l;else{var c=null==a||isNaN(a)||""===a,d=c?0:ba(a,e,g,!0);c&&!f&&b?(h.push([h[h.length-1][0],0]),k.push([k[k.length-1][0],0])):!c&&f&&(h.push([m,0]),k.push([m,0]));h.push([m,d]);k.push([m,d]);m+=l;f=c}});b=this.dataZoomModel;this._displayables.barGroup.add(new Oa({shape:{points:h},style:J({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new wb({shape:{points:k},style:b.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;return a.eachTargetAxis(function(e,f){r(a.getAxisProxy(e.name,f).getTargetSeriesModels(),function(a){if(!(c||!0!==b&&0>S(hB,a.get("type")))){var g,k=d.getComponent(e.axis,f).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[e.name],m=a.coordinateSystem;null!=l&&m.getOtherAxis&&(g=m.getOtherAxis(k).inverse);c={thisAxis:k,series:a,thisDim:e.name,otherDim:l,otherAxisInverse:g}}},this)},this),c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,f=this.dataZoomModel;d.add(a.filler=new Uh({draggable:!0,cursor:$r(this._orient),drift:z(this._onDragMove,this,"all"),onmousemove:function(a){ec(a.event)},ondragstart:z(this._showDataInfo,this,!0),ondragend:z(this._onDragEnd,this),onmouseover:z(this._showDataInfo,this,!0),onmouseout:z(this._showDataInfo,this,!1),style:{fill:f.get("fillerColor"),textPosition:"inside"}}));d.add(new Uh(Wi({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));r([0,1],function(a){var e=Ve(f.get("handleIcon"),{cursor:$r(this._orient),draggable:!0,drift:z(this._onDragMove,this,a),onmousemove:function(a){ec(a.event)},ondragend:z(this._onDragEnd,this),onmouseover:z(this._showDataInfo,this,!0),onmouseout:z(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),g=e.getBoundingRect();this._handleHeight=B(f.get("handleSize"),this._size[1]);this._handleWidth=g.width/g.height*this._handleHeight;e.setStyle(f.getModel("handleStyle").getItemStyle());g=f.get("handleColor");null!=g&&(e.style.fill=g);d.add(b[a]=e);e=f.textStyleModel;this.group.add(c[a]=new Q({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[ba(a[0],[0,100],b,!0),ba(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),g=[0,100];ve(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?ba(f.minSpan,g,e,!0):null,null!=f.maxSpan?ba(f.maxSpan,g,e,!0):null);this._range=Nb([ba(d[0],e,g,!0),ba(d[1],e,g,!0)])},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=Nb(c.slice()),e=this._size;r([0,1],function(a){var d=this._handleHeight;b.handles[a].attr({scale:[d/2,d/2],position:[c[a],e[1]/2-d/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var b=dd(d.handles[a].parent,this.group),c=Yi(0===a?"right":"left",b),h=this._handleWidth/2+5,b=Za([l[a]+(0===a?-h:h),this._size[1]/2],b);e[a].setStyle({x:b[0],y:b[1],textVerticalAlign:"horizontal"===f?"middle":c,textAlign:"horizontal"===f?c:"center",text:g[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,g=["",""];if(c.get("showDetail")){var h=c.findRepresentativeAxisProxy();if(h){var c=h.getAxisModel().axis,k=this._range;a=a?h.calculateDataWindow({start:k[0],end:k[1]}).valueWindow:h.getDataValueWindow();g=[this._formatLabel(a[0],c),this._formatLabel(a[1],c)]}}var l=Nb(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter"),c=c.get("labelPrecision");null!=c&&"auto"!==c||(c=b.getPixelPrecision());c=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));return jc(d)?d(a,c):Da(d)?d.replace("{value}",c):c},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;b=Za([b,c],this._displayables.barGroup.getLocalTransform(),!0);this._updateInterval(a,b[0]);a=this.dataZoomModel.get("realtime");this._updateView(!a);a&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size;a=this._displayables.barGroup.transformCoordToLocal(a.offsetX,a.offsetY);0>a[0]||a[0]>b[0]||0>a[1]||a[1]>b[1]||(b=this._handleEnds,this._updateInterval("all",a[0]-(b[0]+b[1])/2),this._updateView(),this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){var a;if(r(this.getTargetCoordInfo(),function(b){!a&&b.length&&(b=b[0].model.coordinateSystem,a=b.getRect&&b.getRect())}),!a){var b=this.api.getWidth(),c=this.api.getHeight();a={x:.2*b,y:.2*c,width:.6*b,height:.6*c}}return a}});fm.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var ds=C,cs="\x00_ec_dataZoom_roams",Nt=gm.extend({type:"dataZoom.inside",init:function(a,b){this._range},render:function(a,b,c,d){Nt.superApply(this,"render",arguments);Oy(d,a.id)&&(this._range=a.getPercentRange());r(this.getTargetCoordInfo(),function(b,d){var e=w(b,function(a){a=a.model;return a.type+"\x00_"+a.id});r(b,function(b){var f=b.model,g=a.option;Jy(c,{coordId:f.type+"\x00_"+f.id,allCoordIds:e,containsPoint:function(a,b,c){return f.coordinateSystem.containPoint([b,c])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:z(this._onPan,this,b,d),zoomGetRange:z(this._onZoom,this,b,d),zoomLock:g.zoomLock,disabled:g.disabled,roamControllerOpt:{zoomOnMouseWheel:g.zoomOnMouseWheel,moveOnMouseMove:g.moveOnMouseMove,preventDefaultMouseMove:g.preventDefaultMouseMove}})},this)},this)},dispose:function(){Ny(this.api,this.dataZoomModel.id);Nt.superApply(this,"dispose",arguments);this._range=null},_onPan:function(a,b,c,d,e,f,g,h,k){d=this._range.slice();if(e=a.axisModels[0])return a=Ot[b]([f,g],[h,k],e,c,a),ve(a.signal*(d[1]-d[0])*a.pixel/a.pixelLength,d,[0,100],"all"),this._range=d},_onZoom:function(a,b,c,d,e,f){var g=this._range.slice(),h=a.axisModels[0];if(h)return a=Ot[b](null,[e,f],h,c,a),a=(0<a.signal?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(g[1]-g[0])+g[0],d=Math.max(1/d,0),g[0]=(g[0]-a)*d+a,g[1]=(g[1]-a)*d+a,d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),ve(0,g,[0,100],0,d.minSpan,d.maxSpan),this._range=g}}),Ot={grid:function(a,b,c,d,e){c=c.axis;d={};e=e.model.coordinateSystem.getRect();return a=a||[0,0],"x"===c.dim?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1),d},polar:function(a,b,c,d,e){d=c.axis;var f={};e=e.model.coordinateSystem;var g=e.getRadiusAxis().getExtent(),h=e.getAngleAxis().getExtent();return a=a?e.pointToCoord(a):[0,0],b=e.pointToCoord(b),"radiusAxis"===c.mainType?(f.pixel=b[0]-a[0],f.pixelLength=g[1]-g[0],f.pixelStart=g[0],f.signal=d.inverse?1:-1):(f.pixel=b[1]-a[1],f.pixelLength=h[1]-h[0],f.pixelStart=h[0],f.signal=d.inverse?-1:1),f},singleAxis:function(a,b,c,d,e){c=c.axis;e=e.model.coordinateSystem.getRect();d={};return a=a||[0,0],"horizontal"===c.orient?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1),d}};Ua(function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(Ry);a.eachTargetAxis(Sy)});a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow(),b=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:b[0],endValue:b[1]},!0)})});X("dataZoom",function(a,b){var c=Fy(z(b.eachComponent,b,"dataZoom"),Sc,function(a,b){return a.get(b.axisIndex)}),d=[];b.eachComponent({mainType:"dataZoom",query:a},function(a,b){d.push.apply(d,c(a).nodes)});r(d,function(b,c){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});var Pt=function(a){a=a&&a.visualMap;A(a)||(a=a?[a]:[]);r(a,function(a){a&&(le(a,"splitList")&&!le(a,"pieces")&&(a.pieces=a.splitList,delete a.splitList),(a=a.pieces)&&A(a)&&r(a,function(a){T(a)&&(le(a,"start")&&!le(a,"min")&&(a.min=a.start),le(a,"end")&&!le(a,"max")&&(a.max=a.end))}))})};V.registerSubTypeDefaulter("visualMap",function(a){return a.categories||(a.pieces?0<a.pieces.length:0<a.splitNumber)&&!a.calculable?"piecewise":"continuous"});na(se.VISUAL.COMPONENT,function(a){a.eachComponent("visualMap",function(a){Ty(a)});Uy(a)});var im={get:function(a,b,c){a=G((iB[a]||{})[b]);return c&&A(a)?a[a.length-1]:a}},iB={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Qt=R.mapVisual,jB=R.eachVisual,kB=A,lB=["#f6efa6","#d88273","#bf444c"],Vh=gb({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(a,b,c){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(a,c)},optionUpdated:function(a,b){var c=this.option;ca.canvasSupported||(c.realtime=!1);!b&&Kr(c,a,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(a){var b=this.stateList;a=z(a,this);this.controllerVisuals=Kk(this.option.controller,b,a);this.targetVisuals=Kk(this.option.target,b,a)},getTargetSeriesIndices:function(){var a=this.option.seriesIndex,b=[];return null==a||"all"===a?this.ecModel.eachSeries(function(a,d){b.push(d)}):b=kb(a),b},eachTargetSeries:function(a,b){r(this.getTargetSeriesIndices(),function(c){a.call(b,this.ecModel.getSeriesByIndex(c))},this)},isTargetSeries:function(a){var b=!1;return this.eachTargetSeries(function(c){c===a&&(b=!0)}),b},formatValueText:function(a,b,c){function d(a){return a===k[0]?"min":a===k[1]?"max":(+a).toFixed(Math.min(h,20))}var e,f,g=this.option,h=g.precision,k=this.dataBound,g=g.formatter;return c=c||["\x3c","\x3e"],A(a)&&(a=a.slice(),e=!0),f=b?a:e?[d(a[0]),d(a[1])]:d(a),Da(g)?g.replace("{value}",e?f[0]:f).replace("{value2}",e?f[1]:f):jc(g)?e?g(a[0],a[1]):g(a):e?a[0]===k[0]?c[0]+" "+f[1]:a[1]===k[1]?c[1]+" "+f[0]:f[0]+" - "+f[1]:f},resetExtent:function(){var a=this.option;this._dataExtent=Nb([a.min,a.max])},getDataDimension:function(a){var b=this.option.dimension;return null!=b?b:a.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function a(a){kB(b.color)&&!a.inRange&&(a.inRange={color:b.color.slice().reverse()});a.inRange=a.inRange||{color:lB};r(this.stateList,function(b){var c=a[b];if(Da(c)){var d=im.get(c,"active",f);d?(a[b]={},a[b][c]=d):delete a[b]}},this)}var b=this.option,c={inRange:b.inRange,outOfRange:b.outOfRange},d=b.target||(b.target={}),e=b.controller||(b.controller={});L(d,c);L(e,c);var f=this.isCategory();a.call(this,d);a.call(this,e);(function(a,b,c){b=a[b];var d=a[c];b&&!d&&(d=a[c]={},r(b,function(a,b){if(R.isValidType(b)){var c=im.get(b,"inactive",f);null!=c&&(d[b]=c,"color"!==b||d.hasOwnProperty("opacity")||d.hasOwnProperty("colorAlpha")||(d.opacity=[0,0]))}}))}).call(this,d,"inRange","outOfRange");(function(a){var b=(a.inRange||{}).symbol||(a.outOfRange||{}).symbol,c=(a.inRange||{}).symbolSize||(a.outOfRange||{}).symbolSize,d=this.get("inactiveColor");r(this.stateList,function(e){var g=this.itemSize,h=a[e];h||(h=a[e]={color:f?d:[d]});null==h.symbol&&(h.symbol=b&&G(b)||(f?"roundRect":["roundRect"]));null==h.symbolSize&&(h.symbolSize=c&&G(c)||(f?g[0]:[g[0],g[0]]));h.symbol=Qt(h.symbol,function(a){return"none"===a||"square"===a?"roundRect":a});e=h.symbolSize;if(null!=e){var k=-1/0;jB(e,function(a){a>k&&(k=a)});h.symbolSize=Qt(e,function(a){return ba(a,[0,k],[0,g[0]],!0)})}},this)}).call(this,e)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:qa,getValueState:qa,getVisualMeta:qa}),Rt=[20,140],St=Vh.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(a,b){St.superApply(this,"optionUpdated",arguments);this.resetExtent();this.resetVisual(function(a){a.mappingMethod="linear";a.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){St.superApply(this,"resetItemSize",arguments);var a=this.itemSize;"horizontal"===this._orient&&a.reverse();(null==a[0]||isNaN(a[0]))&&(a[0]=Rt[0]);(null==a[1]||isNaN(a[1]))&&(a[1]=Rt[1])},_resetRange:function(){var a=this.getExtent(),b=this.option.range;!b||b.auto?(a.auto=1,this.option.range=a):A(b)&&(b[0]>b[1]&&b.reverse(),b[0]=Math.max(b[0],a[0]),b[1]=Math.min(b[1],a[1]))},completeVisualOption:function(){Vh.prototype.completeVisualOption.apply(this,arguments);r(this.stateList,function(a){(a=this.option.controller[a].symbolSize)&&a[0]!==a[1]&&(a[0]=0)},this)},setSelected:function(a){this.option.range=a.slice();this._resetRange()},getSelected:function(){var a=this.getExtent(),b=Nb((this.get("range")||[]).slice());return b[0]>a[1]&&(b[0]=a[1]),b[1]>a[1]&&(b[1]=a[1]),b[0]<a[0]&&(b[0]=a[0]),b[1]<a[0]&&(b[1]=a[0]),b},getValueState:function(a){var b=this.option.range,c=this.getExtent();return(b[0]<=c[0]||b[0]<=a)&&(b[1]>=c[1]||a<=b[1])?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){a[0]<=b&&b<=a[1]&&d.push(c)},!0,this);b.push({seriesId:c.id,dataIndex:d})},this),b},getVisualMeta:function(a){function b(b,c){e.push({value:b,color:a(b,c)})}for(var c=fs(0,0,this.getExtent()),d=fs(0,0,this.option.range.slice()),e=[],f=0,g=0,h=d.length,k=c.length;g<k&&(!d.length||c[g]<=d[0]);g++)c[g]<d[f]&&b(c[g],"outOfRange");for(l=1;f<h;f++,l=0)l&&e.length&&b(d[f],"outOfRange"),b(d[f],"inRange");for(var l=1;g<k;g++)(!d.length||d[d.length-1]<c[g])&&(l&&(e.length&&b(e[e.length-1].value,"outOfRange"),l=0),b(c[g],"outOfRange"));c=e.length;return{stops:e,outerColors:[c?e[0].color:"transparent",c?e[c-1].color:"transparent"]}}}),Tt=ua({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(a,b){this.ecModel=a;this.api=b;this.visualMapModel},render:function(a,b,c,d){this.visualMapModel=a;!1!==a.get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(a){var b=this.visualMapModel,c=fd(b.get("padding")||0),d=a.getBoundingRect();a.add(new fa({z2:-1,silent:!0,shape:{x:d.x-c[3],y:d.y-c[0],width:d.width+c[3]+c[1],height:d.height+c[0]+c[2]},style:{fill:b.get("backgroundColor"),stroke:b.get("borderColor"),lineWidth:b.get("borderWidth")}}))},getControllerVisual:function(a,b,c){function d(a){return h[a]}function e(a,b){h[a]=b}var f=(c=c||{}).forceState,g=this.visualMapModel,h={};if("symbol"===b&&(h.symbol=g.get("itemSymbol")),"color"===b){var k=g.get("contentColor");h.color=k}var l=g.controllerVisuals[f||g.getValueState(a)];return r(R.prepareVisualTypes(l),function(f){var g=l[f];c.convertOpacityToAlpha&&"opacity"===f&&(f="colorAlpha",g=l.__alphaForOpacity);R.dependsOn(f,b)&&g&&g.applyVisual(a,d,e)}),h[b]},positionGroup:function(a){var b=this.api;mg(a,this.visualMapModel.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()})},doRender:qa}),hh=Math.min,vf=Math.max,hs=6,mB=Tt.extend({type:"visualMap.continuous",init:function(){mB.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(a,b,c,d){d&&"selectDataRange"===d.type&&d.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var a=this.visualMapModel,b=this.group;this._orient=a.get("orient");this._useHandle=a.get("calculable");this._resetInterval();this._renderBar(b);a=a.get("text");this._renderEndsText(b,a,0);this._renderEndsText(b,a,1);this._updateView(!0);this.renderBackground(b);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(b)},_renderEndsText:function(a,b,c){if(b){a=b[1-c];a=null!=a?a+"":"";var d=this.visualMapModel;b=d.get("textGap");var e=d.itemSize,d=this._shapes.barGroup;b=this._applyTransform([e[0]/2,0===c?-b:e[1]+b],d);c=this._applyTransform(0===c?"bottom":"top",d);d=this._orient;e=this.visualMapModel.textStyleModel;this.group.add(new Q({style:{x:b[0],y:b[1],textVerticalAlign:"horizontal"===d?"middle":c,textAlign:"horizontal"===d?c:"center",text:a,textFont:e.getFont(),textFill:e.getTextColor()}}))}},_renderBar:function(a){var b=this.visualMapModel,c=this._shapes,d=b.itemSize,e=this._orient,f=this._useHandle,g=gs(b,this.api,d),h=c.barGroup=this._createBarGroup(g);h.add(c.outOfRange=gh());h.add(c.inRange=gh(null,f?js(this._orient):null,z(this._dragHandle,this,"all",!1),z(this._dragHandle,this,"all",!0)));b=b.textStyleModel.getTextRect("\u56fd");b=vf(b.width,b.height);f&&(c.handleThumbs=[],c.handleLabels=[],c.handleLabelPoints=[],this._createHandle(h,0,d,b,e,g),this._createHandle(h,1,d,b,e,g));this._createIndicator(h,d,b,e);a.add(h)},_createHandle:function(a,b,c,d,e){var f=z(this._dragHandle,this,b,!1),g=z(this._dragHandle,this,b,!0),h=gh(0===b?[[0,0],[d,0],[d,-d]]:[[0,0],[d,0],[d,d]],js(this._orient),f,g);h.position[0]=c[0];a.add(h);a=this.visualMapModel.textStyleModel;f=new Q({draggable:!0,drift:f,onmousemove:function(a){ec(a.event)},ondragend:g,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(f);d=["horizontal"===e?d/2:1.5*d,"horizontal"===e?0===b?-1.5*d:1.5*d:0===b?-d/2:d/2];e=this._shapes;e.handleThumbs[b]=h;e.handleLabelPoints[b]=d;e.handleLabels[b]=f},_createIndicator:function(a,b,c,d){var e=gh([[0,0]],"move");e.position[0]=b[0];e.attr({invisible:!0,silent:!0});a.add(e);a=this.visualMapModel.textStyleModel;a=new Q({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:a.getFont(),textFill:a.getTextColor()}});this.group.add(a);c=["horizontal"===d?c/2:hs+3,0];d=this._shapes;d.indicator=e;d.indicatorLabel=a;d.indicatorLabelPoint=c},_dragHandle:function(a,b,c,d){this._useHandle&&((this._dragging=!b,b)||(c=this._applyTransform([c,d],this._shapes.barGroup,!0),this._updateInterval(a,c[1]),this._updateView()),b===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),b?!this._hovering&&this._clearHoverLinkToSeries():is(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[a],!1))},_resetInterval:function(){var a=this.visualMapModel,b=this._dataInterval=a.getSelected(),c=a.getExtent(),a=[0,a.itemSize[1]];this._handleEnds=[ba(b[0],c,a,!0),ba(b[1],c,a,!0)]},_updateInterval:function(a,b){var c=this.visualMapModel,d=this._handleEnds,e=[0,c.itemSize[1]];ve(b||0,d,e,a,0);c=c.getExtent();this._dataInterval=[ba(d[0],e,c,!0),ba(d[1],e,c,!0)]},_updateView:function(a){var b=this.visualMapModel,c=b.getExtent(),d=this._shapes,b=[0,b.itemSize[1]];a=a?b:this._handleEnds;var e=this._createBarVisual(this._dataInterval,c,a,"inRange"),c=this._createBarVisual(c,c,b,"outOfRange");d.inRange.setStyle({fill:e.barColor,opacity:e.opacity}).setShape("points",e.barPoints);d.outOfRange.setStyle({fill:c.barColor,opacity:c.opacity}).setShape("points",c.barPoints);this._updateHandle(a,e)},_createBarVisual:function(a,b,c,d){d={forceState:d,convertOpacityToAlpha:!0};b=this._makeColorGradient(a,d);a=[this.getControllerVisual(a[0],"symbolSize",d),this.getControllerVisual(a[1],"symbolSize",d)];c=this._createBarPoints(c,a);return{barColor:new Zd(0,0,0,1,b),barPoints:c,handlesColor:[b[0].color,b[b.length-1].color]}},_makeColorGradient:function(a,b){var c=[],d=(a[1]-a[0])/100;c.push({color:this.getControllerVisual(a[0],"color",b),offset:0});for(var e=1;100>e;e++){var f=a[0]+d*e;if(f>a[1])break;c.push({color:this.getControllerVisual(f,"color",b),offset:e/100})}return c.push({color:this.getControllerVisual(a[1],"color",b),offset:1}),c},_createBarPoints:function(a,b){var c=this.visualMapModel.itemSize;return[[c[0]-b[0],a[0]],[c[0],a[0]],[c[0],a[1]],[c[0]-b[1],a[1]]]},_createBarGroup:function(a){var b=this._orient,c=this.visualMapModel.get("inverse");return new F("horizontal"!==b||c?"horizontal"===b&&c?{scale:"bottom"===a?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==b||c?{scale:"left"===a?[1,1]:[-1,1]}:{scale:"left"===a?[1,-1]:[-1,-1]}:{scale:"bottom"===a?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(a,b){if(this._useHandle){var c=this._shapes,d=this.visualMapModel,e=c.handleThumbs,f=c.handleLabels;r([0,1],function(g){var h=e[g];h.setStyle("fill",b.handlesColor[g]);h.position[1]=a[g];h=Za(c.handleLabelPoints[g],dd(h,this.group));f[g].setStyle({x:h[0],y:h[1],text:d.formatValueText(this._dataInterval[g]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===g?"bottom":"top":"left",c.barGroup)})},this)}},_showIndicator:function(a,b,c,d){var e=this.visualMapModel,f=e.getExtent(),g=e.itemSize,h=ba(a,f,[0,g[1]],!0),f=this._shapes,k=f.indicator;k&&(k.position[1]=h,k.attr("invisible",!1),k.setShape("points",Wy(!!c,d,h,g[1])),a=this.getControllerVisual(a,"color",{convertOpacityToAlpha:!0}),k.setStyle("fill",a),a=Za(f.indicatorLabelPoint,dd(k,this.group)),d=f.indicatorLabel,d.attr("invisible",!1),f=this._applyTransform("left",f.barGroup),g=this._orient,d.setStyle({text:(c||"")+e.formatValueText(b),textVerticalAlign:"horizontal"===g?f:"middle",textAlign:"horizontal"===g?"center":f,x:a[0],y:a[1]}))},_enableHoverLinkToSeries:function(){var a=this;this._shapes.barGroup.on("mousemove",function(b){if(a._hovering=!0,!a._dragging){var c=a.visualMapModel.itemSize;b=a._applyTransform([b.offsetX,b.offsetY],a._shapes.barGroup,!0,!0);b[1]=hh(vf(0,b[1]),c[1]);a._doHoverLinkToSeries(b[1],0<=b[0]&&b[0]<=c[0])}}).on("mouseout",function(){a._hovering=!1;!a._dragging&&a._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var a=this.api.getZr();this.visualMapModel.option.hoverLink?(a.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),a.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(a,b){var c=this.visualMapModel,d=c.itemSize;if(c.option.hoverLink){var d=[0,d[1]],e=c.getExtent();a=hh(vf(d[0],a),d[1]);var f,g=6;f=c.get("hoverLinkDataSize");f=(f&&(g=ba(f,e,d,!0)/2),g);var g=[a-f,a+f],h=ba(a,d,e,!0),e=[ba(g[0],d,e,!0),ba(g[1],d,e,!0)];g[0]<d[0]&&(e[0]=-1/0);g[1]>d[1]&&(e[1]=1/0);b&&(e[0]===-1/0?this._showIndicator(h,e[1],"\x3c ",f):e[1]===1/0?this._showIndicator(h,e[0],"\x3e ",f):this._showIndicator(h,h,"\u2248 ",f));d=this._hoverLinkDataIndices;f=[];(b||is(c))&&(f=this._hoverLinkDataIndices=c.findTargetDataIndices(e));c=Ru(d,f);this._dispatchHighDown("downplay",fh(c[0]));this._dispatchHighDown("highlight",fh(c[1]))}},_hoverLinkFromSeriesMouseOver:function(a){a=a.target;var b=this.visualMapModel;if(a&&null!=a.dataIndex){var c=this.ecModel.getSeriesByIndex(a.seriesIndex);b.isTargetSeries(c)&&(c=c.getData(a.dataType),b=c.getDimension(b.getDataDimension(c)),a=c.get(b,a.dataIndex,!0),isNaN(a)||this._showIndicator(a,a))}},_hideIndicator:function(){var a=this._shapes;a.indicator&&a.indicator.attr("invisible",!0);a.indicatorLabel&&a.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var a=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",fh(a));a.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var a=this.api.getZr();a.off("mouseover",this._hoverLinkFromSeriesMouseOver);a.off("mouseout",this._hideIndicator)},_applyTransform:function(a,b,c,d){b=dd(b,d?null:this.group);return Pa[A(a)?"applyTransform":"transformDirection"](a,b,c)},_dispatchHighDown:function(a,b){b&&b.length&&this.api.dispatchAction({type:a,batch:b})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});X({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(a,b){b.eachComponent({mainType:"visualMap",query:a},function(b){b.setSelected(a.selected)})});oa(Pt);var nB=Vh.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(a,b){nB.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetExtent();var c=this._mode=this._determineMode();oB[this._mode].call(this);this._resetSelected(a,b);var d=this.option.categories;this.resetVisual(function(a,b){"categories"===c?(a.mappingMethod="category",a.categories=G(d)):(a.dataExtent=this.getExtent(),a.mappingMethod="piecewise",a.pieceList=w(this._pieceList,function(a){a=G(a);return"inRange"!==b&&(a.visual=null),a}))})},completeVisualOption:function(){function a(a,b,c){return a&&a[b]&&(T(a[b])?a[b].hasOwnProperty(c):a[b]===c)}var b=this.option,c={},d=R.listVisualTypes(),e=this.isCategory();r(b.pieces,function(a){r(d,function(b){a.hasOwnProperty(b)&&(c[b]=1)})});r(c,function(c,d){var f=0;r(this.stateList,function(c){f|=a(b,c,d)||a(b.target,c,d)},this);!f&&r(this.stateList,function(a){(b[a]||(b[a]={}))[d]=im.get(d,"inRange"===a?"active":"inactive",e)})},this);Vh.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(a,b){var c=this.option,d=this._pieceList,e=(b?c:a).selected||{};if(c.selected=e,r(d,function(a,b){var c=this.getSelectedMapKey(a);e.hasOwnProperty(c)||(e[c]=!0)},this),"single"===c.selectedMode){var f=!1;r(d,function(a,b){var c=this.getSelectedMapKey(a);e[c]&&(f?e[c]=!1:f=!0)},this)}},getSelectedMapKey:function(a){return"categories"===this._mode?a.value+"":a.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var a=this.option;return a.pieces&&0<a.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(a){this.option.selected=G(a)},getValueState:function(a){a=R.findPieceIndex(a,this._pieceList);return null!=a&&this.option.selected[this.getSelectedMapKey(this._pieceList[a])]?"inRange":"outOfRange"},findTargetDataIndices:function(a){var b=[];return this.eachTargetSeries(function(c){var d=[],e=c.getData();e.each(this.getDataDimension(e),function(b,c){R.findPieceIndex(b,this._pieceList)===a&&d.push(c)},!0,this);b.push({seriesId:c.id,dataIndex:d})},this),b},getRepresentValue:function(a){this.isCategory()?a=a.value:null!=a.value?a=a.value:(a=a.interval||[],a=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2);return a},getVisualMeta:function(a){function b(b,f){var g=e.getRepresentValue({interval:b});f||(f=e.getValueState(g));g=a(g,f);b[0]===-1/0?d[0]=g:b[1]===1/0?d[1]=g:c.push({value:b[0],color:g},{value:b[1],color:g})}if(!this.isCategory()){var c=[],d=[],e=this,f=this._pieceList.slice();if(f.length){var g=f[0].interval[0];g!==-1/0&&f.unshift({interval:[-1/0,g]});(g=f[f.length-1].interval[1])!==1/0&&f.push({interval:[g,1/0]})}else f.push({interval:[-1/0,1/0]});var h=-1/0;return r(f,function(a){(a=a.interval)&&(a[0]>h&&b([h,a[0]],"outOfRange"),b(a.slice()),h=a[1])},this),{stops:c,outerColors:d}}}}),oB={splitNumber:function(){var a=this.option,b=this._pieceList,c=Math.min(a.precision,20),d=this.getExtent(),e=a.splitNumber,e=Math.max(parseInt(e,10),1);a.splitNumber=e;for(var f=(d[1]-d[0])/e;+f.toFixed(c)!==f&&5>c;)c++;a.precision=c;f=+f.toFixed(c);c=0;a.minOpen&&b.push({index:c++,interval:[-1/0,d[0]],close:[0,0]});for(var g=d[0],h=c+e;c<h;g+=f){var k=c===e-1?d[1]:g+f;b.push({index:c++,interval:[g,k],close:[1,1]})}a.maxOpen&&b.push({index:c++,interval:[d[1],1/0],close:[0,0]});Pi(b);r(b,function(a){a.text=this.formatValueText(a.interval)},this)},categories:function(){var a=this.option;r(a.categories,function(a){this._pieceList.push({text:this.formatValueText(a,!0),value:a})},this);ks(a,this._pieceList)},pieces:function(){var a=this.option,b=this._pieceList;r(a.pieces,function(a,d){T(a)||(a={value:a});var c={text:"",index:d};if(null!=a.label&&(c.text=a.label),a.hasOwnProperty("value")){var f=c.value=a.value;c.interval=[f,f];c.close=[1,1]}else{for(var f=c.interval=[],g=c.close=[0,0],h=[1,0,1],k=[-1/0,1/0],l=[],m=0;2>m;m++){for(var n=[["gte","gt","min"],["lte","lt","max"]][m],p=0;3>p&&null==f[m];p++)f[m]=a[n[p]],g[m]=h[p],l[m]=2===p;null==f[m]&&(f[m]=k[m])}l[0]&&f[1]===1/0&&(g[0]=0);l[1]&&f[0]===-1/0&&(g[1]=0);f[0]===f[1]&&g[0]&&g[1]&&(c.value=f[0])}c.visual=R.retrieveVisuals(a);b.push(c)},this);ks(a,b);Pi(b);r(b,function(a){var b=a.close,b=[["\x3c","\u2264"][b[1]],["\x3e","\u2265"][b[0]]];a.text=a.text||this.formatValueText(null!=a.value?a.value:a.interval,!1,b)},this)}};Tt.extend({type:"visualMap.piecewise",doRender:function(){var a=this.group;a.removeAll();var b=this.visualMapModel,c=b.get("textGap"),d=b.textStyleModel,e=d.getFont(),f=d.getTextColor(),g=this._getItemAlign(),h=b.itemSize,d=this._getViewData(),k=d.endsText,l=Ea(b.get("showLabel",!0),!k);k&&this._renderEndsText(a,k[0],h,l,g);r(d.viewPieceList,function(d){var k=d.piece,m=new F;m.onclick=z(this._onItemClick,this,k);this._enableHoverLink(m,d.indexInModelPieceList);d=b.getRepresentValue(k);if(this._createItemSymbol(m,d,[0,0,h[0],h[1]]),l)d=this.visualMapModel.getValueState(d),m.add(new Q({style:{x:"right"===g?-c:h[0]+c,y:h[1]/2,text:k.text,textVerticalAlign:"middle",textAlign:g,textFont:e,textFill:f,opacity:"outOfRange"===d?.5:1}}));a.add(m)},this);k&&this._renderEndsText(a,k[1],h,l,g);tf(b.get("orient"),a,b.get("itemGap"));this.renderBackground(a);this.positionGroup(a)},_enableHoverLink:function(a,b){function c(a){var c=this.visualMapModel;c.option.hoverLink&&this.api.dispatchAction({type:a,batch:fh(c.findTargetDataIndices(b))})}a.on("mouseover",z(c,this,"highlight")).on("mouseout",z(c,this,"downplay"))},_getItemAlign:function(){var a=this.visualMapModel,b=a.option;if("vertical"===b.orient)return gs(a,this.api,a.itemSize);a=b.align;return a&&"auto"!==a||(a="left"),a},_renderEndsText:function(a,b,c,d,e){if(b){var f=new F,g=this.visualMapModel.textStyleModel;f.add(new Q({style:{x:d?"right"===e?c[0]:0:c[0]/2,y:c[1]/2,textVerticalAlign:"middle",textAlign:d?e:"center",text:b,textFont:g.getFont(),textFill:g.getTextColor()}}));a.add(f)}},_getViewData:function(){var a=this.visualMapModel,b=w(a.getPieceList(),function(a,b){return{piece:a,indexInModelPieceList:b}}),c=a.get("text"),d=a.get("orient"),a=a.get("inverse");return("horizontal"===d?a:!a)?b.reverse():c&&(c=c.slice().reverse()),{viewPieceList:b,endsText:c}},_createItemSymbol:function(a,b,c){a.add(nb(this.getControllerVisual(b,"symbol"),c[0],c[1],c[2],c[3],this.getControllerVisual(b,"color")))},_onItemClick:function(a){var b=this.visualMapModel,c=b.option,d=G(c.selected),e=b.getSelectedMapKey(a);"single"===c.selectedMode?(d[e]=!0,r(d,function(a,b){d[b]=b===e})):d[e]=!d[e];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:d})}});oa(Pt);var Wh=gb({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c);this.mergeOption(a,c,d.createdBySelf,!0)},isAnimationEnabled:function(){if(ca.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b,c,d){var e=this.constructor,f=this.mainType+"Model";c||b.eachSeries(function(a){var c=a.get(this.mainType),g=a[f];c&&c.data?(g?g.mergeOption(c,b,!0):(d&&ih(c),r(c.data,function(a){a instanceof Array?(ih(a[0]),ih(a[1])):ih(a)}),I(g=new e(c,this,b),{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),g.__hostSeries=a),a[f]=g):a[f]=null},this)},formatTooltip:function(a){var b=this.getData(),c=this.getRawValue(a),d=A(c)?w(c,oc).join(", "):oc(c);a=b.getName(a);b=ia(this.name);return(null!=c||a)&&(b+="\x3cbr /\x3e"),a&&(b+=ia(a),null!=c&&(b+=" : ")),null!=c&&(b+=ia(d)),b},getData:function(){return this._data},setData:function(a){this._data=a}});M(Wh,vl);Wh.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}});var ms=S,Sk={min:C(Qk,"min"),max:C(Qk,"max"),average:C(Qk,"average")},jm=ua({type:"marker",init:function(){this.markerGroupMap=xa()},render:function(a,b,c){a=this.markerGroupMap;a.each(function(a){a.__keep=!1});var d=this.type+"Model";b.eachSeries(function(a){var e=a[d];e&&this.renderSeries(a,e,b,c)},this);a.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});jm.extend({type:"markPoint",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(os(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout(b))},this)},renderSeries:function(a,b,c,d){c=a.coordinateSystem;var e=a.id,f=a.getData(),g=this.markerGroupMap,e=g.get(e)||g.set(e,new Yd),h=Xy(c,a,b);b.setData(h);os(b.getData(),a,d);h.each(function(a){var c=h.getItemModel(a),d=c.getShallow("symbolSize");"function"==typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a)));h.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.normal.color")||f.getVisual("color"),symbol:c.getShallow("symbol")})});e.updateData(h);this.group.add(e.group);h.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})});e.__keep=!0;e.group.silent=b.get("silent")||a.get("silent")}});oa(function(a){a.markPoint=a.markPoint||{}});Wh.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});var $y=function(a,b,c,d){var e=a.getData(),f=d.type;if(!A(d)&&("min"===f||"max"===f||"average"===f||null!=d.xAxis||null!=d.yAxis)){var g;null!=d.yAxis||null!=d.xAxis?(g=null!=d.yAxis?"y":"x",b.getAxis(g),e=Ea(d.yAxis,d.xAxis)):(b=ls(d,e,b,a),g=b.valueDataDim,b.valueAxis,e=Rk(e,g,f));g="x"===g?0:1;var h=1-g;b=G(d);var k={};b.type=null;b.coord=[];k.coord=[];b.coord[h]=-1/0;k.coord[h]=1/0;c=c.get("precision");0<=c&&"number"==typeof e&&(e=+e.toFixed(Math.min(c,20)));b.coord[g]=k.coord[g]=e;d=[b,k,{type:f,valueIndex:d.valueIndex,value:e}]}return d=[wf(a,d[0]),wf(a,d[1]),I({},d[2])],d[2].type=d[2].type||"",L(d[2],d[0]),L(d[2],d[1]),d};jm.extend({type:"markLine",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=b.getData(),g=b.__from,h=b.__to;g.each(function(b){Tk(g,b,!0,a,c);Tk(h,b,!1,a,c)});d.each(function(a){d.setItemLayout(a,[g.getItemLayout(a),h.getItemLayout(a)])});this.markerGroupMap.get(a.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function e(b,c,e){var f=b.getItemModel(c);Tk(b,c,e,a,d);b.setItemVisual(c,{symbolSize:f.get("symbolSize")||p[e?0:1],symbol:f.get("symbol",!0)||n[e?0:1],color:f.get("itemStyle.normal.color")||g.getVisual("color")})}c=a.coordinateSystem;var f=a.id,g=a.getData(),h=this.markerGroupMap,f=h.get(f)||h.set(f,new Mg);this.group.add(f.group);c=Zy(c,a,b);var k=c.from,l=c.to,m=c.line;b.__from=k;b.__to=l;b.setData(m);var n=b.get("symbol"),p=b.get("symbolSize");A(n)||(n=[n,n]);"number"==typeof p&&(p=[p,p]);c.from.each(function(a){e(k,a,!0);e(l,a,!1)});m.each(function(a){var b=m.getItemModel(a).get("lineStyle.normal.color");m.setItemVisual(a,{color:b||k.getItemVisual(a,"color")});m.setItemLayout(a,[k.getItemLayout(a),l.getItemLayout(a)]);m.setItemVisual(a,{fromSymbolSize:k.getItemVisual(a,"symbolSize"),fromSymbol:k.getItemVisual(a,"symbol"),toSymbolSize:l.getItemVisual(a,"symbolSize"),toSymbol:l.getItemVisual(a,"symbol")})});f.updateData(m);c.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})});f.__keep=!0;f.group.silent=b.get("silent")||a.get("silent")}});oa(function(a){a.markLine=a.markLine||{}});Wh.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}});var cz=function(a,b,c,d){b=wf(a,d[0]);a=wf(a,d[1]);d=b.coord;c=a.coord;d[0]=Ea(d[0],-1/0);d[1]=Ea(d[1],-1/0);c[0]=Ea(c[0],1/0);c[1]=Ea(c[1],1/0);d=Ae([{},b,a]);return d.coord=[b.coord,a.coord],d.x0=b.x,d.y0=b.y,d.x1=a.x,d.y1=a.y,d},Ut=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];jm.extend({type:"markArea",updateLayout:function(a,b,c){b.eachSeries(function(a){var b=a.markAreaModel;if(b){var d=b.getData();d.each(function(b){var e=w(Ut,function(e){return qs(d,b,e,a,c)});d.setItemLayout(b,e);d.getItemGraphicEl(b).setShape("points",e)})}},this)},renderSeries:function(a,b,c,d){c=a.coordinateSystem;var e=a.name,f=a.getData(),g=this.markerGroupMap,h=g.get(e)||g.set(e,{group:new F});this.group.add(h.group);h.__keep=!0;var k=bz(c,a,b);b.setData(k);k.each(function(b){k.setItemLayout(b,w(Ut,function(c){return qs(k,b,c,a,d)}));k.setItemVisual(b,{color:f.getVisual("color")})});k.diff(h.__data).add(function(a){var b=new Oa({shape:{points:k.getItemLayout(a)}});k.setItemGraphicEl(a,b);h.group.add(b)}).update(function(a,c){var d=h.__data.getItemGraphicEl(c);Z(d,{shape:{points:k.getItemLayout(a)}},b,a);h.group.add(d);k.setItemGraphicEl(a,d)}).remove(function(a){a=h.__data.getItemGraphicEl(a);h.group.remove(a)}).execute();k.eachItemGraphicEl(function(a,c){var d=k.getItemModel(c),e=d.getModel("label.normal"),f=d.getModel("label.emphasis"),g=k.getItemVisual(c,"color");a.useStyle(J(d.getModel("itemStyle.normal").getItemStyle(),{fill:Tf(g,.4),stroke:g}));a.hoverStyle=d.getModel("itemStyle.emphasis").getItemStyle();Cb(a.style,a.hoverStyle,e,f,{labelFetcher:b,labelDataIndex:c,defaultText:k.getName(c)||"",isRectText:!0,autoColor:g});ma(a,{});a.dataModel=b});h.__data=k;h.group.silent=b.get("silent")||a.get("silent")}});oa(function(a){a.markArea=a.markArea||{}});V.registerSubTypeDefaulter("timeline",function(){return"slider"});X({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(a,b){var c=b.getComponent("timeline");return c&&null!=a.currentIndex&&(c.setCurrentIndex(a.currentIndex),!c.get("loop",!0)&&c.isIndexMax()&&c.setPlayState(!1)),b.resetOption("timeline"),J({currentIndex:c.option.currentIndex},a)});X({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(a,b){var c=b.getComponent("timeline");c&&null!=a.playState&&c.setPlayState(a.playState)});var Vt=V.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2E3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{color:"#000"},emphasis:{}},data:[]},init:function(a,b,c){this._data;this._names;this.mergeDefaultAndTheme(a,c);this._initData()},mergeOption:function(a){Vt.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(a){null==a&&(a=this.option.currentIndex);var b=this._data.count();this.option.loop?a=(a%b+b)%b:(a>=b&&(a=b-1),0>a&&(a=0));this.option.currentIndex=a},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(a){this.option.autoPlay=!!a},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var a=this.option,b=a.data||[],a=a.axisType,c=this._names=[];if("category"===a){var d=[];r(b,function(a,b){var e,f=We(a);T(a)?(e=G(a)).value=b:e=b;d.push(e);Da(f)||null!=f&&!isNaN(f)||(f="");c.push(f+"")});b=d}(this._data=new pa([{name:"value",type:{category:"ordinal",time:"time"}[a]||"number"}],this)).initData(b,c)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});M(Vt.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,color:"#304654"},emphasis:{show:!0,color:"#c23531"}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),vl);var pB=dc.extend({type:"timeline"}),Xh=function(a,b,c,d){Aa.call(this,a,b,c);this.type=d||"value";this._autoLabelInterval;this.model=null};Xh.prototype={constructor:Xh,getLabelInterval:function(){var a=this.model,b=a.getModel("label.normal"),c=b.get("interval");return null!=c&&"auto"!=c?c:((c=this._autoLabelInterval)||(c=this._autoLabelInterval=Oo(w(this.scale.getTicks(),this.dataToCoord,this),uj(this,b.get("formatter")),b.getFont(),"horizontal"===a.get("orient")?0:90,b.get("rotate"))),c)},isLabelIgnored:function(a){if("category"===this.type){var b=this.getLabelInterval();return"function"==typeof b&&!b(a,this.scale.getLabel(a))||a%(b+1)}}};ka(Xh,Aa);var km=Math.PI;pB.extend({type:"timeline.slider",init:function(a,b){this.api=b;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(a,b,c,d){if(this.model=a,this.api=c,this.ecModel=b,this.group.removeAll(),a.get("show",!0)){var e=this._layout(a,c),f=this._createGroup("mainGroup");b=this._createGroup("labelGroup");var g=this._axis=this._createAxis(e,a);a.formatTooltip=function(a){return ia(g.scale.getLabel(a))};r(["AxisLine","AxisTick","Control","CurrentPointer"],function(b){this["_render"+b](e,f,g,a)},this);this._renderAxisLabel(e,b,g,a);this._position(e,a)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(a,b){var c=a.get("label.normal.position"),d=a.get("orient"),e;e=ya(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()},a.get("padding"));null==c||"auto"===c?c="horizontal"===d?e.y+e.height/2<b.getHeight()/2?"-":"+":e.x+e.width/2<b.getWidth()/2?"+":"-":isNaN(c)&&(c={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[d][c]);var f={horizontal:"center",vertical:0<=c||"+"===c?"left":"right"},g={horizontal:0<=c||"+"===c?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:km/2},k="vertical"===d?e.height:e.width,l=a.getModel("controlStyle"),m=l.get("show"),n=m?l.get("itemSize"):0,p=m?l.get("itemGap"):0,q=n+p,t=a.get("label.normal.rotate")||0,t=t*km/180,r,v,x,w,y=l.get("position",!0),E=(m=l.get("show",!0))&&l.get("showPlayBtn",!0),D=m&&l.get("showPrevBtn",!0),l=m&&l.get("showNextBtn",!0),m=0,A=k;return"left"===y||"bottom"===y?(E&&(r=[0,0],m+=q),D&&(v=[m,0],m+=q),l&&(x=[A-n,0],A-=q)):(E&&(r=[A-n,0],A-=q),D&&(v=[0,0],m+=q),l&&(x=[A-n,0],A-=q)),w=[m,A],a.get("inverse")&&w.reverse(),{viewRect:e,mainLength:k,orient:d,rotation:h[d],labelRotation:t,labelPosOpt:c,labelAlign:a.get("label.normal.align")||f[d],labelBaseline:a.get("label.normal.verticalAlign")||a.get("label.normal.baseline")||g[d],playPosition:r,prevBtnPosition:v,nextBtnPosition:x,axisExtent:w,controlSize:n,controlGap:p}},_position:function(a,b){function c(a){var b=a.position;a.origin=[n[0][0]-b[0],n[1][0]-b[1]]}function d(a){return[[a.x,a.x+a.width],[a.y,a.y+a.height]]}function e(a,b,c,d,e){a[d]+=c[d][e]-b[d][e]}var f=this._mainGroup,g=this._labelGroup,h=a.viewRect;if("vertical"===a.orient){var k=Yb(),l=h.x,m=h.y+h.height;Mb(k,k,[-l,-m]);Xc(k,k,-km/2);Mb(k,k,[l,m]);(h=h.clone()).applyTransform(k)}var n=d(h),m=d(f.getBoundingRect()),h=d(g.getBoundingRect()),k=f.position,l=g.position;l[0]=k[0]=n[0][0];var p=a.labelPosOpt;isNaN(p)?(e(k,m,n,1,m="+"===p?0:1),e(l,h,n,1,1-m)):(e(k,m,n,1,0<=p?0:1),l[1]=k[1]+p);f.attr("position",k);g.attr("position",l);f.rotation=g.rotation=a.rotation;c(f);c(g)},_createAxis:function(a,b){var c=b.getData(),d=b.get("axisType"),e=Wd(b,d),f=c.getDataExtent("value");e.setExtent(f[0],f[1]);this._customizeScale(e,c);e.niceTicks();c=new Xh("value",e,a.axisExtent,d);return c.model=b,c},_customizeScale:function(a,b){a.getTicks=function(){return b.mapArray(["value"],function(a){return a})};a.getTicksLabels=function(){return w(this.getTicks(),a.getLabel,a)}},_createGroup:function(a){a=this["_"+a]=new F;return this.group.add(a),a},_renderAxisLine:function(a,b,c,d){a=c.getExtent();d.get("lineStyle.show")&&b.add(new pb({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:I({lineCap:"round"},d.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(a,b,c,d){var e=d.getData();a=c.scale.getTicks();r(a,function(a,g){var f=c.dataToCoord(a),k=e.getItemModel(g),l=k.getModel("itemStyle.normal"),m=k.getModel("itemStyle.emphasis"),f={position:[f,0],onclick:z(this._changeTimeline,this,g)},l=ss(k,l,b,f);ma(l,m.getItemStyle());k.get("tooltip")?(l.dataIndex=g,l.dataModel=d):l.dataIndex=l.dataModel=null},this)},_renderAxisLabel:function(a,b,c,d){var e=d.getModel("label.normal");if(e.get("show")){var f=d.getData();d=c.scale.getTicks();var g=uj(c,e.get("formatter")),h=c.getLabelInterval();r(d,function(d,e){if(!c.isLabelIgnored(e,h)){var k=f.getItemModel(e),l=k.getModel("label.normal"),k=k.getModel("label.emphasis"),p=c.dataToCoord(d),p=new Q({position:[p,0],rotation:a.labelRotation-a.rotation,onclick:z(this._changeTimeline,this,e),silent:!1});la(p.style,l,{text:g[e],textAlign:a.labelAlign,textVerticalAlign:a.labelBaseline});b.add(p);ma(p,la({},k))}},this)}},_renderControl:function(a,b,c,d){function e(a,c,e,m){if(a){var n=l;a={position:a,origin:[f/2,0],rotation:m?-g:0,rectHover:!0,style:h,onclick:e};c=Ue(d.get(c).replace(/^path:\/\//,""),G(a||{}),new U(n[0],n[1],n[2],n[3]),"center");b.add(c);ma(c,k)}}var f=a.controlSize,g=a.rotation,h=d.getModel("controlStyle.normal").getItemStyle(),k=d.getModel("controlStyle.emphasis").getItemStyle(),l=[0,-f/2,f,f];c=d.getPlayState();var m=d.get("inverse",!0);e(a.nextBtnPosition,"controlStyle.nextIcon",z(this._changeTimeline,this,m?"-":"+"));e(a.prevBtnPosition,"controlStyle.prevIcon",z(this._changeTimeline,this,m?"+":"-"));e(a.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),z(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(a,b,c,d){a=d.getData();var e=d.getCurrentIndex();a=a.getItemModel(e).getModel("checkpointStyle");var f=this;this._currentPointer=ss(a,a,this._mainGroup,{},this._currentPointer,{onCreate:function(a){a.draggable=!0;a.drift=z(f._handlePointerDrag,f);a.ondragend=z(f._handlePointerDragend,f);ts(a,e,c,d,!0)},onUpdate:function(a){ts(a,e,c,d)}})},_handlePlayClick:function(a){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:a,from:this.uid})},_handlePointerDrag:function(a,b,c){this._clearTimer();this._pointerChangeTimeline([c.offsetX,c.offsetY])},_handlePointerDragend:function(a){this._pointerChangeTimeline([a.offsetX,a.offsetY],!0)},_pointerChangeTimeline:function(a,b){var c=this._toAxisCoord(a)[0],d=Nb(this._axis.getExtent().slice());c>d[1]&&(c=d[1]);c<d[0]&&(c=d[0]);this._currentPointer.position[0]=c;this._currentPointer.dirty();c=this._findNearestTick(c);d=this.model;(b||c!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(c)},_doPlayStop:function(){this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(z(function(){var a=this.model;this._changeTimeline(a.getCurrentIndex()+(a.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(a){return Za(a,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(a){var b,c=this.model.getData(),d=1/0,e=this._axis;return c.each(["value"],function(c,g){var f=e.dataToCoord(c),f=Math.abs(f-a);f<d&&(d=f,b=g)}),b},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(a){var b=this.model.getCurrentIndex();"+"===a?a=b+1:"-"===a&&(a=b-1);this.api.dispatchAction({type:"timelineChange",currentIndex:a,from:this.uid})}});oa(function(a){a=a&&a.timeline;A(a)||(a=a?[a]:[]);r(a,function(a){a&&dz(a)})});var qB=gb({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(a){qB.superApply(this,"mergeDefaultAndTheme",arguments);r(this.option.feature,function(a,c){var b=Rc[c];b&&L(a,b.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});ua({type:"toolbox",render:function(a,b,c,d){function e(e,g){var h,n=m[e],p=m[g],r=new W(k[n],a,a.ecModel);if(n&&!p){if(0===n.indexOf("my"))h={model:r,onclick:r.option.onclick,featureName:n};else{h=Rc[n];if(!h)return;h=new h(r,b,c)}l[n]=h}else{if(!(h=l[p]))return;h.model=r;h.ecModel=b;h.api=c}n||!p?r.get("show")&&!h.unusable?(f(r,h,n),r.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{};c.iconStatus[a]=b;d[a]&&d[a].trigger(b)},h.render&&h.render(r,b,c,d)):h.remove&&h.remove(b,c):h.dispose&&h.dispose(b,c)}function f(d,e,f){var k=d.getModel("iconStyle"),l=e.getIcons?e.getIcons():d.get("icon"),m=d.get("title")||{};"string"==typeof l&&(m={},(l={})[f]=l,m[f]=m);var n=d.iconPaths={};r(l,function(f,l){var p=Ve(f,{},{x:-h/2,y:-h/2,width:h,height:h});p.setStyle(k.getModel("normal").getItemStyle());p.hoverStyle=k.getModel("emphasis").getItemStyle();ma(p);a.get("showTitle")&&(p.__title=m[l],p.on("mouseover",function(){var a=k.getModel("emphasis").getItemStyle();p.setStyle({text:m[l],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){p.setStyle({textFill:null})}));p.trigger(d.get("iconStatus."+l)||"normal");g.add(p);p.on("click",z(e.onclick,e,b,c,l));n[l]=p})}var g=this.group;if(g.removeAll(),a.get("show")){var h=+a.get("itemSize"),k=a.get("feature")||{},l=this._features||(this._features={}),m=[];r(k,function(a,b){m.push(b)});(new Ac(this._featureNames||[],m)).add(e).update(e).remove(C(e,null)).execute();this._featureNames=m;qy(g,a,c);g.add(xr(g.getBoundingRect(),a));g.eachChild(function(a){var b=a.__title,d=a.hoverStyle;if(d&&b){var b=ac(b,Ym(d)),e=a.position[0]+g.position[0],f=!1;a.position[1]+g.position[1]+h+b.height>c.getHeight()&&(d.textPosition="top",f=!0);a=f?-5-b.height:h+8;e+b.width/2>c.getWidth()?(d.textPosition=["100%",a],d.textAlign="right"):0>e-b.width/2&&(d.textPosition=[0,a],d.textAlign="left")}})}},updateView:function(a,b,c,d){r(this._features,function(a){a.updateView&&a.updateView(a.model,b,c,d)})},updateLayout:function(a,b,c,d){r(this._features,function(a){a.updateLayout&&a.updateLayout(a.model,b,c,d)})},remove:function(a,b){r(this._features,function(c){c.remove&&c.remove(a,b)});this.group.removeAll()},dispose:function(a,b){r(this._features,function(c){c.dispose&&c.dispose(a,b)})}});kh.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"].slice()};kh.prototype.unusable=!ca.canvasSupported;kh.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),f=c.get("type",!0)||"png";e.download=d+"."+f;e.target="_blank";var g=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")});if(e.href=g,"function"!=typeof MouseEvent||ca.browser.ie||ca.browser.edge)if(window.navigator.msSaveOrOpenBlob){e=atob(g.split(",")[1]);g=e.length;for(c=new Uint8Array(g);g--;)c[g]=e.charCodeAt(g);e=new Blob([c]);window.navigator.msSaveOrOpenBlob(e,d+"."+f)}else d=c.get("lang"),d='\x3cbody style\x3d"margin:0;"\x3e\x3cimg src\x3d"'+g+'" style\x3d"max-width:100%;" title\x3d"'+(d&&d[0]||"")+'" /\x3e\x3c/body\x3e',window.open().document.write(d);else d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),e.dispatchEvent(d)};Rc.saveAsImage=kh;Uk.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:G({line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}),option:{},seriesIndex:{}};var Wt=Uk.prototype;Wt.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return r(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c};var Xt={line:function(a,b,c,d){if("bar"===a)return L({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.line")||{},!0)},bar:function(a,b,c,d){if("line"===a)return L({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.bar")||{},!0)},stack:function(a,b,c,d){if("line"===a||"bar"===a)return L({id:b,stack:"__ec_magicType_stack__"},d.get("option.stack")||{},!0)},tiled:function(a,b,c,d){if("line"===a||"bar"===a)return L({id:b,stack:""},d.get("option.tiled")||{},!0)}},rB=[["line","bar"],["stack","tiled"]];Wt.onclick=function(a,b,c){var d=this.model,e=d.get("seriesIndex."+c);if(Xt[c]){var f={series:[]};r(rB,function(a){0<=S(a,c)&&r(a,function(a){d.setIconStatus(a,"normal")})});d.setIconStatus(c,"emphasis");a.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(b){var e=Xt[c](b.subType,b.id,b,d);e&&(J(e,b.option),f.series.push(e));if((e=b.coordinateSystem)&&"cartesian2d"===e.type&&("line"===c||"bar"===c)&&(e=e.getAxesByScale("ordinal")[0])){e=e.dim+"Axis";b=a.queryComponents({mainType:e,index:b.get(name+"Index"),id:b.get(name+"Id")})[0].componentIndex;f[e]=f[e]||[];for(var g=0;g<=b;g++)f[e][b]=f[e][b]||{};f[e][b].boundaryGap="bar"===c}});b.dispatchAction({type:"changeMagicType",currentType:c,newOption:f})}};X({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)});Rc.magicType=Uk;var lh=Array(60).join("-"),td="\t",Vk=new RegExp("["+td+"]+","g");yf.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:G("\u6570\u636e\u89c6\u56fe"),lang:G(["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};yf.prototype.onclick=function(a,b){function c(){d.removeChild(f);v._dom=null}var d=b.getDom(),e=this.model;this._dom&&d.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";f.style.backgroundColor=e.get("backgroundColor")||"#fff";var g=document.createElement("h4"),h=e.get("lang")||[];g.innerHTML=h[0]||e.get("title");g.style.cssText="margin: 10px 20px;";g.style.color=e.get("textColor");var k=document.createElement("div"),l=document.createElement("textarea");k.style.cssText="display:block;width:100%;overflow:auto;";var m=e.get("optionToContent"),n=e.get("contentToOption"),p=hz(a);"function"==typeof m?(m=m(b.getOption()),"string"==typeof m?k.innerHTML=m:ze(m)&&k.appendChild(m)):(k.appendChild(l),l.readOnly=e.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=e.get("textColor"),l.style.borderColor=e.get("textareaBorderColor"),l.style.backgroundColor=e.get("textareaColor"),l.value=p.value);var q=p.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",r=document.createElement("div"),u=document.createElement("div"),m=m+(";background-color:"+e.get("buttonColor")),m=m+(";color:"+e.get("buttonTextColor")),v=this;Xf(r,"click",c);Xf(u,"click",function(){var a;try{a="function"==typeof n?n(k,b.getOption()):jz(l.value,q)}catch(P){throw c(),Error("Data view format error "+P);}a&&b.dispatchAction({type:"changeDataView",newOption:a});c()});r.innerHTML=h[1];u.innerHTML=h[2];u.style.cssText=m;r.style.cssText=m;!e.get("readOnly")&&p.appendChild(u);p.appendChild(r);Xf(l,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+td+b.substring(d);this.selectionStart=this.selectionEnd=c+1;ec(a)}});f.appendChild(g);f.appendChild(k);f.appendChild(p);k.style.height=d.clientHeight-80+"px";d.appendChild(f);this._dom=f};yf.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};yf.prototype.dispose=function(a,b){this.remove(a,b)};Rc.dataView=yf;X({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];r(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];d?(d=d.get("data"),c.push({name:a.name,data:kz(a.data,d)})):c.push(I({type:"scatter"},a))});b.mergeOption(J({series:c},a.newOption))});var us=r,Xk="\x00_ec_hist_store";fm.extend({type:"dataZoom.select"});gm.extend({type:"dataZoom.select"});Yk.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:G({zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"})};var xe=Yk.prototype;xe.render=function(a,b,c,d){this.model=a;this.ecModel=b;this.api=c;nz(a,b,this,d,c);a.setIconStatus("back",1<Wk(b).length?"emphasis":"normal")};xe.onclick=function(a,b,c){sB[c].call(this)};xe.remove=function(a,b){this._brushController.unmount()};xe.dispose=function(a,b){this._brushController.dispose()};var sB={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(mz(this.ecModel))}};xe._onBrush=function(a,b){function c(a,b,c){b=b.getAxis(a);var g=b.model;a=d(a,g,f);g=a.findRepresentativeAxisProxy(g).getMinMaxSpan();null==g.minValueSpan&&null==g.maxValueSpan||(c=ve(0,c.slice(),b.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan));a&&(e[a.id]={dataZoomId:a.id,startValue:c[0],endValue:c[1]})}function d(a,b,c){var d;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(c){c.getAxisModel(a,b.componentIndex)&&(d=c)}),d}if(b.isEnd&&a.length){var e={},f=this.ecModel;this._brushController.updateCovers([]);(new ch(vs(this.model.option),f,{include:["grid"]})).matchOutputRanges(a,f,function(a,b,d){"cartesian2d"===d.type&&(a=a.brushType,"rect"===a?(c("x",d,b[0]),c("y",d,b[1])):c({lineX:"x",lineY:"y"}[a],d,b))});lz(f,e);this._dispatchZoomAction(e)}};xe._dispatchZoomAction=function(a){var b=[];r(a,function(a,d){b.push(G(a))});b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})};Rc.dataZoom=Yk;oa(function(a){function b(a,b){if(b){var e=a+"Index",f=b[e];null==f||"all"==f||A(f)||(f=!1===f||"none"===f?[]:[f]);c(a,function(b,c){if(null==f||"all"==f||-1!==S(f,c)){var g={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+a+c};g[e]=c;d.push(g)}})}}function c(b,c){var d=a[b];A(d)||(d=d?[d]:[]);r(d,c)}if(a){var d=a.dataZoom||(a.dataZoom=[]);A(d)||(a.dataZoom=d=[d]);var e=a.toolbox;e&&(A(e)&&(e=e[0]),e&&e.feature)&&(e=e.feature.dataZoom,b("xAxis",e),b("yAxis",e))}});Zk.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"\u8fd8\u539f"};Zk.prototype.onclick=function(a,b,c){a[Xk]=null;b.dispatchAction({type:"restore",from:this.uid})};Rc.restore=Zk;X({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});var Tc,Yt="undefined"==typeof window?null:window,ws=!1,Va=Yt&&Yt.document;if(Va&&!ca.canvasSupported)try{!Va.namespaces.zrvml&&Va.namespaces.add("zrvml","urn:schemas-microsoft-com:vml"),Tc=function(a){return Va.createElement("\x3czrvml:"+a+' class\x3d"zrvml"\x3e')}}catch(a){Tc=function(a){return Va.createElement("\x3c"+a+' xmlns\x3d"urn:schemas-microsoft-com:vml" class\x3d"zrvml"\x3e')}}var Dd=Fa.CMD,ha=Math.round,Kf=Math.sqrt,tB=Math.abs,Zt=Math.cos,$t=Math.sin,lm=Math.max;if(!ca.canvasSupported){var mm=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},Ub=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},Lf=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},nm=function(a,b,c){return 1E5*(parseFloat(a)||0)+1E3*(parseFloat(b)||0)+c},au=function(a,b){return"string"==typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a},bu=function(a,b,c){b=jb(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},uB=function(a){a=jb(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},vB=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof Nc){var e,f=0,g=[0,0],h=0,k=1,l=c.getBoundingRect(),m=l.width,n=l.height;if("linear"===d.type){e="gradient";var p=c.transform,q=[d.x*m,d.y*n],l=[d.x2*m,d.y2*n];p&&(da(q,q,p),da(l,l,p));0>(f=180*Math.atan2(l[0]-q[0],l[1]-q[1])/Math.PI)&&(f+=360);1E-6>f&&(f=0)}else e="gradientradial",q=[d.x*m,d.y*n],p=c.transform,h=c.scale,k=m,g=[(q[0]-l.x)/k,(q[1]-l.y)/n],p&&da(q,q,p),k/=21600*h[0],n/=21600*h[1],k=lm(k,n),h=0/k,k=2*d.r/k-h;q=d.colorStops.slice();q.sort(function(a,b){return a.offset-b.offset});l=q.length;p=[];d=[];for(n=0;n<l;n++)m=q[n],c=uB(m.color),d.push(m.offset*k+h+" "+c[0]),0!==n&&n!==l-1||p.push(c);2<=l&&(h=p[0][0],k=p[1][0],q=p[0][1]*b.opacity,b=p[1][1]*b.opacity,a.type=e,a.method="none",a.focus="100%",a.angle=f,a.color=h,a.color2=k,a.colors=d.join(","),a.opacity=b,a.opacity2=q);"radial"===e&&(a.focusposition=g.join(","))}else bu(a,d,b.opacity)},Yh=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof Nc&&Lf(a,f),f||(f=Tc(b)),e?vB(f,c,d):(b=f,null!=c.lineDash&&(b.dashstyle=c.lineDash.join(" ")),null==c.stroke||c.stroke instanceof Nc||bu(b,c.stroke,c.opacity)),Ub(a,f)):(a[e?"filled":"stroked"]="false",Lf(a,f))},Xa=[[],[],[]];ea.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=Tc("shape"),mm(c),this._vmlEl=c);Yh(c,"fill",b,this);Yh(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var g=b.lineWidth;e&&!b.strokeNoScale&&(g*=Kf(tB(d[0]*d[3]-d[1]*d[2])));f.weight=g+"px"}var h=this.path||(this.path=new Fa);this.__dirtyPath&&(h.beginPath(),this.buildPath(h,this.shape),h.toStatic(),this.__dirtyPath=!1);var d=c,k,e=this.transform,l,m,n,p,f=Dd.M,g=Dd.C,q=Dd.L,r=Dd.A,u=Dd.Q,v=[],x=h.data,w=h.len();for(m=0;m<w;){switch(k=x[m++],l="",h=0,k){case f:l=" m ";h=1;n=x[m++];p=x[m++];Xa[0][0]=n;Xa[0][1]=p;break;case q:l=" l ";h=1;n=x[m++];p=x[m++];Xa[0][0]=n;Xa[0][1]=p;break;case u:case g:l=" c ";var h=3,y,A,D=x[m++],z=x[m++],B=x[m++],C=x[m++];k===u?(y=B,A=C,B=(B+2*D)/3,C=(C+2*z)/3,D=(n+2*D)/3,z=(p+2*z)/3):(y=x[m++],A=x[m++]);Xa[0][0]=D;Xa[0][1]=z;Xa[1][0]=B;Xa[1][1]=C;Xa[2][0]=y;Xa[2][1]=A;n=y;p=A;break;case r:p=n=0;C=B=1;D=0;e&&(n=e[4],p=e[5],B=Kf(e[0]*e[0]+e[1]*e[1]),C=Kf(e[2]*e[2]+e[3]*e[3]),D=Math.atan2(-e[1]/C,e[0]/B));var F=x[m++],G=x[m++],I=x[m++],J=x[m++],K=x[m++]+D,L=x[m++]+K+D;m++;var M=x[m++],O=F+Zt(K)*I,Q=G+$t(K)*J,D=F+Zt(L)*I,z=G+$t(L)*J,R=M?" wa ":" at ";1E-4>Math.abs(O-D)&&(.01<Math.abs(L-K)?M&&(O+=.0125):1E-4>Math.abs(Q-G)?M&&O<F||!M&&O>F?z-=.0125:z+=.0125:M&&Q<G||!M&&Q>G?D+=.0125:D-=.0125);v.push(R,ha(21600*((F-I)*B+n)-10800),",",ha(21600*((G-J)*C+p)-10800),",",ha(21600*((F+I)*B+n)-10800),",",ha(21600*((G+J)*C+p)-10800),",",ha(21600*(O*B+n)-10800),",",ha(21600*(Q*C+p)-10800),",",ha(21600*(D*B+n)-10800),",",ha(21600*(z*C+p)-10800));n=D;p=z;break;case Dd.R:D=Xa[0];z=Xa[1];D[0]=x[m++];D[1]=x[m++];z[0]=D[0]+x[m++];z[1]=D[1]+x[m++];e&&(da(D,D,e),da(z,z,e));D[0]=ha(21600*D[0]-10800);z[0]=ha(21600*z[0]-10800);D[1]=ha(21600*D[1]-10800);z[1]=ha(21600*z[1]-10800);v.push(" m ",D[0],",",D[1]," l ",z[0],",",D[1]," l ",z[0],",",z[1]," l ",D[0],",",z[1]);break;case Dd.Z:v.push(" x ")}if(0<h)for(v.push(l),l=0;l<h;l++)D=Xa[l],e&&da(D,D,e),v.push(ha(21600*D[0]-10800),",",ha(21600*D[1]-10800),l<h-1?",":"")}k=v.join("");d.path=k;c.style.zIndex=nm(this.zlevel,this.z,this.z2);Ub(a,c);null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};ea.prototype.onRemove=function(a){Lf(a,this._vmlEl);this.removeRectText(a)};ea.prototype.onAdd=function(a){Ub(a,this._vmlEl);this.appendRectText(a)};db.prototype.brushVML=function(a){var b,c,d=this.style,e=d.image;if("object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()){var f=e.src;if(f===this._imageSrc)b=this._imageWidth,c=this._imageHeight;else{var g=e.runtimeStyle,h=g.width,k=g.height;g.width="auto";g.height="auto";b=e.width;c=e.height;g.width=h;g.height=k;this._imageSrc=f;this._imageWidth=b;this._imageHeight=c}e=f}else e===this._imageSrc&&(b=this._imageWidth,c=this._imageHeight);if(e){var l=d.x||0,m=d.y||0,n=d.width,p=d.height,q=d.sWidth,r=d.sHeight,g=d.sx||0,h=d.sy||0,k=q&&r;(f=this._vmlEl)||(f=Va.createElement("div"),mm(f),this._vmlEl=f);var u,v=f.style,x=!1,w=1,y=1;if(this.transform&&(u=this.transform,w=Kf(u[0]*u[0]+u[1]*u[1]),y=Kf(u[2]*u[2]+u[3]*u[3]),x=u[1]||u[2]),x){var z=[l,m],A=[l+n,m],B=[l,m+p],C=[l+n,m+p];da(z,z,u);da(A,A,u);da(B,B,u);da(C,C,u);x=lm(z[0],A[0],B[0],C[0]);z=lm(z[1],A[1],B[1],C[1]);A=[];A.push("M11\x3d",u[0]/w,",","M12\x3d",u[2]/y,",","M21\x3d",u[1]/w,",","M22\x3d",u[3]/y,",","Dx\x3d",ha(l*w+u[4]),",","Dy\x3d",ha(m*y+u[5]));v.padding="0 "+ha(x)+"px "+ha(z)+"px 0";v.filter="progid:DXImageTransform.Microsoft.Matrix("+A.join("")+", SizingMethod\x3dclip)"}else u&&(l=l*w+u[4],m=m*y+u[5]),v.filter="",v.left=ha(l)+"px",v.top=ha(m)+"px";u=this._imageEl;l=this._cropEl;u||(u=Va.createElement("div"),this._imageEl=u);var F=u.style;if(k){if(b&&c)F.width=ha(w*b*n/q)+"px",F.height=ha(y*c*p/r)+"px";else{var G=new Image,I=this;G.onload=function(){G.onload=null;b=G.width;c=G.height;F.width=ha(w*b*n/q)+"px";F.height=ha(y*c*p/r)+"px";I._imageWidth=b;I._imageHeight=c;I._imageSrc=e};G.src=e}l||((l=Va.createElement("div")).style.overflow="hidden",this._cropEl=l);k=l.style;k.width=ha((n+g*n/q)*w);k.height=ha((p+h*p/r)*y);k.filter="progid:DXImageTransform.Microsoft.Matrix(Dx\x3d"+-g*n/q*w+",Dy\x3d"+-h*p/r*y+")";l.parentNode||f.appendChild(l);u.parentNode!=l&&l.appendChild(u)}else F.width=ha(w*n)+"px",F.height=ha(y*p)+"px",f.appendChild(u),l&&l.parentNode&&(f.removeChild(l),this._cropEl=null);u="";g=d.opacity;1>g&&(u+=".Alpha(opacity\x3d"+ha(100*g)+") ");F.filter=u+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d"+e+", SizingMethod\x3dscale)");f.style.zIndex=nm(this.zlevel,this.z,this.z2);Ub(a,f);null!=d.text&&this.drawRectText(a,this.getBoundingRect())}};db.prototype.onRemove=function(a){Lf(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};db.prototype.onAdd=function(a){Ub(a,this._vmlEl);this.appendRectText(a)};var Ed,om={},pm=0,wB=document.createElement("div");!function(a,b){Tm[a]=b}("measureText",function(a,b){var c=Va;Ed||((Ed=c.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Va.body.appendChild(Ed));try{Ed.style.font=b}catch(d){}return Ed.innerHTML="",Ed.appendChild(c.createTextNode(a)),{width:Ed.offsetWidth}});for(var qm=new U,cu=[wh,sb,db,ea,Q],rm=0;rm<cu.length;rm++){var sm=cu[rm].prototype;sm.drawRectText=function(a,b,c,d){var e=this.style;this.__dirty&&Me(e);var f=e.text;if(null!=f&&(f+=""),f){if(e.rich){for(var g=wi(f,e),f=[],h=0;h<g.lines.length;h++){for(var k=g.lines[h].tokens,l=[],m=0;m<k.length;m++)l.push(k[m].text);f.push(l.join(""))}f=f.join("\n")}var g=e.textAlign,h=e.textVerticalAlign,n,k=e.font,l=om[k];if(!l){100<pm&&(pm=0,om={});l=wB.style;try{l.font=k,n=l.fontFamily.split(",")[0]}catch(u){}l={style:l.fontStyle||"normal",variant:l.fontVariant||"normal",weight:l.fontWeight||"normal",size:0|parseFloat(l.fontSize||12),family:n||"Microsoft YaHei"};om[k]=l;pm++}n=l;n=n.style+" "+n.variant+" "+n.weight+" "+n.size+'px "'+n.family+'"';c=c||ac(f,n,g,h);k=this.transform;(k&&!d&&(qm.copy(b),qm.applyTransform(k),b=qm),d)?(l=b.x,b=b.y):(m=e.textPosition,l=e.textDistance,m instanceof Array?(l=b.x+au(m[0],b.width),b=b.y+au(m[1],b.height),g=g||"left"):(m=xi(m,b,l),l=m.x,b=m.y,g=g||m.textAlign,h=h||m.textVerticalAlign));l=Ke(l,c.width,g);b=Le(b,c.height,h);b+=c.height/2;var p,q,r;(c=this._textVmlEl)?q=(r=c.firstChild).nextSibling.nextSibling:(c=Tc("line"),p=Tc("path"),q=Tc("textpath"),r=Tc("skew"),q.style["v-text-align"]="left",mm(c),p.textpathok=!0,q.on=!0,c.from="0 0",c.to="1000 0.05",Ub(c,r),Ub(c,p),Ub(c,q),this._textVmlEl=c);p=[l,b];g=c.style;k&&d?(da(p,p,k),r.on=!0,r.matrix=k[0].toFixed(3)+","+k[2].toFixed(3)+","+k[1].toFixed(3)+","+k[3].toFixed(3)+",0,0",r.offset=(ha(p[0])||0)+","+(ha(p[1])||0),r.origin="0 0",g.left="0px",g.top="0px"):(r.on=!1,g.left=ha(l)+"px",g.top=ha(b)+"px");q.string=String(f).replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;");try{q.style.font=n}catch(u){}Yh(c,"fill",{fill:e.textFill,opacity:e.opacity},this);Yh(c,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this);c.style.zIndex=nm(this.zlevel,this.z,this.z2);Ub(a,c)}};sm.removeRectText=function(a){Lf(a,this._textVmlEl);this._textVmlEl=null};sm.appendRectText=function(a){Ub(a,this._textVmlEl)}}Q.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};Q.prototype.onRemove=function(a){this.removeRectText(a)};Q.prototype.onAdd=function(a){this.appendRectText(a)}}nh.prototype={constructor:nh,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];d.invisible||d.ignore?(d.__alreadyNotVisible||d.onRemove(b),d.__alreadyNotVisible=!0):(d.__alreadyNotVisible&&d.onAdd(b),d.__alreadyNotVisible=!1,d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush()));d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){a=null==a?this._getWidth():a;b=null==b?this._getHeight():b;if(this._width!=a||this._height!=b){this._width=a;this._height=b;var c=this._vmlViewport.style;c.width=a+"px";c.height=b+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0}};r("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){nh.prototype[a]=pz(a)});pe.vml=nh;var qz="http://www.w3.org/2000/svg",Fd=Fa.CMD,rz=Array.prototype.join,vd="none",$k=Math.round,du=Math.sin,eu=Math.cos,tm=Math.PI,Zh=2*Math.PI,xB=180/tm,ai={brush:function(a){var b=a.style,c=a.__svgEl;c||(c=ud("path"),a.__svgEl=c);a.path||a.createPathProxy();var d=a.path;if(a.__dirtyPath){d.beginPath();a.buildPath(d,a.shape);a.__dirtyPath=!1;var e;e=[];for(var f=d.data,d=d.len(),g=0;g<d;){var h="",k=0;switch(f[g++]){case Fd.M:h="M";k=2;break;case Fd.L:h="L";k=2;break;case Fd.Q:h="Q";k=4;break;case Fd.C:h="C";k=6;break;case Fd.A:var l=f[g++],m=f[g++],n=f[g++],p=f[g++],q=f[g++],r=f[g++],u=f[g++],v=f[g++],w=Math.abs(r),z=w%Zh,z=1E-4>z&&-1E-4<z&&!(1E-4>w&&-1E-4<w),w=w>=Zh||!(1E-4>w&&-1E-4<w)&&(r>-tm&&0>r||r>tm)==!!v,y=ob(l+n*eu(q)),A=ob(m+p*du(q));z&&(r=v?Zh-1E-4:1E-4-Zh,w=!0,9===g&&e.push("M",y,A));l=ob(l+n*eu(q+r));m=ob(m+p*du(q+r));e.push("A",ob(n),ob(p),$k(u*xB),+w,+v,l,m);break;case Fd.Z:h="Z";break;case Fd.R:l=ob(f[g++]),m=ob(f[g++]),n=ob(f[g++]),p=ob(f[g++]),e.push("M",l,m,"L",l+n,m,"L",l+n,m+p,"L",l,m+p,"L",l,m)}h&&e.push(h);for(h=0;h<k;h++)e.push(ob(f[g++]))}e=e.join(" ");0>e.indexOf("NaN")&&aa(c,"d",e)}xs(c,b);al(c,a.transform);null!=b.text&&$h(a,a.getBoundingRect())}},fu={brush:function(a){var b=a.style,c=b.image;if(c instanceof HTMLImageElement&&(c=c.src),c){var d=b.x||0,e=b.y||0,f=b.width,g=b.height,h=a.__svgEl;h||(h=ud("image"),a.__svgEl=h);c!==a.__imageSrc&&(h.setAttributeNS("http://www.w3.org/1999/xlink","href",c),a.__imageSrc=c);aa(h,"width",f);aa(h,"height",g);aa(h,"x",d);aa(h,"y",e);al(h,a.transform);null!=b.text&&$h(a,a.getBoundingRect())}}},bi={},um=new U,$h=function(a,b,c){var d=a.style;a.__dirty&&Me(d);var e=d.text;if(null!=e){var e=e+"",f=a.__textSvgEl;if(f||(f=ud("text"),a.__textSvgEl=f),xs(f,d,!0),a instanceof Q||a.style.transformText)al(f,a.transform);else if(a.transform)um.copy(b),um.applyTransform(a.transform),b=um;else{var g=a.transformCoordToGlobal(b.x,b.y);b.x=g[0];b.y=g[1]}var h,k=d.textPosition;h=d.textDistance;var l=d.textAlign||"left";"number"==typeof d.fontSize&&(d.fontSize+="px");var m=d.font||[d.fontStyle||"",d.fontWeight||"",d.fontSize||"",d.fontFamily||""].join(" ")||Je,n=ys(d.textVerticalAlign),g=(c=ac(e,m,l,n)).lineHeight;k instanceof Array?(h=b.x+k[0],b=b.y+k[1]):(l=xi(k,b,h),h=l.x,b=l.y,n=ys(l.textVerticalAlign),l=l.textAlign);aa(f,"alignment-baseline",n);m&&(f.style.font=m);var p=d.textPadding;aa(f,"x",h);aa(f,"y",b);var d=e.split("\n"),k=d.length,q=l;"left"===q?(q="start",p&&(h+=p[3])):"right"===q?(q="end",p&&(h-=p[1])):"center"===q&&(q="middle",p&&(h+=(p[3]-p[1])/2));l=0;if("baseline"===n?(l=-c.height+g,p&&(l-=p[2])):"middle"===n?(l=(-c.height+g)/2,p&&(b+=(p[0]-p[2])/2)):p&&(l+=p[0]),a.__text!==e||a.__textFont!==m){p=a.__tspanList||[];a.__tspanList=p;for(c=0;c<k;c++)(r=p[c])?r.innerHTML="":(r=p[c]=ud("tspan"),f.appendChild(r),aa(r,"alignment-baseline",n),aa(r,"text-anchor",q)),aa(r,"x",h),aa(r,"y",b+c*g+l),r.appendChild(document.createTextNode(d[c]));for(;c<p.length;c++)f.removeChild(p[c]);p.length=k;a.__text=e;a.__textFont=m}else if(a.__tspanList.length)for(e=a.__tspanList.length,c=0;c<e;++c){var r=a.__tspanList[c];r&&(aa(r,"x",h),aa(r,"y",b+c*g+l))}}};bi.drawRectText=$h;bi.brush=function(a){var b=a.style;null!=b.text&&(b.textPosition=[0,0],$h(a,{x:b.x||0,y:b.y||0,width:0,height:0},a.getBoundingRect()))};zs.prototype={diff:function(a,b,c){c||(c=function(a,b){return a===b});this.equals=c;var d=this;a=a.slice();var e=(b=b.slice()).length,f=a.length,g=1;c=e+f;var h=[{newPos:-1,components:[]}],k=this.extractCommon(h[0],b,a,0);if(h[0].newPos+1>=e&&k+1>=f){c=[];for(k=0;k<b.length;k++)c.push(k);return[{indices:c,count:b.length}]}for(;g<=c;)if(k=function(){for(var c=-1*g;c<=g;c+=2){var k,n=h[c-1],p=h[c+1],q=(p?p.newPos:0)-c;n&&(h[c-1]=void 0);var r=n&&n.newPos+1<e,u=p&&0<=q&&q<f;if(r||u){if(!r||u&&n.newPos<p.newPos?(k={newPos:p.newPos,components:p.components.slice(0)},d.pushComponent(k.components,void 0,!0)):((k=n).newPos++,d.pushComponent(k.components,!0,void 0)),q=d.extractCommon(k,b,a,c),k.newPos+1>=e&&q+1>=f){c=k.components;k=0;n=c.length;for(q=p=0;k<n;k++)if(r=c[k],r.removed){for(var u=[],v=q;v<q+r.count;v++)u.push(v);r.indices=u;q+=r.count}else{u=[];for(v=p;v<p+r.count;v++)u.push(v);r.indices=u;p+=r.count;r.added||(q+=r.count)}return c}h[c]=k}else h[c]=void 0}g++}())return k},pushComponent:function(a,b,c){var d=a[a.length-1];d&&d.added===b&&d.removed===c?a[a.length-1]={count:d.count+1,added:b,removed:c}:a.push({count:1,added:b,removed:c})},extractCommon:function(a,b,c,d){var e=b.length,f=c.length,g=a.newPos;d=g-d;for(var h=0;g+1<e&&d+1<f&&this.equals(b[g+1],c[d+1]);)g++,d++,h++;return h&&a.components.push({count:h}),a.newPos=g,d},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}};var yB=new zs;ja.prototype.createElement=ud;ja.prototype.getDefs=function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(this.createElement("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]};ja.prototype.update=function(a,b){if(a){var c=this.getDefs(!1);a._dom&&c.contains(a._dom)?"function"==typeof b&&b():(c=this.add(a))&&(a._dom=c)}};ja.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)};ja.prototype.removeDom=function(a){this.getDefs(!1).removeChild(a._dom)};ja.prototype.getDoms=function(){var a=this.getDefs(!1);if(!a)return[];var b=[];return r(this._tagNames,function(c){c=a.getElementsByTagName(c);b=b.concat([].slice.call(c))}),b};ja.prototype.markAllUnused=function(){var a=this;r(this.getDoms(),function(b){b[a._markLabel]="0"})};ja.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")};ja.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this;r(this.getDoms(),function(c){"1"!==c[b._markLabel]&&a.removeChild(c)})}};ja.prototype.getSvgProxy=function(a){return a instanceof ea?ai:a instanceof db?fu:a instanceof Q?bi:ai};ja.prototype.getTextSvgElement=function(a){return a.__textSvgEl};ja.prototype.getSvgElement=function(a){return a.__svgEl};ka(wd,ja);wd.prototype.addWithoutUpdate=function(a,b){if(b&&b.style){var c=this;r(["fill","stroke"],function(d){if(b.style[d]&&("linear"===b.style[d].type||"radial"===b.style[d].type)){var e,f=b.style[d],g=c.getDefs(!0);f._dom?(e=f._dom,g.contains(f._dom)||c.addDom(e)):e=c.add(f);c.markUsed(b);e=e.getAttribute("id");a.setAttribute(d,"url(#"+e+")")}})}};wd.prototype.add=function(a){var b;if("linear"===a.type)b=this.createElement("linearGradient");else{if("radial"!==a.type)return null;b=this.createElement("radialGradient")}return a.id=a.id||this.nextId++,b.setAttribute("id","zr-gradient-"+a.id),this.updateDom(a,b),this.addDom(b),b};wd.prototype.update=function(a){var b=this;ja.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;"linear"===c&&"linearGradient"===d||"radial"===c&&"radialGradient"===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})};wd.prototype.updateDom=function(a,b){if("linear"===a.type)b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",a.y2);else{if("radial"!==a.type)return;b.setAttribute("cx",a.x);b.setAttribute("cy",a.y);b.setAttribute("r",a.r)}a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox");b.innerHTML="";for(var c=a.colorStops,d=0,e=c.length;d<e;++d){var f=this.createElement("stop");f.setAttribute("offset",100*c[d].offset+"%");f.setAttribute("stop-color",c[d].color);b.appendChild(f)}a._dom=b};wd.prototype.markUsed=function(a){if(a.style){var b=a.style.fill;b&&b._dom&&ja.prototype.markUsed.call(this,b._dom);(b=a.style.stroke)&&b._dom&&ja.prototype.markUsed.call(this,b._dom)}};ka(zf,ja);zf.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);(b=this.getTextSvgElement(a))&&this.updateDom(b,a.__clipPaths,!0);this.markUsed(a)};zf.prototype.updateDom=function(a,b,c){if(b&&0<b.length){var d,e,f=this.getDefs(!0),g=b[0],h=c?"_textDom":"_dom";g[h]?(e=g[h].getAttribute("id"),d=g[h],f.contains(d)||f.appendChild(d)):(e="zr-clip-"+this.nextId,++this.nextId,(d=this.createElement("clipPath")).setAttribute("id",e),f.appendChild(d),g[h]=d);f=this.getSvgProxy(g);g.transform&&g.parent.invTransform&&!c?(h=Array.prototype.slice.call(g.transform),Wc(g.transform,g.parent.invTransform,g.transform),f.brush(g),g.transform=h):f.brush(g);g=this.getSvgElement(g);d.appendChild(g.cloneNode());a.setAttribute("clip-path","url(#"+e+")");1<b.length&&this.updateDom(d,b.slice(1),c)}else a&&a.setAttribute("clip-path","none")};zf.prototype.markUsed=function(a){var b=this;a.__clipPaths&&0<a.__clipPaths.length&&r(a.__clipPaths,function(a){a._dom&&ja.prototype.markUsed.call(b,a._dom);a._textDom&&ja.prototype.markUsed.call(b,a._textDom)})};var ci=function(a,b){this.root=a;this.storage=b;var c=ud("svg");c.setAttribute("xmlns","http://www.w3.org/2000/svg");c.setAttribute("version","1.1");c.setAttribute("baseProfile","full");c.style["user-select"]="none";this.gradientManager=new wd(c);this.clipPathManager=new zf(c);var d=document.createElement("div");d.style.cssText="overflow: hidden;";this._svgRoot=c;this._viewport=d;a.appendChild(d);d.appendChild(c);this.resize();this._visibleList=[]};ci.prototype={constructor:ci,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},_paintList:function(a){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();var b,c=this._svgRoot,d=this._visibleList,e=a.length,f=[];for(b=0;b<e;b++){var g;g=m=a[b];g=g instanceof ea?ai:g instanceof db?fu:g instanceof Q?bi:ai;m.invisible||(m.__dirty&&(g&&g.brush(m),this.clipPathManager.update(m),m.style&&(this.gradientManager.update(m.style.fill),this.gradientManager.update(m.style.stroke)),m.__dirty=!1),f.push(m))}var h;a=yB.diff(d,f,void 0);for(b=0;b<a.length;b++)if((k=a[b]).removed)for(l=0;l<k.count;l++)e=(m=d[k.indices[l]]).__svgEl,g=m.__textSvgEl,e&&c&&e.parentNode===c&&c.removeChild(e),g&&c&&g.parentNode===c&&c.removeChild(g);for(b=0;b<a.length;b++){var k=a[b];if(k.added)for(l=0;l<k.count;l++)e=(m=f[k.indices[l]]).__svgEl,g=m.__textSvgEl,h?oh(c,e,h):As(c,e),e?oh(c,g,e):h?oh(c,g,h):As(c,g),oh(c,g,e),h=g||e||h,this.gradientManager.addWithoutUpdate(e,m),this.clipPathManager.markUsed(m);else if(!k.removed)for(var l=0;l<k.count;l++){var m=f[k.indices[l]];h=e=m.__textSvgEl||m.__svgEl||h;this.gradientManager.markUsed(m);this.gradientManager.addWithoutUpdate(e,m);this.clipPathManager.markUsed(m)}}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this._visibleList=f},_getDefs:function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(ud("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},resize:function(){var a=this._getWidth(),b=this._getHeight();if(this._width!==a&&this._height!==b){this._width=a;this._height=b;var c=this._viewport.style;c.width=a+"px";c.height=b+"px";c=this._svgRoot;c.setAttribute("width",a);c.setAttribute("height",b)}},getWidth:function(){return this._getWidth()},getHeight:function(){return this._getHeight()},_getWidth:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=document.defaultView.getComputedStyle(a);return(a.clientHeight||parseInt(b.height,10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToSvg:function(){this.refresh();return"data:img/svg+xml;utf-8,"+unescape(this._svgRoot.outerHTML)}};r("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){ci.prototype[a]=sz(a)});pe.svg=ci;K.version="3.8.4";K.dependencies={zrender:"3.7.3"};K.PRIORITY=se;K.init=function(a,b,c){var d=pj(a);if(d)return d;b=new $e(a,b,c);return b.id="ec_"+Nz++,kd[b.id]=b,a.setAttribute?a.setAttribute(wg,b.id):a[wg]=b.id,lv(b),b};K.connect=function(a){if(A(a)){var b=a;a=null;r(b,function(b){null!=b.group&&(a=b.group)});a=a||"g_"+Oz++;r(b,function(b){b.group=a})}return vg[a]=!0,a};K.disConnect=zo;K.disconnect=zo;K.dispose=function(a){"string"==typeof a?a=kd[a]:a instanceof $e||(a=pj(a));a instanceof $e&&!a.isDisposed()&&a.dispose()};K.getInstanceByDom=pj;K.getInstanceById=function(a){return kd[a]};K.registerTheme=function(a,b){qo[a]=b};K.registerPreprocessor=oa;K.registerProcessor=Ua;K.registerPostUpdate=function(a){nj.push(a)};K.registerAction=X;K.registerCoordinateSystem=qj;K.getCoordinateSystemDimensions=function(a){if(a=fb.get(a))return a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice()};K.registerLayout=ta;K.registerVisual=na;K.registerLoading=Fo;K.extendComponentModel=gb;K.extendComponentView=ua;K.extendSeriesModel=bf;K.extendChartView=Na;K.setCanvasCreator=function(a){ph.createCanvas=a};K.registerMap=function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson);"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))());Ef[a]={geoJson:b,specialAreas:c}};K.getMap=function(a){return Ef[a]};K.dataTool={};K.zrender=Az;K.graphic=Pa;K.number=Bz;K.format=Cz;K.throttle=kj;K.helper=Zz;K.matrix=wz;K.vector=uz;K.color=xz;K.util=Ws;K.List=pa;K.Model=W;K.Axis=Aa;K.env=ca;K.parseGeoJson=Vs});